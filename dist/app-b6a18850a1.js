!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ae.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Z.each(e.match(de)||[],function(e,n){t[n]=!0}),t}function s(){J.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xe.test(n)?Z.parseJSON(n):n}catch(i){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),s=ve.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Z.event.add(t,i,l[i][n])}ye.hasData(e)&&(a=ye.access(e),u=Z.extend({},a),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ne.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function x(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function b(e){var t=J,n=$e[e];return n||(n=x(e,t),"none"!==n&&n||(We=(We||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),n=x(e,t),We.detach()),$e[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||_e(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),Be.test(s)&&Ie.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ge.length;i--;)if(t=Ge[i]+n,t in e)return t;return r}function N(e,t,n){var r=Xe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Z.css(e,n+Te[o],!0,i)),r?("content"===n&&(s-=Z.css(e,"padding"+Te[o],!0,i)),"margin"!==n&&(s-=Z.css(e,"border"+Te[o]+"Width",!0,i))):(s+=Z.css(e,"padding"+Te[o],!0,i),"padding"!==n&&(s+=Z.css(e,"border"+Te[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=_e(e),s="border-box"===Z.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),Be.test(i))return i;r=s&&(Q.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function S(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[s]=ve.access(r,"olddisplay",b(r.nodeName)))):(i=Ce(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function j(){return setTimeout(function(){Qe=void 0}),Qe=Z.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Te[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c,f=this,p={},d=e.style,h=e.nodeType&&Ce(e),g=ve.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Z.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||b(e.nodeName):l,"inline"===c&&"none"===Z.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ke.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||Z.style(e,r)}else l=void 0;if(Z.isEmptyObject(p))"inline"===("none"===l?b(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(h=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!h),h?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(r in p)s=L(h?g[r]:0,r,f),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=Z.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=tt.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qe||j(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qe||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);s>o;o++)if(r=tt[o].call(l,e,c,l.opts))return r;return Z.map(c,L,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(de)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,Z.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function M(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||Nt.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function I(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],_=B.slice,z=B.concat,X=B.push,U=B.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q={},J=e.document,K="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:K,constructor:Z,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Z.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i):void 0},now:Date.now,support:Q}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,d,h,g;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&O){if(11!==a&&(i=ye.exec(e)))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&M(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!F||!F.test(e))){if(d=f=W,h=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=k(e),(f=t.getAttribute("id"))?d=f.replace(be,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);h=xe.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return K.apply(n,h.querySelectorAll(g)),n}catch(m){}finally{f||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=q.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[I,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[W]||(t[W]={}),(a=u[r])&&a[0]===I&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[W]&&(i=v(i)),o&&!o[W]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,v=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:m(v,p,e,a,u),x=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=m(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=m(x===s?x.splice(h,x.length):x),o?o(null,s,x,u):K.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>a;a++)if(n=T.relative[e[a].type])c=[d(h(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;i>r&&!T.relative[e[r].type];r++);return v(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],y=D,x=r||o&&T.find.TAG("*",l),b=I+=null==y?1:Math.random()||.1,w=x.length;for(l&&(D=s!==q&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(I=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,s,a);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=Q.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(I=b,D=y),g};return i?r(s):s}var b,w,T,C,N,k,E,S,D,j,A,L,q,H,O,F,P,R,M,W="sizzle"+1*new Date,$=e.document,I=0,B=0,_=n(),z=n(),X=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,K=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(se),de=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(G=Z.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(Ne){K={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,H=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),O=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return H.appendChild(e).id=W,!r.getElementsByName||!r.getElementsByName(W).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},P=[],F=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){H.appendChild(e).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+W+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+W+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",se)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(H.compareDocumentPosition),M=t||ve.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===$&&M($,e)?-1:t===r||t.ownerDocument===$&&M($,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:j?ee(j,e)-ee(j,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},r):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&L(e),n=n.replace(fe,"='$1']"),w.matchesSelector&&O&&(!P||!P.test(n))&&(!F||!F.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===I&&l[1],p=l[0]===I&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[I,d,p];break}}else if(y&&(l=(t[W]||(t[W]={}))[e])&&l[0]===I)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[W]||(f[W]={}))[e]=[I,p]),f!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=ee(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ue,"$1"));return i[W]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,k=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){(!r||(i=le.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ce.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in T.filter)!(i=he[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):z(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),o[W]?r.push(o):i.push(o);o=X(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,f=!r&&k(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&O&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(we,Te),xe.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return K.apply(n,r),n;break}}return(l||E(e,f))(r,t,!O,n,xe.test(e)&&c(t.parentNode)||t),n},w.sortStable=W.split("").sort(U).join("")===W,w.detectDuplicates=!!A,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=ie,Z.expr=ie.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ie.uniqueSort,Z.text=ie.getText,Z.isXMLDoc=ie.isXML,Z.contains=ie.contains;var oe=Z.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;
if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(i[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),se.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,ue=Z(J);var fe=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(Z(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(pe[e]||Z.unique(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,he={};Z.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Z.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(t){Z.each(t,function(t,n){var r=Z.type(n);"function"===r?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var s=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,u=1===a?e:Z.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),ge.promise(t)},Z.ready.promise();var me=Z.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Z(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new a,ye=new a,xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Z.isArray(n)?r=ve.access(e,t,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Ne=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";Q.focusinBubbles="onfocusin"in e;var Ee=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ve.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof Z!==ke&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(de)||[""],l=t.length;l--;)a=je.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=Z.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Z.event.special[d]||{},c=Z.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Z.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ve.hasData(e)&&ve.get(e);if(m&&(u=m.events)){for(t=(t||"").match(de)||[""],l=t.length;l--;)if(a=je.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=Z.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||Z.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)Z.event.remove(e,d+t[l],n,r,!0);Z.isEmptyObject(u)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||J],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!De.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Z.expando]?t:new Z.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),f=Z.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Z.isWindow(r)){for(u=f.delegateType||d,De.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||J)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Z.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Z.acceptData(r)||l&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[l],a&&(r[l]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=Z.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Se.test(i)?this.mouseHooks:Ee.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Z.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,qe=/<|&#?\w+;/,He=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,Pe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,Z.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;d>p;p++)if(i=e[p],i||0===i)if("object"===Z.type(i))Z.merge(f,i.nodeType?[i]:i);else if(qe.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Le.exec(i)||["",""])[1].toLowerCase(),a=Me[s]||Me._default,o.innerHTML=a[1]+i.replace(Ae,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Z.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||-1===Z.inArray(i,r))&&(u=Z.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Fe.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Z.event.special,s=0;void 0!==(n=e[s]);s++){if(Z.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!He.test(e)&&!Me[(Le.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=Z.isFunction(p);if(g||l>1&&"string"==typeof p&&!Q.checkClone&&Oe.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(v(n,"script"),d),o=i.length;l>u;u++)s=n,u!==f&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,h),u=0;o>u;u++)s=i[u],Fe.test(s.type||"")&&!ve.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Z(i[s])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var We,$e={},Ie=/^margin/,Be=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),_e=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Z.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var ze=/^(none|table(?!-c[ea]).+)/,Xe=new RegExp("^("+we+")(.*)$","i"),Ue=new RegExp("^([+-])=("+we+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Z.camelCase(t),u=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),s=Z.cssHooks[t]||Z.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ue.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=C(e.style,a)),s=Z.cssHooks[t]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Ye&&(i=Ye[t]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){return n?ze.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ve,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&_e(e);return N(e,n,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=T(Q.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Te[r]+t]=o[r]||o[r-2]||o[0];return i}},Ie.test(e)||(Z.cssHooks[e+t].set=N)}),Z.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},s=0;if(Z.isArray(t)){for(r=_e(e),i=t.length;i>s;s++)o[t[s]]=Z.css(e,t[s],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=D.prototype.init,Z.fx.step={};var Qe,Je,Ke=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[q],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(Z.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Z.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),s=function(){var t=O(this,Z.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,s=ve.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&et.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),
i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Qe=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Qe=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var rt,it,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return me(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(de);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Z.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var st=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return me(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(de)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===ke||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],(n.selected||u===i)&&(Q.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},Q.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var ft=/#.*$/,pt=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},xt={},bt="*/".concat("*"),wt=e.location.href,Tt=vt.exec(wt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:ht.test(Tt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:F(yt),ajaxTransport:F(xt),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=M(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(Z.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=Z.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?Z(p):Z.event,h=Z.Deferred(),g=Z.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=dt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||wt)+"").replace(ft,"").replace(mt,Tt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().match(de)||[""],null==f.crossDomain&&(u=vt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Tt[1]&&u[2]===Tt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Tt[3]||("http:"===Tt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),P(yt,f,t,w),2===x)return w;l=Z.event&&f.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!gt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ct.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=pt.test(i)?i.replace(pt,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),f.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+bt+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(xt,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(T){if(!(2>x))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Ct=/%20/g,Nt=/\[\]$/,kt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(Ct,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&St.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Dt=0,jt={},At={0:200,1223:204},Lt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in jt)jt[e]()}),Q.cors=!!Lt&&"withCredentials"in Lt,Q.ajax=Lt=!!Lt,Z.ajaxTransport(function(e){var t;return Q.cors||Lt&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),s=++Dt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete jt[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(At[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=jt[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var qt=[],Ht=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||Z.expando+"_"+lt++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Ht.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ht,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,qt.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=se.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var Ot=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ft=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=Z.css(e,"position"),f=Z(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=Z.css(e,"top"),u=Z.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==ke&&(i=r.getBoundingClientRect()),n=I(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ft;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ft})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return me(this,function(t,i,o){var s=I(t);return void 0===o?s?s[n]:t[i]:void(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=T(Q.pixelPosition,function(e,n){return n?(n=w(e,t),Be.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,s):Z.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Pt=e.jQuery,Rt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rt),t&&e.jQuery===Z&&(e.jQuery=Pt),Z},typeof t===ke&&(e.jQuery=e.$=Z),Z});
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.6",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.6",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":n.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");
o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=s.top?!1:"bottom":t-o>=n+a?!1:"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&i>=n?"top":null!=o&&l+h>=t-o?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&-1!==e?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-(1/0),o=-(1/0);if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-(1/0)&&i===-(1/0))&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null!=n?null==t||r?n[0]:m.initial(n,n.length-t):void 0},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null!=n?null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t)):void 0},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
!function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o="["+(t?t+":":"")+i+"] ",a=arguments[1],s=arguments;for(n=o+a.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<s.length?ht(s[e+2]):t}),n=n+"\nhttp://errors.angularjs.org/1.3.20/"+(t?t+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(ht(arguments[r]));return new e(n)}}function i(t){if(null==t||A(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===wr&&e?!0:w(t)||$r(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(S(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if($r(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);return t}function a(t){return Object.keys(t).sort()}function s(t,e,n){for(var r=a(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function u(t){return function(e,n){t(n,e)}}function c(){return++fr}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function f(t){for(var e=t.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;s>a;a++){var u=o[a];t[u]=i[u]}}return l(t,e),t}function h(t){return parseInt(t,10)}function $(t,e){return f(Object.create(t),e)}function p(){}function d(t){return t}function v(t){return function(){return t}}function m(t){return"undefined"==typeof t}function g(t){return"undefined"!=typeof t}function y(t){return null!==t&&"object"==typeof t}function w(t){return"string"==typeof t}function b(t){return"number"==typeof t}function x(t){return"[object Date]"===ur.call(t)}function S(t){return"function"==typeof t}function C(t){return"[object RegExp]"===ur.call(t)}function A(t){return t&&t.window===t}function E(t){return t&&t.$evalAsync&&t.$watch}function k(t){return"[object File]"===ur.call(t)}function O(t){return"[object FormData]"===ur.call(t)}function T(t){return"[object Blob]"===ur.call(t)}function M(t){return"boolean"==typeof t}function N(t){return t&&S(t.then)}function V(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function D(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function j(t){return Zn(t.nodeName||t[0]&&t[0].nodeName)}function R(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function P(t,e,n,r){if(A(t)||E(t))throw cr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw cr("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],y(t)){var i=n.indexOf(t);if(-1!==i)return r[i];n.push(t),r.push(e)}var a;if($r(t)){e.length=0;for(var s=0;s<t.length;s++)a=P(t[s],null,n,r),y(t[s])&&(n.push(t[s]),r.push(a)),e.push(a)}else{var u=e.$$hashKey;$r(e)?e.length=0:o(e,function(t,n){delete e[n]});for(var c in t)t.hasOwnProperty(c)&&(a=P(t[c],null,n,r),y(t[c])&&(n.push(t[c]),r.push(a)),e[c]=a);l(e,u)}}else if(e=t,t)if($r(t))e=P(t,[],n,r);else if(x(t))e=new Date(t.getTime());else if(C(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(y(t)){var f=Object.create(Object.getPrototypeOf(t));e=P(t,f,n,r)}return e}function _(t,e){if($r(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(y(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function I(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!$r(t)){if(x(t))return x(e)?I(t.getTime(),e.getTime()):!1;if(C(t))return C(e)?t.toString()==e.toString():!1;if(E(t)||E(e)||A(t)||A(e)||$r(e)||x(e)||C(e))return!1;o={};for(i in t)if("$"!==i.charAt(0)&&!S(t[i])){if(!I(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!S(e[i]))return!1;return!0}if(!$r(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!I(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(or.call(e,n))}function U(t,e){return or.call(t,e||0)}function F(t,e){var n=arguments.length>2?U(arguments,2):[];return!S(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:A(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":E(r)&&(i="$SCOPE"),i}function B(t,e){return"undefined"==typeof t?n:(b(e)||(e=e?2:null),JSON.stringify(t,H,e))}function L(t){return w(t)?JSON.parse(t):t}function z(t){t=nr(t).clone();try{t.empty()}catch(e){}var n=nr("<div>").append(t).html();try{return t[0].nodeType===xr?Zn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Zn(e)})}catch(e){return Zn(n)}}function G(t){try{return decodeURIComponent(t)}catch(e){}}function W(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=G(e[0]),g(n))){var i=g(e[1])?G(e[1]):!0;Kn.call(r,n)?$r(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function Y(t){var e=[];return o(t,function(t,n){$r(t)?o(t,function(t){e.push(Z(n,!0)+(t===!0?"":"="+Z(t,!0)))}):e.push(Z(n,!0)+(t===!0?"":"="+Z(t,!0)))}),e.length?e.join("&"):""}function J(t){return Z(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function K(t,e){var n,r,i=mr.length;for(t=nr(t),r=0;i>r;++r)if(n=mr[r]+e,w(n=t.attr(n)))return n;return null}function X(t,e){var n,r,i={};o(mr,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(mr,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==K(n,"strict-di"),e(n,r?[r]:[],i))}function Q(n,r,i){y(i)||(i={});var a={strictDi:!1};i=f(a,i);var s=function(){if(n=nr(n),n.injector()){var t=n[0]===e?"document":z(n);throw cr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Lt(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!c.test(t.name)?s():(t.name=t.name.replace(c,""),lr.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(S(lr.resumeDeferredBootstrap)&&lr.resumeDeferredBootstrap()))}function tt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function et(t){var e=lr.element(t).injector();if(!e)throw cr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function nt(t,e){return e=e||"_",t.replace(gr,function(t,n){return(n?e:"")+t.toLowerCase()})}function rt(){var e;yr||(rr=t.jQuery,rr&&rr.fn.on?(nr=rr,f(rr.fn,{scope:Ur.scope,isolateScope:Ur.isolateScope,controller:Ur.controller,injector:Ur.injector,inheritedData:Ur.inheritedData}),e=rr.cleanData,rr.cleanData=function(t){var n;if(hr)hr=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=rr._data(r,"events"),n&&n.$destroy&&rr(r).triggerHandler("$destroy");e(t)}):nr=wt,lr.element=nr,yr=!0)}function it(t,e,n){if(!t)throw cr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ot(t,e,n){return n&&$r(t)&&(t=t[t.length-1]),it(S(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function at(t,e){if("hasOwnProperty"===t)throw cr("badname","hasOwnProperty is not a valid {0} name",e)}function st(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&S(t)?F(o,t):t}function ut(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return nr(r)}function ct(){return Object.create(null)}function lt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],s=[],u=t("$injector","invoke","push",i),c={_invokeQueue:e,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(t){return s.push(t),this}};return a&&u(a),c})}})}function ft(t){var e=[];return JSON.stringify(t,function(t,n){if(n=H(t,n),y(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function ht(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?ft(t):t}function $t(e){f(e,{bootstrap:Q,copy:P,extend:f,equals:I,element:nr,forEach:o,injector:Lt,noop:p,bind:F,toJson:B,fromJson:L,identity:d,isUndefined:m,isDefined:g,isString:w,isFunction:S,isObject:y,isNumber:b,isElement:V,isArray:$r,version:Er,isDate:x,lowercase:Zn,uppercase:Xn,callbacks:{counter:0},getTestability:et,$$minErr:r,$$csp:vr,reloadWithDebugInfo:tt}),ir=lt(t);try{ir("ngLocale")}catch(n){ir("ngLocale",[]).provider("$locale",ve)}ir("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Je}),t.provider("$compile",Kt).directive({a:Vi,input:Ji,textarea:Ji,form:_i,script:qo,select:Ho,style:Lo,option:Bo,ngBind:Xi,ngBindHtml:to,ngBindTemplate:Qi,ngClass:no,ngClassEven:io,ngClassOdd:ro,ngCloak:oo,ngController:ao,ngForm:Ii,ngHide:Do,ngIf:co,ngInclude:lo,ngInit:ho,ngNonBindable:ko,ngPluralize:Oo,ngRepeat:To,ngShow:Vo,ngStyle:jo,ngSwitch:Ro,ngSwitchWhen:Po,ngSwitchDefault:_o,ngOptions:Fo,ngTransclude:Io,ngModel:Co,ngList:$o,ngChange:eo,pattern:Go,ngPattern:Go,required:zo,ngRequired:zo,minlength:Yo,ngMinlength:Yo,maxlength:Wo,ngMaxlength:Wo,ngValue:Ki,ngModelOptions:Eo}).directive({ngInclude:fo}).directive(Di).directive(so),t.provider({$anchorScroll:zt,$animate:Zr,$browser:Yt,$cacheFactory:Jt,$controller:ee,$document:ne,$exceptionHandler:re,$filter:un,$interpolate:pe,$interval:de,$http:le,$httpBackend:he,$location:Me,$log:Ne,$parse:Be,$rootScope:Ye,$q:Le,$$q:ze,$sce:Qe,$sceDelegate:Xe,$sniffer:tn,$templateCache:Zt,$templateRequest:en,$$testability:nn,$timeout:rn,$window:sn,$$rAF:We,$$asyncCallback:Gt,$$jqLite:qt})}])}function pt(){return++Or}function dt(t){return t.replace(Nr,function(t,e,n,r){return r?n.toUpperCase():n}).replace(Vr,"Moz$1")}function vt(t){return!Pr.test(t)}function mt(t){var e=t.nodeType;return e===wr||!e||e===Cr}function gt(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(vt(t))u.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(_r.exec(t)||["",""])[1].toLowerCase(),i=qr[r]||qr._default,n.innerHTML=i[1]+t.replace(Ir,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=q(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function yt(t,n){n=n||e;var r;return(r=Rr.exec(t))?[n.createElement(r[1])]:(r=gt(t,n))?r.childNodes:[]}function wt(t){if(t instanceof wt)return t;var e;if(w(t)&&(t=pr(t),e=!0),!(this instanceof wt)){if(e&&"<"!=t.charAt(0))throw jr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new wt(t)}e?Mt(this,yt(t)):Mt(this,t)}function bt(t){return t.cloneNode(!0)}function xt(t,e){if(e||Ct(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ct(n[r])}function St(t,e,n,r){if(g(r))throw jr("offargs","jqLite#off() does not support the `selector` argument");var i=At(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(g(n)){var r=a[e];if(R(r||[],n),r&&r.length>0)return}Mr(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&Mr(t,e,s),delete a[e]}function Ct(t,e){var r=t.ng339,i=r&&kr[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),St(t)),delete kr[r],t.ng339=n}}function At(t,e){var r=t.ng339,i=r&&kr[r];return e&&!i&&(t.ng339=r=pt(),i=kr[r]={events:{},data:{},handle:n}),i}function Et(t,e,n){if(mt(t)){var r=g(n),i=!r&&e&&!y(e),o=!e,a=At(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];f(s,e)}}}function kt(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Ot(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",pr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+pr(e)+" "," ")))})}function Tt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=pr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",pr(n))}}function Mt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Nt(t,e){return Vt(t,"$"+(e||"ngController")+"Controller")}function Vt(t,e,r){t.nodeType==Cr&&(t=t.documentElement);for(var i=$r(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=nr.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===Ar&&t.host}}function Dt(t){for(xt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function jt(t,e){e||xt(t);var n=t.parentNode;n&&n.removeChild(t)}function Rt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):nr(n).on("load",e)}function Pt(t,e){var n=Fr[e.toLowerCase()];return n&&Hr[j(t)]&&n}function _t(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Br[e]}function It(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=_(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function qt(){this.$get=function(){return f(wt,{hasClass:function(t,e){return t.attr&&(t=t[0]),kt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Tt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ot(t,e)}})}}function Ut(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||c)():r+":"+t}function Ft(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Ht(t){var e=t.toString().replace(Wr,""),n=e.match(Lr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Bt(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw w(n)&&n||(n=t.name||Ht(t)),Yr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Wr,""),a=i.match(Lr),o(a[1].split(zr),function(t){t.replace(Gr,function(t,e,n){r.push(n)})})}t.$inject=r}}else $r(t)?(s=t.length-1,ot(t[s],"fn"),r=t.slice(0,s)):ot(t,"fn",!0);return r}function Lt(t,e){function r(t){return function(e,n){return y(e)?void o(e,u(t)):t(e,n)}}function i(t,e){if(at(t,"service"),(S(e)||$r(e))&&(e=E.instantiate(e)),!e.$get)throw Yr("pget","Provider '{0}' must define $get factory method.",t);return A[t+b]=e}function a(t,e){return function(){var n=O.invoke(e,this);if(m(n))throw Yr("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function c(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return s(t,v(e),!1)}function f(t,e){at(t,"constant"),A[t]=e,k[t]=e}function h(t,e){var n=E.get(t+b),r=n.$get;n.$get=function(){var t=O.invoke(r,n);return O.invoke(e,null,{$delegate:t})}}function $(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=E.get(r[0]);i[r[1]].apply(i,r[2])}}if(!C.get(t)){C.put(t,!0);try{w(t)?(e=ir(t),n=n.concat($(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):S(t)?n.push(E.invoke(t)):$r(t)?n.push(E.invoke(t)):ot(t,"module")}catch(i){throw $r(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Yr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function d(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===g)throw Yr("cdep","Circular dependency found: {0}",e+" <- "+x.join(" <- "));return t[e]}try{return x.unshift(e),t[e]=g,t[e]=n(e,r)}catch(i){throw t[e]===g&&delete t[e],i}finally{x.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,u,c=[],l=Lt.$$annotate(t,e,o);for(s=0,a=l.length;a>s;s++){if(u=l[s],"string"!=typeof u)throw Yr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);c.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return $r(t)&&(t=t[a]),t.apply(n,c)}function o(t,e,n){var r=Object.create(($r(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return y(o)||S(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Lt.$$annotate,has:function(e){return A.hasOwnProperty(e+b)||t.hasOwnProperty(e)}}}e=e===!0;var g={},b="Provider",x=[],C=new Ft([],!0),A={$provide:{provider:r(i),factory:r(s),service:r(c),value:r(l),constant:r(f),decorator:h}},E=A.$injector=d(A,function(t,e){throw lr.isString(e)&&x.push(e),Yr("unpr","Unknown provider: {0}",x.join(" <- "))}),k={},O=k.$injector=d(k,function(t,e){var r=E.get(t+b,e);return O.invoke(r.$get,r,n,t)});return o($(t),function(t){O.invoke(t||p)}),O}function zt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===j(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(S(t))t=t();else if(V(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else b(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(){var t,e=n.hash();e?(t=u.getElementById(e))?a(t):(t=i(u.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Rt(function(){r.$evalAsync(s)})}),s}]}function Gt(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Wt(t,e,r,i){function a(t){try{t.apply(null,U(arguments,1))}finally{if(C--,0===C)for(;A.length;)try{A.pop()()}catch(e){r.error(e)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function u(t,e){!function n(){o(k,function(t){t()}),E=e(n,t)}()}function c(){f(),h()}function l(){try{return y.state}catch(t){}}function f(){O=l(),O=m(O)?null:O,I(O,R)&&(O=R),R=O}function h(){(M!==d.url()||T!==O)&&(M=d.url(),T=O,o(D,function(t){t(d.url(),O)}))}function $(t){try{return decodeURIComponent(t)}catch(e){return t}}var d=this,v=e[0],g=t.location,y=t.history,b=t.setTimeout,x=t.clearTimeout,S={};d.isMock=!1;var C=0,A=[];d.$$completeOutstandingRequest=a,d.$$incOutstandingRequestCount=function(){C++},d.notifyWhenNoOutstandingRequests=function(t){o(k,function(t){t()}),0===C?t():A.push(t)};var E,k=[];d.addPollFn=function(t){return m(E)&&u(100,b),k.push(t),t};var O,T,M=g.href,N=e.find("base"),V=null;f(),T=O,d.url=function(e,n,r){if(m(r)&&(r=null),g!==t.location&&(g=t.location),y!==t.history&&(y=t.history),e){var o=T===r;if(M===e&&(!i.history||o))return d;var a=M&&be(M)===be(e);return M=e,T=r,!i.history||a&&o?((!a||V)&&(V=e),n?g.replace(e):a?g.hash=s(e):g.href=e):(y[n?"replaceState":"pushState"](r,"",e),f(),T=O),d}return V||g.href.replace(/%27/g,"'")},d.state=function(){return O};var D=[],j=!1,R=null;d.onUrlChange=function(e){return j||(i.history&&nr(t).on("popstate",c),nr(t).on("hashchange",c),j=!0),D.push(e),e},d.$$checkUrlChange=h,d.baseHref=function(){var t=N.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},_="",q=d.baseHref();d.cookies=function(t,e){var i,o,a,s,u;if(!t){if(v.cookie!==_)for(_=v.cookie,o=_.split("; "),P={},s=0;s<o.length;s++)a=o[s],u=a.indexOf("="),u>0&&(t=$(a.substring(0,u)),P[t]===n&&(P[t]=$(a.substring(u+1))));return P}e===n?v.cookie=encodeURIComponent(t)+"=;path="+q+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(e)&&(i=(v.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+q).length+1,i>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},d.defer=function(t,e){var n;return C++,n=b(function(){delete S[n],a(t)},e||0),S[n]=!0,n},d.defer.cancel=function(t){return S[t]?(delete S[t],x(t),a(p),!0):!1}}function Yt(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Wt(t,r,e,n)}]}function Jt(){this.$get=function(){function t(t,n){function i(t){t!=h&&($?$==t&&($=t.n):$=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,l={},h=null,$=null;return e[t]={put:function(t,e){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});i(n)}if(!m(e))return t in u||a++,u[t]=e,a>c&&this.remove($.key),e},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e==h&&(h=e.p),e==$&&($=e.n),o(e.n,e.p),delete l[t]}delete u[t],a--},removeAll:function(){u={},a=0,l={},h=$=null},destroy:function(){u=null,s=null,l=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Zt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Kt(t,r){function i(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(t,function(t,i){var o=t.match(n);if(!o)throw Kr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t);r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i}}),r}var a={},s="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=D("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,b=/^(on[a-z]+|formaction)$/;this.directive=function C(e,n){return at(e,"directive"),w(e)?(it(n,"directiveFactory"),a.hasOwnProperty(e)||(a[e]=[],t.factory(e+s,["$injector","$exceptionHandler",function(t,n){var r=[];return o(a[e],function(o,a){try{var s=t.invoke(o);S(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",y(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(u){n(u)}}),r}])),a[e].push(n)):o(e,u(C)),this},this.aHrefSanitizationWhitelist=function(t){return g(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(t){return g(t)?(x=t,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,u,v,g,C,A,k,O,T){function M(t,e){try{t.addClass(e)}catch(n){}}function N(t,e,n,r,i){t instanceof nr||(t=nr(t)),o(t,function(e,n){e.nodeType==xr&&e.nodeValue.match(/\S+/)&&(t[n]=nr(e).wrap("<span></span>").parent()[0])});var a=D(t,e,t,n,r,i);N.$$addScopeClass(t);var s=null;return function(e,n,r){it(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=V(u));var c;if(c="html"!==s?nr(X(s,nr("<div>").append(t).html())):n?Ur.clone.call(t):t,o)for(var l in o)c.data("$"+l+"Controller",o[l].instance);return N.$$addScopeInfo(c,e),n&&n(c,e),a&&a(e,c,c,i),c}}function V(t){var e=t&&t[0];return e&&"foreignobject"!==j(e)&&e.toString().match(/SVG/)?"svg":"html"}function D(t,e,r,i,o,a){function s(t,r,i,o){var a,s,u,c,l,f,h,$,v;if(p){var m=r.length;for(v=new Array(m),l=0;l<d.length;l+=3)h=d[l],v[h]=r[h]}else v=r;for(l=0,f=d.length;f>l;)u=v[d[l++]],a=d[l++],s=d[l++],a?(a.scope?(c=t.$new(),N.$$addScopeInfo(nr(u),c)):c=t,$=a.transcludeOnThisElement?P(t,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&e?P(t,e):null,a(s,c,u,i,$)):s&&s(t,u.childNodes,n,o)}for(var u,c,l,f,h,$,p,d=[],v=0;v<t.length;v++)u=new at,c=_(t[v],[],u,0===v?i:n,o),l=c.length?H(c,t[v],u,e,r,null,[],[],a):null,l&&l.scope&&N.$$addScopeClass(u.$$element),h=l&&l.terminal||!(f=t[v].childNodes)||!f.length?null:D(f,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||h)&&(d.push(v,l,h),$=!0,p=p||l),a=null;return $?s:null}function P(t,e,n,r){var i=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return i}function _(t,e,n,r,i){var o,a,s=t.nodeType,u=n.$attr;switch(s){case wr:L(e,Xt(j(t)),"E",r,i);for(var f,h,$,p,d,v,m=t.attributes,g=0,b=m&&m.length;b>g;g++){var x=!1,S=!1;f=m[g],h=f.name,d=pr(f.value),p=Xt(h),(v=ft.test(p))&&(h=h.replace(Xr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=p.replace(/(Start|End)$/,"");G(C)&&p===C+"Start"&&(x=h,S=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),$=Xt(h.toLowerCase()),u[$]=h,(v||!n.hasOwnProperty($))&&(n[$]=d,Pt(t,$)&&(n[$]=!0)),tt(t,e,d,$,v),L(e,$,"A",r,i,x,S)}if(a=t.className,y(a)&&(a=a.animVal),w(a)&&""!==a)for(;o=l.exec(a);)$=Xt(o[2]),L(e,$,"C",r,i)&&(n[$]=pr(o[3])),a=a.substr(o.index+o[0].length);break;case xr:K(e,t.nodeValue);break;case Sr:try{o=c.exec(t.nodeValue),o&&($=Xt(o[1]),L(e,$,"M",r,i)&&(n[$]=pr(o[2])))}catch(A){}}return e.sort(J),e}function q(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Kr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==wr&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return nr(r)}function F(t,e,n){return function(r,i,o,a,s){return i=q(i[0],e,n),t(r,i,o,a,s)}}function H(t,a,s,u,c,l,f,h,$){function p(t,e,n,r){t&&(n&&(t=F(t,n,r)),t.require=A.require,t.directiveName=k,(j===A||A.$$isolateScope)&&(t=rt(t,{isolateScope:!0})),f.push(t)),e&&(n&&(e=F(e,n,r)),e.require=A.require,e.directiveName=k,(j===A||A.$$isolateScope)&&(e=rt(e,{isolateScope:!0})),h.push(e))}function d(t,e,n,r){var i,a,s="data",u=!1,c=n;if(w(e)){if(a=e.match(m),e=e.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",c=n.parent()),"?"===a[2]&&(u=!0),i=null,r&&"data"===s&&(i=r[e])&&(i=i.instance),i=i||c[s]("$"+e+"Controller"),!i&&!u)throw Kr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return i||null}return $r(e)&&(i=[],o(e,function(e){i.push(d(t,e,n,r))})),i}function b(t,e,i,u,c){function l(t,e,r){var i;return E(t)||(r=e,e=t,t=n),G&&(i=b),r||(r=G?S.parent():S),c(t,e,i,r,T)}var $,p,m,y,w,b,x,S,A;if(a===i?(A=s,S=s.$$element):(S=nr(i),A=new at(S,s)),j&&(w=e.$new(!0)),c&&(x=l,x.$$boundTransclude=c),D&&(C={},b={},o(D,function(t){var n,r={$scope:t===j||t.$$isolateScope?w:e,$element:S,$attrs:A,$transclude:x};y=t.controller,"@"==y&&(y=A[t.name]),n=g(y,r,!0,t.controllerAs),b[t.name]=n,G||S.data("$"+t.name+"Controller",n.instance),C[t.name]=n})),j){N.$$addScopeInfo(S,w,!0,!(R&&(R===j||R===j.$$originalDirective))),N.$$addScopeClass(S,!0);var k=C&&C[j.name],O=w;k&&k.identifier&&j.bindToController===!0&&(O=k.instance),o(w.$$isolateBindings=j.$$isolateBindings,function(t,n){var i,o,a,s,u=t.attrName,c=t.optional,l=t.mode;switch(l){case"@":A.$observe(u,function(t){O[n]=t}),A.$$observers[u].$$scope=e,A[u]&&(O[n]=r(A[u])(e));break;case"=":if(c&&!A[u])return;o=v(A[u]),s=o.literal?I:function(t,e){return t===e||t!==t&&e!==e},a=o.assign||function(){throw i=O[n]=o(e),Kr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",A[u],j.name)},i=O[n]=o(e);var f=function(t){return s(t,O[n])||(s(t,i)?a(e,t=O[n]):O[n]=t),i=t};f.$stateful=!0;var h;h=t.collection?e.$watchCollection(A[u],f):e.$watch(v(A[u],f),null,o.literal),w.$on("$destroy",h);break;case"&":o=v(A[u]),O[n]=function(t){return o(e,t)}}})}for(C&&(o(C,function(t){t()}),C=null),$=0,p=f.length;p>$;$++)m=f[$],ot(m,m.isolateScope?w:e,S,A,m.require&&d(m.directiveName,m.require,S,b),x);var T=e;for(j&&(j.template||null===j.templateUrl)&&(T=w),t&&t(T,i.childNodes,n,c),$=h.length-1;$>=0;$--)m=h[$],ot(m,m.isolateScope?w:e,S,A,m.require&&d(m.directiveName,m.require,S,b),x)}$=$||{};for(var x,C,A,k,O,T,M,V=-Number.MAX_VALUE,D=$.controllerDirectives,j=$.newIsolateScopeDirective,R=$.templateDirective,P=$.nonTlbTranscludeDirective,H=!1,L=!1,G=$.hasElementTranscludeDirective,J=s.$$element=nr(a),K=l,Q=u,tt=0,nt=t.length;nt>tt;tt++){A=t[tt];var it=A.$$start,st=A.$$end;if(it&&(J=q(a,it,st)),O=n,V>A.priority)break;if((M=A.scope)&&(A.templateUrl||(y(M)?(Z("new/isolated scope",j||x,A,J),j=A):Z("new/isolated scope",j,A,J)),x=x||A),k=A.name,!A.templateUrl&&A.controller&&(M=A.controller,D=D||{},Z("'"+k+"' controller",D[k],A,J),D[k]=A),(M=A.transclude)&&(H=!0,A.$$tlb||(Z("transclusion",P,A,J),P=A),"element"==M?(G=!0,V=A.priority,O=J,J=s.$$element=nr(e.createComment(" "+k+": "+s[k]+" ")),a=J[0],et(c,U(O),a),Q=N(O,u,V,K&&K.name,{nonTlbTranscludeDirective:P})):(O=nr(bt(a)).contents(),J.empty(),Q=N(O,u))),A.template)if(L=!0,Z("template",R,A,J),R=A,M=S(A.template)?A.template(J,s):A.template,M=lt(M),A.replace){if(K=A,O=vt(M)?[]:te(X(A.templateNamespace,pr(M))),a=O[0],1!=O.length||a.nodeType!==wr)throw Kr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k,"");et(c,J,a);var ut={$attr:{}},ct=_(a,[],ut),ft=t.splice(tt+1,t.length-(tt+1));j&&B(ct),t=t.concat(ct).concat(ft),W(s,ut),nt=t.length}else J.html(M);if(A.templateUrl)L=!0,Z("template",R,A,J),R=A,A.replace&&(K=A),b=Y(t.splice(tt,t.length-tt),J,s,c,H&&Q,f,h,{controllerDirectives:D,newIsolateScopeDirective:j,templateDirective:R,nonTlbTranscludeDirective:P}),nt=t.length;else if(A.compile)try{T=A.compile(J,s,Q),S(T)?p(null,T,it,st):T&&p(T.pre,T.post,it,st)}catch(ht){i(ht,z(J))}A.terminal&&(b.terminal=!0,V=Math.max(V,A.priority))}return b.scope=x&&x.scope===!0,b.transcludeOnThisElement=H,b.elementTranscludeOnThisElement=G,b.templateOnThisElement=L,b.transclude=Q,$.hasElementTranscludeDirective=G,b}function B(t){for(var e=0,n=t.length;n>e;e++)t[e]=$(t[e],{$$isolateScope:!0})}function L(e,r,o,u,c,l,f){if(r===c)return null;var h=null;if(a.hasOwnProperty(r))for(var p,d=t.get(r+s),v=0,m=d.length;m>v;v++)try{p=d[v],(u===n||u>p.priority)&&-1!=p.restrict.indexOf(o)&&(l&&(p=$(p,{
$$start:l,$$end:f})),e.push(p),h=p)}catch(g){i(g)}return h}function G(e){if(a.hasOwnProperty(e))for(var n,r=t.get(e+s),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function W(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(M(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function Y(t,e,n,r,i,a,s,c){var l,f,h=[],p=e[0],d=t.shift(),v=$(d,{templateUrl:null,transclude:null,replace:null,$$originalDirective:d}),m=S(d.templateUrl)?d.templateUrl(e,n):d.templateUrl,g=d.templateNamespace;return e.empty(),u(m).then(function(u){var $,w,b,x;if(u=lt(u),d.replace){if(b=vt(u)?[]:te(X(g,pr(u))),$=b[0],1!=b.length||$.nodeType!==wr)throw Kr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d.name,m);w={$attr:{}},et(r,e,$);var S=_($,[],w);y(d.scope)&&B(S),t=S.concat(t),W(n,w)}else $=p,e.html(u);for(t.unshift(v),l=H(t,$,n,i,e,d,a,s,c),o(r,function(t,n){t==$&&(r[n]=e[0])}),f=D(e[0].childNodes,i);h.length;){var C=h.shift(),A=h.shift(),E=h.shift(),k=h.shift(),O=e[0];if(!C.$$destroyed){if(A!==p){var T=A.className;c.hasElementTranscludeDirective&&d.replace||(O=bt($)),et(E,nr(A),O),M(nr(O),T)}x=l.transcludeOnThisElement?P(C,l.transclude,k):k,l(f,C,O,r,x)}}h=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(h?h.push(e,n,r,o):(l.transcludeOnThisElement&&(o=P(e,l.transclude,i)),l(f,e,n,r,o)))}}function J(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Z(t,e,n,r){if(e)throw Kr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,z(r))}function K(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&N.$$addBindingClass(e),function(t,e){var i=e.parent();r||N.$$addBindingClass(i),N.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function X(t,n){switch(t=Zn(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return k.HTML;var n=j(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?k.RESOURCE_URL:void 0}function tt(t,e,n,i,o){var a=Q(t,i);o=h[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===j(t))throw Kr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",z(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var c=u.$$observers||(u.$$observers={});if(b.test(i))throw Kr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[i];l!==n&&(s=l&&r(l,!0,a,o),n=l),s&&(u[i]=s(t),(c[i]||(c[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function et(t,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var c=i,l=c+s-1,f=t.length;f>c;c++,l++)f>l?t[c]=t[l]:delete t[c];t.length-=s-1,t.context===a&&(t.context=r);break}u&&u.replaceChild(r,a);var h=e.createDocumentFragment();h.appendChild(a),nr(r).data(nr(a).data()),rr?(hr=!0,rr.cleanData([a])):delete nr.cache[a[nr.expando]];for(var $=1,p=n.length;p>$;$++){var d=n[$];nr(d).remove(),h.appendChild(d),delete n[$]}n[0]=r,n.length=1}function rt(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function ot(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,z(n))}}var at=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};at.prototype={$normalize:Xt,$addClass:function(t){t&&t.length>0&&O.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&O.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Qt(t,e);n&&n.length&&O.addClass(this.$$element,n);var r=Qt(e,t);r&&r.length&&O.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,u=this.$$element[0],c=Pt(u,t),l=_t(u,t),f=t;if(c?(this.$$element.prop(t,e),a=c):l&&(this[l]=e,f=l),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=nt(t,"-"))),s=j(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=T(e,"src"===t);else if("img"===s&&"srcset"===t){for(var h="",$=pr(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test($)?p:/(,)/,v=$.split(d),m=Math.floor(v.length/2),g=0;m>g;g++){var y=2*g;h+=T(pr(v[y]),!0),h+=" "+pr(v[y+1])}var w=pr(v[2*g]).split(/\s/);h+=T(pr(w[0]),!0),2===w.length&&(h+=" "+pr(w[1])),this[t]=e=h}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var b=this.$$observers;b&&o(b[f],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=ct()),i=r[t]||(r[t]=[]);return i.push(e),C.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){R(i,e)}}};var st=r.startSymbol(),ut=r.endSymbol(),lt="{{"==st||"}}"==ut?d:function(t){return t.replace(/\{\{/g,st).replace(/}}/g,ut)},ft=/^ngAttr[A-Z]/;return N.$$addBindingInfo=x?function(t,e){var n=t.data("$binding")||[];$r(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:p,N.$$addBindingClass=x?function(t){M(t,"ng-binding")}:p,N.$$addScopeInfo=x?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:p,N.$$addScopeClass=x?function(t,e){M(t,e?"ng-isolate-scope":"ng-scope")}:p,N}]}function Xt(t){return dt(t.replace(Xr,""))}function Qt(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function te(t){t=nr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===Sr&&ar.call(t,e,1)}return t}function ee(){var t={},e=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){at(e,"controller"),y(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,a){function s(t,e,n,i){if(!t||!y(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,u,c,l){var h,$,p,d;if(c=c===!0,l&&w(l)&&(d=l),w(r)){if($=r.match(i),!$)throw Qr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=$[1],d=d||$[3],r=t.hasOwnProperty(p)?t[p]:st(u.$scope,p,!0)||(e?st(a,p,!0):n),ot(r,p,!0)}if(c){var v=($r(r)?r[r.length-1]:r).prototype;return h=Object.create(v||null),d&&s(u,d,h,p||r.name),f(function(){return o.invoke(r,h,u,p),h},{instance:h,identifier:d})}return h=o.instantiate(r,u,p),d&&s(u,d,h,p||r.name),h}}]}function ne(){this.$get=["$window",function(t){return nr(t.document)}]}function re(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function ie(t,e){if(w(t)){var n=t.replace(ii,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(ti)||oe(n))&&(t=L(n))}}return t}function oe(t){var e=t.match(ni);return e&&ri[e[0]].test(t)}function ae(t){var e,n,r,i=ct();return t?(o(t.split("\n"),function(t){r=t.indexOf(":"),e=Zn(pr(t.substr(0,r))),n=pr(t.substr(r+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}function se(t){var e=y(t)?t:n;return function(n){if(e||(e=ae(t)),n){var r=e[Zn(n)];return void 0===r&&(r=null),r}return e}}function ue(t,e,n,r){return S(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function ce(t){return t>=200&&300>t}function le(){var t=this.defaults={transformResponse:[ie],transformRequest:[function(t){return!y(t)||k(t)||T(t)||O(t)?t:B(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:_(ei),put:_(ei),patch:_(ei)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return g(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,u,c,l,h,$){function p(e){function i(t){var e=f({},t);return t.data?e.data=ue(t.data,t.headers,t.status,u.transformResponse):e.data=t.data,ce(t.status)?e:h.reject(e)}function a(t){var e,n={};return o(t,function(t,r){S(t)?(e=t(),null!=e&&(n[r]=e)):n[r]=t}),n}function s(e){var n,r,i,o=t.headers,s=f({},e.headers);o=f({},o.common,o[Zn(e.method)]);t:for(n in o){r=Zn(n);for(i in s)if(Zn(i)===r)continue t;s[n]=o[n]}return a(s)}if(!lr.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var u=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);u.headers=s(e),u.method=Xn(u.method);var c=function(e){var r=e.headers,a=ue(e.data,se(r),n,e.transformRequest);return m(a)&&o(r,function(t,e){"content-type"===Zn(e)&&delete r[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),b(e,a).then(i,i)},l=[c,n],$=h.when(u);for(o(E,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&l.push(t.response,t.responseError)});l.length;){var p=l.shift(),d=l.shift();$=$.then(p,d)}return $.success=function(t){return ot(t,"fn"),$.then(function(e){t(e.data,e.status,e.headers,u)}),$},$.error=function(t){return ot(t,"fn"),$.then(null,function(e){t(e.data,e.status,e.headers,u)}),$},$}function d(t){o(arguments,function(t){p[t]=function(e,n){return p(f(n||{},{method:t,url:e}))}})}function v(t){o(arguments,function(t){p[t]=function(e,n,r){return p(f(r||{},{method:t,url:e,data:n}))}})}function b(r,i){function o(t,n,r,i){function o(){s(n,t,r,i)}$&&(ce(t)?$.put(x,[t,n,ae(r),i]):$.remove(x)),e?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function s(t,e,n,i){e=e>=-1?e:0,(ce(e)?v.resolve:v.reject)({data:t,status:e,headers:se(n),config:r,statusText:i})}function c(t){s(t.data,t.status,_(t.headers()),t.statusText)}function f(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var $,d,v=h.defer(),w=v.promise,b=r.headers,x=C(r.url,r.params);if(p.pendingRequests.push(r),w.then(f,f),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||($=y(r.cache)?r.cache:y(t.cache)?t.cache:A),$&&(d=$.get(x),g(d)?N(d)?d.then(c,c):$r(d)?s(d[1],d[0],_(d[2]),d[3]):s(d,200,{},"OK"):$.put(x,w)),m(d)){var S=an(r.url)?u.cookies()[r.xsrfCookieName||t.xsrfCookieName]:n;S&&(b[r.xsrfHeaderName||t.xsrfHeaderName]=S),a(r.method,x,i,o,b,r.timeout,r.withCredentials,r.responseType)}return w}function C(t,e){if(!e)return t;var n=[];return s(e,function(t,e){null===t||m(t)||($r(t)||(t=[t]),o(t,function(t){y(t)&&(t=x(t)?t.toISOString():B(t)),n.push(Z(e)+"="+Z(t))}))}),n.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var A=c("$http"),E=[];return o(i,function(t){E.unshift(w(t)?$.get(t):$.invoke(t))}),p.pendingRequests=[],d("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=t,p}]}function fe(){return new t.XMLHttpRequest}function he(){this.$get=["$browser","$window","$document",function(t,e,n){return $e(t,fe,t.defer,e.angular.callbacks,n[0])}]}function $e(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=t,r.async=!0,o=function(t){Mr(r,"load",o),Mr(r,"error",o),a.body.removeChild(r),r=null;var s=-1,u="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},Tr(r,"load",o),Tr(r,"error",o),a.body.appendChild(r),o}return function(a,u,c,l,f,h,$,d){function v(){w&&w(),b&&b.abort()}function m(e,i,o,a,s){C!==n&&r.cancel(C),w=b=null,e(i,o,a,s),t.$$completeOutstandingRequest(p)}if(t.$$incOutstandingRequestCount(),u=u||t.url(),"jsonp"==Zn(a)){var y="_"+(i.counter++).toString(36);i[y]=function(t){i[y].data=t,i[y].called=!0};var w=s(u.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){m(l,t,i[y].data,"",e),i[y]=p})}else{var b=e();b.open(a,u,!0),o(f,function(t,e){g(t)&&b.setRequestHeader(e,t)}),b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=e?200:"file"==on(u).protocol?404:0),m(l,n,e,b.getAllResponseHeaders(),t)};var x=function(){m(l,-1,null,null,"")};if(b.onerror=x,b.onabort=x,$&&(b.withCredentials=!0),d)try{b.responseType=d}catch(S){if("json"!==d)throw S}b.send(c||null)}if(h>0)var C=r(v,h);else N(h)&&h.then(v)}}function pe(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(o,a,h,$){function p(n){return n.replace(c,t).replace(l,e)}function d(t){try{return t=T(t),$&&!g(t)?t:M(t)}catch(e){var n=oi("interr","Can't interpolate: {0}\n{1}",o,e.toString());r(n)}}$=!!$;for(var v,y,w,b=0,x=[],C=[],A=o.length,E=[],k=[];A>b;){if(-1==(v=o.indexOf(t,b))||-1==(y=o.indexOf(e,v+s))){b!==A&&E.push(p(o.substring(b)));break}b!==v&&E.push(p(o.substring(b,v))),w=o.substring(v+s,y),x.push(w),C.push(n(w,d)),b=y+u,k.push(E.length),E.push("")}if(h&&E.length>1)throw oi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||x.length){var O=function(t){for(var e=0,n=x.length;n>e;e++){if($&&m(t[e]))return;E[k[e]]=t[e]}return E.join("")},T=function(t){return h?i.getTrusted(h,t):i.valueOf(t)},M=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=B(t)}return t};return f(function(t){var e=0,n=x.length,i=new Array(n);try{for(;n>e;e++)i[e]=C[e](t);return O(i)}catch(a){var s=oi("interr","Can't interpolate: {0}\n{1}",o,a.toString());r(s)}},{exp:o,expressions:x,$$watchDelegate:function(t,e,n){var r;return t.$watchGroup(C,function(n,i){var o=O(n);S(e)&&e.call(this,o,n!==i?r:o,t),r=o},n)}})}}var s=t.length,u=e.length,c=new RegExp(t.replace(/./g,o),"g"),l=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function de(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,u){var c=e.setInterval,l=e.clearInterval,f=0,h=g(u)&&!u,$=(h?r:n).defer(),p=$.promise;return s=g(s)?s:0,p.then(null,null,i),p.$$intervalId=c(function(){$.notify(f++),s>0&&f>=s&&($.resolve(f),l(p.$$intervalId),delete o[p.$$intervalId]),h||t.$apply()},a),o[p.$$intervalId]=$,p}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function ve(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function me(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=J(e[n]);return e.join("/")}function ge(t,e){var n=on(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||si[n.protocol]||null}function ye(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=on(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=W(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function we(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function be(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function xe(t){return t.replace(/(#.+)|#$/,"$1")}function Se(t){return t.substr(0,be(t).lastIndexOf("/")+1)}function Ce(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ae(t,e,r){this.$$html5=!0,r=r||"",ge(t,this),this.$$parse=function(t){var n=we(e,t);if(!w(n))throw ui("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);ye(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Y(this.$$search),n=this.$$hash?"#"+J(this.$$hash):"";this.$$url=me(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=we(t,i))!==n?(s=a,u=(a=we(r,a))!==n?e+(we("/",a)||a):t+s):(a=we(e,i))!==n?u=e+a:e==i+"/"&&(u=e),u&&this.$$parse(u),!!u}}function Ee(t,e,n){ge(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=we(t,r)||we(e,r);m(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",m(a)&&(t=r,this.replace())):(o=we(n,a),m(o)&&(o=a)),ye(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=Y(this.$$search),r=this.$$hash?"#"+J(this.$$hash):"";this.$$url=me(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return be(t)==be(e)?(this.$$parse(e),!0):!1}}function ke(t,e,n){this.$$html5=!0,Ee.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==be(r)?o=r:(a=we(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=Y(this.$$search),r=this.$$hash?"#"+J(this.$$hash):"";this.$$url=me(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url}}function Oe(t){return function(){return this[t]}}function Te(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Me(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return g(e)?(t=e,this):t},this.html5Mode=function(t){return M(t)?(e.enabled=t,this):y(t)?(M(t.enabled)&&(e.enabled=t.enabled),M(t.requireBase)&&(e.requireBase=t.requireBase),M(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(a){throw c.url(i),c.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),$=r.url();if(e.enabled){if(!h&&e.requireBase)throw ui("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=Ce($)+(h||"/"),l=i.history?Ae:ke}else f=be($),l=Ee;var p=Se(f);c=new l(f,p,"#"+t),c.$$parseLinkUrl($,$),c.$$state=r.state();var d=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=nr(t.target);"a"!==j(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=on(s.animVal).href),d.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(s,u)&&(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),xe(c.absUrl())!=xe($)&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange(function(t,e){return m(we(p,t))?void(a.location.href=t):(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(v=!1,u(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=xe(r.url()),e=xe(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function Ne(){var t=!0,e=this;this.debugEnabled=function(e){return g(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||p,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Ve(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw li("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function De(t,e){if(t+="",!w(t))throw li("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function je(t,e){if(t){if(t.constructor===t)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw li("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw li("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw li("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Re(t,e){if(t){if(t.constructor===t)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===fi||t===hi||t===$i)throw li("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Pe(t){return t.constant}function _e(t,e,n,r,i){je(t,i),je(e,i);for(var o,a=n.split("."),s=0;a.length>1;s++){o=Ve(a.shift(),i);var u=0===s&&e&&e[o]||t[o];u||(u={},t[o]=u),t=je(u,i)}return o=Ve(a.shift(),i),je(t[o],i),t[o]=r,r}function Ie(t){return"constructor"==t}function qe(t,e,r,i,o,a,s){Ve(t,a),Ve(e,a),Ve(r,a),Ve(i,a),Ve(o,a);var u=function(t){return je(t,a)},c=s||Ie(t)?u:d,l=s||Ie(e)?u:d,f=s||Ie(r)?u:d,h=s||Ie(i)?u:d,$=s||Ie(o)?u:d;return function(a,s){var u=s&&s.hasOwnProperty(t)?s:a;return null==u?u:(u=c(u[t]),e?null==u?n:(u=l(u[e]),r?null==u?n:(u=f(u[r]),i?null==u?n:(u=h(u[i]),o?null==u?n:u=$(u[o]):u):u):u):u)}}function Ue(t,e){return function(n,r){return t(n,r,je,e)}}function Fe(t,e,r){var i=e.expensiveChecks,a=i?wi:yi,s=a[t];if(s)return s;var u=t.split("."),c=u.length;if(e.csp)s=6>c?qe(u[0],u[1],u[2],u[3],u[4],r,i):function(t,e){var o,a=0;do o=qe(u[a++],u[a++],u[a++],u[a++],u[a++],r,i)(t,e),e=n,t=o;while(c>a);return o};else{var l="";i&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var f=i;o(u,function(t,e){Ve(t,r);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(i||Ie(t))&&(n="eso("+n+", fe)",f=!0),l+="if(s == null) return undefined;\ns="+n+";\n"}),l+="return s;";var h=new Function("s","l","eso","fe",l);h.toString=v(l),f&&(h=Ue(h,r)),s=h}return s.sharedGetter=!0,s.assign=function(e,n,r){return _e(e,r,t,n,t)},a[t]=s,s}function He(t){return S(t.valueOf)?t.valueOf():bi.call(t)}function Be(){var t=ct(),e=ct();this.$get=["$filter","$sniffer",function(n,r){function i(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function a(t,e){for(var n=0,r=t.length;r>n;n++){var i=t[n];i.constant||(i.inputs?a(i.inputs,e):-1===e.indexOf(i)&&e.push(i))}return e}function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=He(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function u(t,e,n,r){var i,o=r.$$inputs||(r.$$inputs=a(r.inputs,[]));if(1===o.length){var u=s;return o=o[0],t.$watch(function(t){var e=o(t);return s(e,u)||(i=r(t),u=e&&He(e)),i},e,n)}for(var c=[],l=0,f=o.length;f>l;l++)c[l]=s;return t.$watch(function(t){for(var e=!1,n=0,a=o.length;a>n;n++){var u=o[n](t);(e||(e=!s(u,c[n])))&&(c[n]=u&&He(u))}return e&&(i=r(t)),i},e,n)}function c(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,S(e)&&e.apply(this,arguments),g(t)&&r.$$postDigest(function(){g(o)&&i()})},n)}function l(t,e,n,r){function i(t){var e=!0;return o(t,function(t){g(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,S(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(t,n,r){S(e)&&e.apply(this,arguments),i()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==l&&n!==c,i=r?function(n,r){var i=t(n,r);return e(i,n,r)}:function(n,r){var i=t(n,r),o=e(i,n,r);return g(i)?o:i};return t.$$watchDelegate&&t.$$watchDelegate!==u?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=u,i.inputs=[t]),i}var $={csp:r.csp,expensiveChecks:!1},d={csp:r.csp,expensiveChecks:!0};return function(r,o,a){var s,v,m;switch(typeof r){case"string":m=r=r.trim();var g=a?e:t;if(s=g[m],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(v=!0,r=r.substring(2));var y=a?d:$,w=new mi(y),b=new gi(w,n,y);s=b.parse(r),s.constant?s.$$watchDelegate=f:v?(s=i(s),s.$$watchDelegate=s.literal?l:c):s.inputs&&(s.$$watchDelegate=u),g[m]=s}return h(s,o);case"function":return h(r,o);default:return h(p,o)}}}]}function Le(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Ge(function(e){t.$evalAsync(e)},e)}]}function ze(){this.$get=["$browser","$exceptionHandler",function(t,e){return Ge(function(e){t.defer(e)},e)}]}function Ge(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function u(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{S(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(u){i.reject(u),e(u)}}}function c(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function l(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(t){var e=new l,n=0,r=$r(t)?[]:{};return o(t,function(t,i){n++,m(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var h=r("$q",TypeError),$=function(){return new l};a.prototype={then:function(t,e,n){var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&c(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,!0,t)},function(e){return v(e,!1,t)},e)}},l.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(y(t)||S(t))&&(n=t&&t.then),S(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(S(t)?t(n):n)}catch(s){e(s)}}})}};var p=function(t){var e=new l;return e.reject(t),e.promise},d=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},v=function(t,e,n){var r=null;try{S(n)&&(r=n())}catch(i){return d(i,!1)}return N(r)?r.then(function(){return d(t,e)},function(t){return d(t,!1)}):d(t,e)},m=function(t,e,n,r){var i=new l;return i.resolve(t),i.promise.then(e,n,r)},g=function w(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!S(t))throw h("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof w))return new w(t);var r=new l;return t(e,n),r.promise};return g.defer=$,g.reject=p,g.when=m,g.all=f,g}function We(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<l.length;t++){var e=l[t];e&&(l[t]=null,e())}c=l.length=0}function r(t){var e=l.length;return c++,l.push(t),0===e&&(u=s(n)),function(){e>=0&&(l[e]=null,e=null,0===--c&&u&&(u(),u=null,l.length=0))}}var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(t){var e=i(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};r.supported=a;var u,c=0,l=[];return r}]}function Ye(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,l,f){function h(t){t.currentScope.$$destroyed=!0}function $(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function d(t){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function v(){C.$$phase=null}function g(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function b(){for(;k.length;)try{k.shift()()}catch(t){u(t)}s=null}function x(){null===s&&(s=f.defer(function(){C.$apply(b)}))}$.prototype={constructor:$,$new:function(e,n){var r;return n=n||this,e?(r=new $,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",h),r},$watch:function(t,e,n){var r=l(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r);var i=this,o=i.$$watchers,s={fn:e,last:w,get:r,exp:t,eq:!!n};return a=null,S(e)||(s.fn=p),o||(o=i.$$watchers=[]),o.unshift(s),function(){R(o,s),a=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,u;if(!m(o)){if(y(o))if(i(o)){a!==$&&(a=$,v=a.length=0,f++),e=o.length,v!==e&&(f++,a.length=v=e);for(var c=0;e>c;c++)u=a[c],s=o[c],r=u!==u&&s!==s,r||u===s||(f++,a[c]=s)}else{a!==p&&(a=p={},v=0,f++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(f++,a[n]=s)):(v++,a[n]=s,f++));if(v>e){f++;for(n in a)o.hasOwnProperty(n)||(v--,delete a[n])}}else a!==o&&(a=o,f++);return f;
}}function r(){if(d?(d=!1,e(o,o,u)):e(o,s,u),c)if(y(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Kn.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,c=e.length>1,f=0,h=l(t,n),$=[],p={},d=!0,v=0;return this.$watch(h,r)},$digest:function(){var t,r,i,o,c,l,h,$,p,m,g=e,y=this,x=[];d("$digest"),f.$$checkUrlChange(),this===C&&null!==s&&(f.defer.cancel(s),b()),a=null;do{for(l=!1,$=y;A.length;){try{m=A.shift(),m.scope.$eval(m.expression,m.locals)}catch(k){u(k)}a=null}t:do{if(o=$.$$watchers)for(c=o.length;c--;)try{if(t=o[c])if((r=t.get($))===(i=t.last)||(t.eq?I(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===a){l=!1;break t}}else l=!0,a=t,t.last=t.eq?P(r,null):r,t.fn(r,i===w?r:i,$),5>g&&(p=4-g,x[p]||(x[p]=[]),x[p].push({msg:S(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(k){u(k)}if(!(h=$.$$childHead||$!==y&&$.$$nextSibling))for(;$!==y&&!(h=$.$$nextSibling);)$=$.$parent}while($=h);if((l||A.length)&&!g--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(l||A.length);for(v();E.length;)try{E.shift()()}catch(k){u(k)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==C){for(var e in this.$$listenerCount)g(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){C.$$phase||A.length||f.defer(function(){A.length&&C.$digest()}),A.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){E.push(t)},$apply:function(t){try{return d("$apply"),this.$eval(t)}catch(e){u(e)}finally{v();try{C.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&k.push(e),x()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,g(i,1,t))}},$emit:function(t,e){var n,r,i,o=[],a=this,s=!1,c={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=q([c],arguments,1);do{for(n=a.$$listeners[t]||o,c.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,l)}catch(f){u(f)}else n.splice(r,1),r--,i--;if(s)return c.currentScope=null,c;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,r=n,i=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,c,l=q([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[t]||[],s=0,c=a.length;c>s;s++)if(a[s])try{a[s].apply(null,l)}catch(f){u(f)}else a.splice(s,1),s--,c--;if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var C=new $,A=C.$$asyncQueue=[],E=C.$$postDigestQueue=[],k=C.$$applyAsyncQueue=[];return C}]}function Je(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=on(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Ze(t){if("self"===t)return t;if(w(t)){if(t.indexOf("***")>-1)throw xi("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=dr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw xi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Ke(t){var e=[];return g(t)&&o(t,function(t){e.push(Ze(t))}),e}function Xe(){this.SCE_CONTEXTS=Si;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Ke(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Ke(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?an(e):!!t.exec(e.href)}function o(n){var r,o,a=on(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=h.hasOwnProperty(t)?h[t]:null;if(!r)throw xi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw xi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||e===n||""===e)return e;var r=h.hasOwnProperty(t)?h[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===Si.RESOURCE_URL){if(o(e))return e;throw xi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Si.HTML)return l(e);throw xi("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(t){throw xi("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(l=r.get("$sanitize"));var f=a(),h={};return h[Si.HTML]=a(f),h[Si.CSS]=a(f),h[Si.URL]=a(f),h[Si.JS]=a(f),h[Si.RESOURCE_URL]=a(h[Si.URL]),{trustAs:s,getTrusted:c,valueOf:u}}]}function Qe(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>er)throw xi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=_(Si);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=d),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Si,function(t,e){var n=Zn(e);r[dt("parse_as_"+n)]=function(e){return i(t,e)},r[dt("get_trusted_"+n)]=function(e){return a(t,e)},r[dt("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function tn(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=h((/android (\d+)/.exec(Zn((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,f=!1;if(c){for(var $ in c)if(r=u.exec($)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!o||l&&f||(l=w(s.body.style.webkitTransition),f=w(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=er)return!1;if(m(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:vr(),vendorPrefix:n,transitions:l,animations:f,android:o}}]}function en(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,r){function i(o,a){function s(t){if(!a)throw Kr("tpload","Failed to load template: {0}",o);return n.reject(t)}i.totalPendingRequests++,w(o)&&t.get(o)||(o=r.getTrustedResourceUrl(o));var u=e.defaults&&e.defaults.transformResponse;$r(u)?u=u.filter(function(t){return t!==ie}):u===ie&&(u=null);var c={cache:t,transformResponse:u};return e.get(o,c)["finally"](function(){i.totalPendingRequests--}).then(function(t){return t.data},s)}return i.totalPendingRequests=0,i}]}function nn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=lr.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+dr(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){var c,l=g(u)&&!u,f=(l?r:n).defer(),h=f.promise;return c=e.defer(function(){try{f.resolve(o())}catch(e){f.reject(e),i(e)}finally{delete a[h.$$timeoutId]}l||t.$apply()},s),h.$$timeoutId=c,a[c]=f,h}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function on(t){var e=t;return er&&(Ci.setAttribute("href",e),e=Ci.href),Ci.setAttribute("href",e),{href:Ci.href,protocol:Ci.protocol?Ci.protocol.replace(/:$/,""):"",host:Ci.host,search:Ci.search?Ci.search.replace(/^\?/,""):"",hash:Ci.hash?Ci.hash.replace(/^#/,""):"",hostname:Ci.hostname,port:Ci.port,pathname:"/"===Ci.pathname.charAt(0)?Ci.pathname:"/"+Ci.pathname}}function an(t){var e=w(t)?on(t):t;return e.protocol===Ai.protocol&&e.host===Ai.host}function sn(){this.$get=v(t)}function un(t){function e(r,i){if(y(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",hn),e("date",An),e("filter",cn),e("json",En),e("limitTo",kn),e("lowercase",Mi),e("number",$n),e("orderBy",On),e("uppercase",Ni)}function cn(){return function(t,e,n){if(!$r(t))return t;var r,i,o=null!==e?typeof e:"null";switch(o){case"function":r=e;break;case"boolean":case"null":case"number":case"string":i=!0;case"object":r=ln(e,n,i);break;default:return t}return t.filter(r)}}function ln(t,e,n){var r,i=y(t)&&"$"in t;return e===!0?e=I:S(e)||(e=function(t,e){return m(t)?!1:null===t||null===e?t===e:y(t)||y(e)?!1:(t=Zn(""+t),e=Zn(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!y(r)?fn(r,t.$,e,!1):fn(r,t,e,n)}}function fn(t,e,n,r,i){var o=null!==t?typeof t:"null",a=null!==e?typeof e:"null";if("string"===a&&"!"===e.charAt(0))return!fn(t,e.substring(1),n,r);if($r(t))return t.some(function(t){return fn(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&fn(t[s],e,n,!0))return!0;return i?!1:fn(t,e,n,!1)}if("object"===a){for(s in e){var u=e[s];if(!S(u)&&!m(u)){var c="$"===s,l=c?t:t[s];if(!fn(l,u,n,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function hn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return m(n)&&(n=e.CURRENCY_SYM),m(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:pn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function $n(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:pn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function pn(t,e,n,r,i){if(!isFinite(t)||y(t))return"";var o=0>t;t=Math.abs(t);var a=t+"",s="",u=[],c=!1;if(-1!==a.indexOf("e")){var l=a.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?t=0:(s=a,c=!0)}if(c)i>0&&1>t&&(s=t.toFixed(i),t=parseFloat(s));else{var f=(a.split(Ei)[1]||"").length;m(i)&&(i=Math.min(Math.max(e.minFrac,f),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var h=(""+t).split(Ei),$=h[0];h=h[1]||"";var p,d=0,v=e.lgSize,g=e.gSize;if($.length>=v+g)for(d=$.length-v,p=0;d>p;p++)(d-p)%g===0&&0!==p&&(s+=n),s+=$.charAt(p);for(p=d;p<$.length;p++)($.length-p)%v===0&&0!==p&&(s+=n),s+=$.charAt(p);for(;h.length<i;)h+="0";i&&"0"!==i&&(s+=r+h.substr(0,i))}return 0===t&&(o=!1),u.push(o?e.negPre:e.posPre,s,o?e.negSuf:e.posSuf),u.join("")}function dn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function vn(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),dn(o,e,r)}}function mn(t,e){return function(n,r){var i=n["get"+t](),o=Xn(e?"SHORT"+t:t);return r[o][i]}}function gn(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=dn(Math[e>0?"floor":"ceil"](e/60),2)+dn(Math.abs(e%60),2)}function yn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function wn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function bn(t){return function(e){var n=yn(e.getFullYear()),r=wn(e),i=+r-+n,o=1+Math.round(i/6048e5);return dn(o,t)}}function xn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Sn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Cn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function An(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=h(e[9]+e[10]),o=h(e[9]+e[11])),a.call(r,h(e[1]),h(e[2])-1,h(e[3]));var u=h(e[4]||0)-i,c=h(e[5]||0)-o,l=h(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,w(n)&&(n=Ti.test(n)?h(n):e(n)),b(n)&&(n=new Date(n)),!x(n))return n;for(;r;)s=Oi.exec(r),s?(c=q(c,s,1),r=c.pop()):(c.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(c,function(e){a=ki[e],u+=a?a(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function En(){return function(t,e){return m(e)&&(e=2),B(t,e)}}function kn(){return function(t,e){return b(t)&&(t=t.toString()),$r(t)||w(t)?(e=Math.abs(Number(e))===1/0?Number(e):h(e),e?e>0?t.slice(0,e):t.slice(e):w(t)?"":[]):t}}function On(t){return function(e,n,r){function o(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function a(t,e){return e?function(e,n){return t(n,e)}:t}function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function u(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),s(t))?t:"function"==typeof t.toString&&(t=t.toString(),s(t))?t:""}function c(t,e){var n=typeof t,r=typeof e;return n===r&&"object"===n&&(t=u(t),e=u(e)),n===r?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}return i(e)?(n=$r(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,r=e||d;if(w(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return a(c,n);if(r=t(e),r.constant){var i=r();return a(function(t,e){return c(t[i],e[i])},n)}}return a(function(t,e){return c(r(t),r(e))},n)}),or.call(e).sort(a(o,r))):e}}function Tn(t){return S(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function Mn(t,e){t.$name=e}function Nn(t,e,r,i,a){var s=this,u=[],c=s.$$parentForm=t.parent().controller("form")||ji;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,c.$addControl(s),s.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},s.$addControl=function(t){at(t.$name,"input"),u.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),R(u,t)},Gn({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(R(r,n),0===r.length&&delete t[e])},parentForm:c,$animate:i}),s.$setDirty=function(){i.removeClass(t,mo),i.addClass(t,go),s.$dirty=!0,s.$pristine=!1,c.$setDirty()},s.$setPristine=function(){i.setClass(t,mo,go+" "+Ri),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(t){t.$setPristine()})},s.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,Ri),s.$submitted=!0,c.$setSubmitted()}}function Vn(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Dn(t,e,n,r,i,o){jn(t,e,n,r,i,o),Vn(r)}function jn(t,e,n,r,i,o){var a=Zn(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(t){s=!0}),e.on("compositionend",function(){s=!1,u()})}var u=function(t){if(c&&(o.defer.cancel(c),c=null),!s){var i=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=pr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))e.on("input",u);else{var c,l=function(t,e,n){c||(c=o.defer(function(){c=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",u),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Rn(t,e){if(x(t))return t;if(w(t)){zi.lastIndex=0;var n=zi.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=yn(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function Pn(t,e){return function(n,r){var i,a;if(x(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),qi.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function _n(t,e,r,i){return function(o,a,s,u,c,l,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function $(t){return g(t)?x(t)?t:r(t):n}In(o,a,s,u),jn(o,a,s,u,c,l);var p,d=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return"UTC"===d&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),u.$formatters.push(function(t){if(t&&!x(t))throw xo("datefmt","Expected `{0}` to be a date",t);if(h(t)){if(p=t,p&&"UTC"===d){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return f("date")(t,i,d)}return p=null,""}),g(s.min)||s.ngMin){var v;u.$validators.min=function(t){return!h(t)||m(v)||r(t)>=v},s.$observe("min",function(t){v=$(t),u.$validate()})}if(g(s.max)||s.ngMax){var y;u.$validators.max=function(t){return!h(t)||m(y)||r(t)<=y},s.$observe("max",function(t){y=$(t),u.$validate()})}}}function In(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=y(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(Jn)||{};return r.badInput&&!r.typeMismatch?n:t})}function qn(t,e,r,i,o,a){if(In(t,e,r,i),jn(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:Hi.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!b(t))throw xo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),g(r.min)||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||m(s)||t>=s},r.$observe("min",function(t){g(t)&&!b(t)&&(t=parseFloat(t,10)),s=b(t)&&!isNaN(t)?t:n,i.$validate()})}if(g(r.max)||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||m(u)||u>=t},r.$observe("max",function(t){g(t)&&!b(t)&&(t=parseFloat(t,10)),u=b(t)&&!isNaN(t)?t:n,i.$validate()})}}function Un(t,e,n,r,i,o){jn(t,e,n,r,i,o),Vn(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||Ui.test(n)}}function Fn(t,e,n,r,i,o){jn(t,e,n,r,i,o),Vn(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Fi.test(n)}}function Hn(t,e,n,r){m(n.name)&&e.attr("name",c());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function Bn(t,e,n,r,i){var o;if(g(r)){if(o=t(r),!o.constant)throw xo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function Ln(t,e,n,r,i,o,a,s){var u=Bn(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Bn(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return I(t,u)}),r.$parsers.push(function(t){return t?u:c})}function zn(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){if($r(t))return t;if(w(t))return t.split(" ");if(y(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}return t}return{restrict:"AC",link:function(a,s,u){function c(t){var e=f(t,1);u.$addClass(e)}function l(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||{},r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function h(t,e){var i=r(e,t),o=r(t,e);i=f(i,1),o=f(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function $(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(p){if(!I(t,p)){var r=i(p);h(r,n)}}else c(n)}p=_(t)}var p;a.$watch(u[t],$,!0),u.$observe("class",function(e){$(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[t]));o===e?c(s):l(s)}})}}}]}function Gn(t){function e(t,e,u){e===n?r("$pending",t,u):i("$pending",t,u),M(e)?e?(f(s.$error,t,u),l(s.$$success,t,u)):(l(s.$error,t,u),f(s.$$success,t,u)):(f(s.$error,t,u),f(s.$$success,t,u)),s.$pending?(o(bo,!0),s.$valid=s.$invalid=n,a("",null)):(o(bo,!1),s.$valid=Wn(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var c;c=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,c),h.$setValidity(t,c,s)}function r(t,e,n){s[t]||(s[t]={}),l(s[t],e,n)}function i(t,e,r){s[t]&&f(s[t],e,r),Wn(s[t])&&(s[t]=n)}function o(t,e){e&&!c[t]?($.addClass(u,t),c[t]=!0):!e&&c[t]&&($.removeClass(u,t),c[t]=!1)}function a(t,e){t=t?"-"+nt(t,"-"):"",o(po+t,e===!0),o(vo+t,e===!1)}var s=t.ctrl,u=t.$element,c={},l=t.set,f=t.unset,h=t.parentForm,$=t.$animate;c[vo]=!(c[po]=u.hasClass(po)),s.$setValidity=e}function Wn(t){if(t)for(var e in t)return!1;return!0}var Yn=/^\/(.+)\/([a-z]*)$/,Jn="validity",Zn=function(t){return w(t)?t.toLowerCase():t},Kn=Object.prototype.hasOwnProperty,Xn=function(t){return w(t)?t.toUpperCase():t},Qn=function(t){return w(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},tr=function(t){return w(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Zn=Qn,Xn=tr);var er,nr,rr,ir,or=[].slice,ar=[].splice,sr=[].push,ur=Object.prototype.toString,cr=r("ng"),lr=t.angular||(t.angular={}),fr=0;er=e.documentMode,p.$inject=[],d.$inject=[];var hr,$r=Array.isArray,pr=function(t){return w(t)?t.trim():t},dr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},vr=function(){if(g(vr.isActive_))return vr.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return vr.isActive_=t},mr=["ng-","data-ng-","ng:","x-ng-"],gr=/[A-Z]/g,yr=!1,wr=1,br=2,xr=3,Sr=8,Cr=9,Ar=11,Er={full:"1.3.20",major:1,minor:3,dot:20,codeName:"shallow-translucence"};wt.expando="ng339";var kr=wt.cache={},Or=1,Tr=function(t,e,n){t.addEventListener(e,n,!1)},Mr=function(t,e,n){t.removeEventListener(e,n,!1)};wt._data=function(t){return this.cache[t[this.expando]]||{}};var Nr=/([\:\-\_]+(.))/g,Vr=/^moz([A-Z])/,Dr={mouseleave:"mouseout",mouseenter:"mouseover"},jr=r("jqLite"),Rr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Pr=/<|&#?\w+;/,_r=/<([\w:]+)/,Ir=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qr.optgroup=qr.option,qr.tbody=qr.tfoot=qr.colgroup=qr.caption=qr.thead,qr.th=qr.td;var Ur=wt.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),wt(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return nr(t>=0?this[t]:this[this.length+t])},length:0,push:sr,sort:[].sort,splice:[].splice},Fr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Fr[Zn(t)]=t});var Hr={};o("input,select,option,textarea,button,form,details".split(","),function(t){Hr[t]=!0});var Br={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Et,removeData:Ct},function(t,e){wt[e]=t}),o({data:Et,inheritedData:Vt,scope:function(t){return nr.data(t,"$scope")||Vt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return nr.data(t,"$isolateScope")||nr.data(t,"$isolateScopeNoTemplate")},controller:Nt,injector:function(t){return Vt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:kt,css:function(t,e,n){return e=dt(e),g(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=t.nodeType;if(i!==xr&&i!==br&&i!==Sr){var o=Zn(e);if(Fr[o]){if(!g(r))return t[e]||(t.attributes.getNamedItem(e)||p).specified?o:n;r?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(g(r))t.setAttribute(e,r);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}}},prop:function(t,e,n){return g(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(m(e)){var n=t.nodeType;return n===wr||n===xr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===j(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(xt(t,!0),void(t.innerHTML=e))},empty:Dt},function(t,e){wt.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==Dt&&(2==t.length&&t!==kt&&t!==Nt?e:r)===n){if(y(e)){for(i=0;a>i;i++)if(t===Et)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,u=s===n?Math.min(a,1):a,c=0;u>c;c++){var l=t(this[c],e,r);s=s?s+l:l}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:Ct,on:function Jo(t,e,n,r){if(g(r))throw jr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(mt(t)){var i=At(t,!0),o=i.events,a=i.handle;a||(a=i.handle=It(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length;u--;){e=s[u];var c=o[e];c||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Jo(t,Dr[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&Tr(t,e,a),c=o[e]),c.push(n)}}},off:St,one:function(t,e,n){t=nr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;xt(t),o(new wt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===wr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===wr||n===Ar){e=new wt(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===wr){var n=t.firstChild;o(new wt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=nr(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:jt,detach:function(t){jt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new wt(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Tt,removeClass:Ot,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;m(r)&&(r=!kt(t,e)),(r?Tt:Ot)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Ar?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:bt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=At(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:t},e.type&&(r=f(r,e)),i=_(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){wt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)m(i)?(i=t(this[o],e,n,r),g(i)&&(i=nr(i))):Mt(i,t(this[o],e,n,r));return g(i)?i:this},wt.prototype.bind=wt.prototype.on,wt.prototype.unbind=wt.prototype.off}),Ft.prototype={put:function(t,e){this[Ut(t,this.nextUid)]=e},get:function(t){return this[Ut(t,this.nextUid)]},remove:function(t){var e=this[t=Ut(t,this.nextUid)];return delete this[t],e}};var Lr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,zr=/,/,Gr=/^\s*(_?)(\S+?)\1\s*$/,Wr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Yr=r("$injector");Lt.$$annotate=Bt;var Jr=r("$animate"),Zr=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw Jr("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=r,t.factory(r,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function r(e){var r,i=t.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=e(function(){i.resolve()})}),i.promise}function i(t,e){var n=[],r=[],i=ct();return o((t.attr("class")||"").split(/\s+/),function(t){i[t]=!0}),o(e,function(t,e){var o=i[e];t===!1&&o?r.push(e):t!==!0||o||n.push(e)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function a(t,e,n){for(var r=0,i=e.length;i>r;++r){var o=e[r];t[o]=n}}function s(){return c||(c=t.defer(),e(function(){c.resolve(),c=null})),c.promise}function u(t,e){if(lr.isObject(e)){var n=f(e.from||{},e.to||{});t.css(n)}}var c;return{animate:function(t,e,n){return u(t,{from:e,to:n}),s()},enter:function(t,e,n,r){return u(t,r),n?n.after(t):e.prepend(t),s()},leave:function(t,e){return u(t,e),t.remove(),s()},move:function(t,e,n,r){return this.enter(t,e,n,r)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=nr(t),e=w(e)?e:$r(e)?e.join(" "):"",o(t,function(t){Tt(t,e)}),u(t,n),s()},removeClass:function(t,e,n){return this.setClass(t,[],e,n);
},$$removeClassImmediately:function(t,e,n){return t=nr(t),e=w(e)?e:$r(e)?e.join(" "):"",o(t,function(t){Ot(t,e)}),u(t,n),s()},setClass:function(t,e,n,o){var s=this,u="$$animateClasses",c=!1;t=nr(t);var l=t.data(u);l?o&&l.options&&(l.options=lr.extend(l.options||{},o)):(l={classes:{},options:o},c=!0);var f=l.classes;return e=$r(e)?e:e.split(" "),n=$r(n)?n:n.split(" "),a(f,e,!0),a(f,n,!1),c&&(l.promise=r(function(e){var n=t.data(u);if(t.removeData(u),n){var r=i(t,n.classes);r&&s.$$setClassImmediately(t,r[0],r[1],n.options)}e()}),t.data(u,l)),l.promise},$$setClassImmediately:function(t,e,n,r){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),u(t,r),s()},enabled:p,cancel:p}}]}],Kr=r("$compile");Kt.$inject=["$provide","$$sanitizeUriProvider"];var Xr=/^((?:x|data)[\:\-_])/i,Qr=r("$controller"),ti="application/json",ei={"Content-Type":ti+";charset=utf-8"},ni=/^\[|^\{(?!\{)/,ri={"[":/]$/,"{":/}$/},ii=/^\)\]\}',?\n/,oi=r("$interpolate"),ai=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,si={http:80,https:443,ftp:21},ui=r("$location"),ci={$$html5:!1,$$replace:!1,absUrl:Oe("$$absUrl"),url:function(t){if(m(t))return this.$$url;var e=ai.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Oe("$$protocol"),host:Oe("$$host"),port:Oe("$$port"),path:Te("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t)||b(t))t=t.toString(),this.$$search=W(t);else{if(!y(t))throw ui("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=P(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Te("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([ke,Ee,Ae],function(t){t.prototype=Object.create(ci),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ae||!this.$$html5)throw ui("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=m(e)?null:e,this}});var li=r("$parse"),fi=Function.prototype.call,hi=Function.prototype.apply,$i=Function.prototype.bind,pi=ct();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,pi[e]=t}),pi["this"]=function(t){return t},pi["this"].sharedGetter=!0;var di=f(ct(),{"+":function(t,e,r,i){return r=r(t,e),i=i(t,e),g(r)?g(i)?r+i:r:g(i)?i:n},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(g(n)?n:0)-(g(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),vi={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},mi=function(t){this.options=t};mi.prototype={constructor:mi,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=di[e],o=di[n],a=di[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||"\x0B"===t||""===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=g(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw li("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Zn(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=vi[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var gi=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};gi.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),gi.prototype={constructor:gi,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in pi?t=pi[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw li("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},consume:function(t){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var n=di[t];return f(function(t,r){return n(t,r,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,r){var i=di[e];return f(function(e,r){return i(e,r,t,n)},{constant:t.constant&&n.constant,inputs:!r&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return Fe(t,this.options,this.text)},constant:function(){var t=this.consume().value;return f(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0,o=t.length;o>i;i++)r=t[i](e,n);return r}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],r=[];this.expect(":");)e.push(this.expression());var o=[t].concat(e||[]);return f(function(o,a){var s=t(o,a);if(r){r[0]=s;for(var u=e.length;u--;)r[u+1]=e[u](o,a);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&o.every(Pe),inputs:!i.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),f(function(e,r){return n.assign(e,t(e,r),r)},{inputs:[n,t]})):n},ternary:function(){var t,e,n=this.logicalOR();if((e=this.expect("?"))&&(t=this.assignment(),this.consume(":"))){var r=this.assignment();return f(function(e,i){return n(e,i)?t(e,i):r(e,i)},{constant:n.constant&&t.constant&&r.constant})}return n},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(gi.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return f(function(r,i,o){var a=o||t(r,i);return null==a?n:e(a)},{assign:function(n,r,i){var o=t(n,i);return o||t.assign(n,o={},i),e.assign(o,r)}})},objectIndex:function(t){var e=this.text,r=this.expression();return this.consume("]"),f(function(i,o){var a,s=t(i,o),u=De(r(i,o),e);return Ve(u,e),s?a=je(s[u],e):n},{assign:function(n,i,o){var a=Ve(De(r(n,o),e),e),s=je(t(n,o),e);return s||t.assign(n,s={},o),s[a]=i}})},functionCall:function(t,e){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,o=r.length?[]:null;return function(a,s){var u=e?e(a,s):g(e)?n:a,c=t(a,s,u)||p;if(o)for(var l=r.length;l--;)o[l]=je(r[l](a,s),i);je(u,i),Re(c,i);var f=c.apply?c.apply(u,o):c(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),je(f,i)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),f(function(e,n){for(var r=[],i=0,o=t.length;o>i;i++)r.push(t[i](e,n));return r},{literal:!0,constant:t.every(Pe),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),f(function(n,r){for(var i={},o=0,a=e.length;a>o;o++)i[t[o]]=e[o](n,r);return i},{literal:!0,constant:e.every(Pe),inputs:e})}};var yi=ct(),wi=ct(),bi=Object.prototype.valueOf,xi=r("$sce"),Si={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Kr=r("$compile"),Ci=e.createElement("a"),Ai=on(t.location.href);un.$inject=["$provide"],hn.$inject=["$locale"],$n.$inject=["$locale"];var Ei=".",ki={yyyy:vn("FullYear",4),yy:vn("FullYear",2,0,!0),y:vn("FullYear",1),MMMM:mn("Month"),MMM:mn("Month",!0),MM:vn("Month",2,1),M:vn("Month",1,1),dd:vn("Date",2),d:vn("Date",1),HH:vn("Hours",2),H:vn("Hours",1),hh:vn("Hours",2,-12),h:vn("Hours",1,-12),mm:vn("Minutes",2),m:vn("Minutes",1),ss:vn("Seconds",2),s:vn("Seconds",1),sss:vn("Milliseconds",3),EEEE:mn("Day"),EEE:mn("Day",!0),a:xn,Z:gn,ww:bn(2),w:bn(1),G:Sn,GG:Sn,GGG:Sn,GGGG:Cn},Oi=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ti=/^\-?\d+$/;An.$inject=["$locale"];var Mi=v(Zn),Ni=v(Xn);On.$inject=["$parse"];var Vi=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ur.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Di={};o(Fr,function(t,e){if("multiple"!=t){var n=Xt("ng-"+e);Di[n]=function(){return{restrict:"A",priority:100,link:function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}}),o(Br,function(t,e){Di[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Yn);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Xt("ng-"+t);Di[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===ur.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(er&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var ji={$addControl:p,$$renameControl:Mn,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Ri="ng-submitted";Nn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Pi=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:Nn,compile:function(r,i){r.addClass(mo).addClass(po);var o=i.name?"name":t&&i.ngForm?"ngForm":!1;return{pre:function(t,r,i,a){if(!("action"in i)){var s=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};Tr(r[0],"submit",s),r.on("$destroy",function(){e(function(){Mr(r[0],"submit",s)},0,!1)})}var u=a.$$parentForm;o&&(_e(t,null,a.$name,a,a.$name),i.$observe(o,function(e){a.$name!==e&&(_e(t,null,a.$name,n,a.$name),u.$$renameControl(a,e),_e(t,null,a.$name,a,a.$name))})),r.on("$destroy",function(){u.$removeControl(a),o&&_e(t,null,i[o],n,a.$name),f(a,ji)})}}}};return r}]},_i=Pi(),Ii=Pi(!0),qi=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ui=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Fi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Hi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Bi=/^(\d{4})-(\d{2})-(\d{2})$/,Li=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zi=/^(\d{4})-W(\d\d)$/,Gi=/^(\d{4})-(\d\d)$/,Wi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yi={text:Dn,date:_n("date",Bi,Pn(Bi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":_n("datetimelocal",Li,Pn(Li,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:_n("time",Wi,Pn(Wi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:_n("week",zi,Rn,"yyyy-Www"),month:_n("month",Gi,Pn(Gi,["yyyy","MM"]),"yyyy-MM"),number:qn,url:Un,email:Fn,radio:Hn,checkbox:Ln,hidden:p,button:p,submit:p,reset:p,file:p},Ji=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Yi[Zn(a.type)]||Yi.text)(i,o,a,s[0],e,t,n,r)}}}}],Zi=/^(true|false|\d+)$/,Ki=function(){return{restrict:"A",priority:100,compile:function(t,e){return Zi.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Xi=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Qi=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],to=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],eo=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),no=zn("",!0),ro=zn("Odd",0),io=zn("Even",1),oo=Tn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),ao=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],so={},uo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Xt("ng-"+t);so[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};uo[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var co=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=ut(s.clone),t.leave(c).then(function(){c=null}),s=null))})}}}],lo=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:lr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,$,p=0,d=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),$&&(n.leave($).then(function(){h=null}),h=$,$=null)};r.$watch(o,function(o){var u=function(){!g(s)||s&&!r.$eval(s)||e()},h=++p;o?(t(o,!0).then(function(t){if(h===p){var e=r.$new();c.template=t;var s=l(e,function(t){d(),n.enter(t,null,i).then(u)});f=e,$=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){h===p&&(d(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(d(),c.template=null)})}}}}],fo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(gt(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],ho=Tn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),$o=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?pr(a):a,c=function(t){if(!m(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(s?pr(t):t)}),e}};i.$parsers.push(c),i.$formatters.push(function(t){return $r(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},po="ng-valid",vo="ng-invalid",mo="ng-pristine",go="ng-dirty",yo="ng-untouched",wo="ng-touched",bo="ng-pending",xo=r("ngModel"),So=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,u,c,l,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(t);var h,$=a(r.ngModel),d=$.assign,v=$,y=d,w=null,x=this;this.$$setOptions=function(t){if(x.$options=t,t&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");v=function(t){var n=$(t);return S(n)&&(n=e(t)),n},y=function(t,e){S($(t))?n(t,{$$$p:x.$modelValue}):d(t,x.$modelValue)}}else if(!$.assign)throw xo("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,z(i))},this.$render=p,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t};var C=i.inheritedData("$formController")||ji,A=0;Gn({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:C,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(i,go),s.addClass(i,mo)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(i,mo),s.addClass(i,go),C.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(i,yo,wo)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(i,wo,yo)},this.$rollbackViewValue=function(){u.cancel(w),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!b(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$lastCommittedViewValue,e=x.$$rawModelValue,r=x.$valid,i=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,t,function(t){o||r===t||(x.$modelValue=t?e:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var t=x.$$parserName||"parse";return h!==n?(h||(o(x.$validators,function(t,e){u(e,null)}),o(x.$asyncValidators,function(t,e){u(e,null)})),u(t,h),h):(u(t,null),!0)}function a(){var n=!0;return o(x.$validators,function(r,i){var o=r(t,e);n=n&&o,u(i,o)}),n?!0:(o(x.$asyncValidators,function(t,e){u(e,null)}),!1)}function s(){var r=[],i=!0;o(x.$asyncValidators,function(o,a){var s=o(t,e);if(!N(s))throw xo("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(a,n),r.push(s.then(function(){u(a,!0)},function(t){i=!1,u(a,!1)}))}),r.length?l.all(r).then(function(){c(i)},p):c(!0)}function u(t,e){f===A&&x.$setValidity(t,e)}function c(t){f===A&&r(t)}A++;var f=A;return i()&&a()?void s():void c(!1)},this.$commitViewValue=function(){var t=x.$viewValue;u.cancel(w),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){x.$modelValue!==a&&x.$$writeModelToScope()}var r=x.$$lastCommittedViewValue,i=r;if(h=m(i)?n:!0)for(var o=0;o<x.$parsers.length;o++)if(i=x.$parsers[o](i),m(i)){h=!1;break}b(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=v(t));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=i,s&&(x.$modelValue=i,e()),x.$$runValidators(i,x.$$lastCommittedViewValue,function(t){s||(x.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){y(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){x.$viewValue=t,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=x.$options;i&&g(i.debounce)&&(n=i.debounce,b(n)?r=n:b(n[e])?r=n[e]:b(n["default"])&&(r=n["default"])),u.cancel(w),r?w=u(function(){x.$commitViewValue()},r):c.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==x.$modelValue&&(x.$modelValue===x.$modelValue||e===e)){x.$modelValue=x.$$rawModelValue=e,h=n;for(var r=x.$formatters,i=r.length,o=e;i--;)o=r[i](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,p))}return e})}],Co=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:So,priority:1,compile:function(e){return e.addClass(mo).addClass(yo).addClass(po),{pre:function(t,e,n,r){var i=r[0],o=r[1]||ji;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Ao=/(\s+|^)default(\s+|$)/,Eo=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=pr(this.$options.updateOn.replace(Ao,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ko=Tn({terminal:!0,priority:1e3}),Oo=["$locale","$interpolate",function(t,e){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,a,s){function u(t){a.text(t||"")}var c,l=s.count,f=s.$attr.when&&a.attr(s.$attr.when),h=s.offset||0,$=i.$eval(f)||{},p={},d=e.startSymbol(),v=e.endSymbol(),m=d+l+"-"+h+v,g=lr.noop;o(s,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+Zn(n[2]);$[i]=a.attr(s.$attr[e])}}),o($,function(t,r){p[r]=e(t.replace(n,m))}),i.$watch(l,function(e){var n=parseFloat(e),r=isNaN(n);r||n in $||(n=t.pluralCat(n-h)),n===c||r&&isNaN(c)||(g(),g=i.$watch(p[n],u),c=n)})}}}],To=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",u=r("ngRepeat"),c=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var $=h.ngRepeat,p=e.createComment(" end ngRepeat: "+$+" "),d=$.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",$);var v=d[1],m=d[2],g=d[3],y=d[4];if(d=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!d)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var w=d[3]||d[1],b=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var x,S,C,A,E={$id:Ut};return y?x=t(y):(C=function(t,e){return Ut(e)},A=function(t){return t}),function(t,e,r,h,d){x&&(S=function(e,n,r){return b&&(E[b]=e),E[w]=n,E.$index=r,x(t,E)});var v=ct();t.$watchCollection(m,function(r){var h,m,y,x,E,k,O,T,M,N,V,D,j=e[0],R=ct();if(g&&(t[g]=r),i(r))M=r,T=S||C;else{T=S||A,M=[];for(var P in r)r.hasOwnProperty(P)&&"$"!=P.charAt(0)&&M.push(P);M.sort()}for(x=M.length,V=new Array(x),h=0;x>h;h++)if(E=r===M?h:M[h],k=r[E],O=T(E,k,h),v[O])N=v[O],delete v[O],R[O]=N,V[h]=N;else{if(R[O])throw o(V,function(t){t&&t.scope&&(v[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",$,O,k);V[h]={id:O,scope:n,clone:n},R[O]=!0}for(var _ in v){if(N=v[_],D=ut(N.clone),a.leave(D),D[0].parentNode)for(h=0,m=D.length;m>h;h++)D[h][s]=!0;N.scope.$destroy()}for(h=0;x>h;h++)if(E=r===M?h:M[h],k=r[E],N=V[h],N.scope){y=j;do y=y.nextSibling;while(y&&y[s]);l(N)!=y&&a.move(ut(N.clone),null,nr(j)),j=f(N),c(N.scope,h,w,k,b,E,x)}else d(function(t,e){N.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,nr(j)),j=n,N.clone=t,R[N.id]=N,c(N.scope,h,w,k,b,E,x)});v=R})}}}}],Mo="ng-hide",No="ng-hide-animate",Vo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,Mo,{tempClasses:No})})}}}],Do=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,Mo,{tempClasses:No})})}}}],jo=Tn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Ro=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=l.length;i>r;++r)t.cancel(l[r]);for(l.length=0,r=0,i=f.length;i>r;++r){var s=ut(c[r].clone);f[r].$destroy();var $=l[r]=t.leave(s);$.then(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],Po=Tn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),_o=Tn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Io=Tn({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",z(e));o(function(t){e.empty(),e.append(t)})}}),qo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],Uo=r("ngOptions"),Fo=v({restrict:"A",terminal:!0}),Ho=["$compile","$parse",function(t,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r,i,o=this,a={},u=s;o.databound=n.ngModel,o.init=function(t,e,n){u=t,r=e,i=n},o.addOption=function(e,n){at(e,'"option value"'),a[e]=!0,u.$viewValue==e&&(t.val(e),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(t){this.hasOption(t)&&(delete a[t],u.$viewValue===t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){var n="? "+Ut(e)+" ?";i.val(n),t.prepend(i),t.val(n),i.prop("selected",!0)},o.hasOption=function(t){return a.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(s,u,c,l){function f(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(C.parent()&&C.remove(),e.val(t),""===t&&p.prop("selected",!0)):null==t&&p?e.val(""):r.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var r;n.$render=function(){var t=new Ft(n.$viewValue);o(e.find("option"),function(e){e.selected=g(t.get(e.value))})},t.$watch(function(){I(r,n.$viewValue)||(r=_(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){
e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function $(e,s,u){function c(t,n,r){return I[k]=r,M&&(I[M]=n),t(e,I)}function l(){e.$apply(function(){var t,n=D(e)||[];if(m)t=[],o(s.val(),function(e){e=R?P[e]:e,t.push(f(e,n[e]))});else{var r=R?P[s.val()]:s.val();t=f(r,n[r])}u.$setViewValue(t),C()})}function f(t,e){if("?"===t)return n;if(""===t)return null;var r=T?T:V;return c(r,t,e)}function h(){var t,n=D(e);if(n&&$r(n)){t=new Array(n.length);for(var r=0,i=n.length;i>r;r++)t[r]=c(E,r,n[r]);return t}if(n){t={};for(var o in n)n.hasOwnProperty(o)&&(t[o]=c(E,o,n[o]))}return t}function $(t){var e;if(m)if(R&&$r(t)){e=new Ft([]);for(var n=0;n<t.length;n++)e.put(c(R,null,t[n]),!0)}else e=new Ft(t);else R&&(t=c(R,null,t));return function(n,r){var i;return i=R?R:T?T:V,m?g(e.remove(c(i,n,r))):t===c(i,n,r)}}function p(){b||(e.$$postDigest(C),b=!0)}function v(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function C(){b=!1;var t,n,r,i,l,f,h,p,y,C,A,k,O,T,V,j,q,U={"":[]},F=[""],H=u.$viewValue,B=D(e)||[],L=M?a(B):B,z={},G=$(H),W=!1;for(P={},k=0;C=L.length,C>k;k++)h=k,M&&(h=L[k],"$"===h.charAt(0))||(p=B[h],t=c(N,h,p)||"",(n=U[t])||(n=U[t]=[],F.push(t)),O=G(h,p),W=W||O,j=c(E,h,p),j=g(j)?j:"",q=R?R(e,I):M?L[k]:k,R&&(P[q]=h),n.push({id:q,label:j,selected:O}));for(m||(w||null===H?U[""].unshift({id:"",label:"",selected:!W}):W||U[""].unshift({id:"?",label:"",selected:!0})),A=0,y=F.length;y>A;A++){for(t=F[A],n=U[t],_.length<=A?(i={element:S.clone().attr("label",t),label:n.label},l=[i],_.push(l),s.append(i.element)):(l=_[A],i=l[0],i.label!=t&&i.element.attr("label",i.label=t)),T=null,k=0,C=n.length;C>k;k++)r=n[k],(f=l[k+1])?(T=f.element,f.label!==r.label&&(v(z,f.label,!1),v(z,r.label,!0),T.text(f.label=r.label),T.prop("label",f.label)),f.id!==r.id&&T.val(f.id=r.id),T[0].selected!==r.selected&&(T.prop("selected",f.selected=r.selected),er&&T.prop("selected",f.selected))):(""===r.id&&w?V=w:(V=x.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),l.push(f={element:V,label:r.label,id:r.id,selected:r.selected}),v(z,r.label,!0),T?T.after(V):i.element.append(V),T=V);for(k++;l.length>k;)r=l.pop(),v(z,r.label,!1),r.element.remove()}for(;_.length>A;){for(n=_.pop(),k=1;k<n.length;++k)v(z,n[k].label,!1);n[0].element.remove()}o(z,function(t,e){t>0?d.addOption(e):0>t&&d.removeOption(e)})}var A;if(!(A=y.match(i)))throw Uo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",y,z(s));var E=r(A[2]||A[1]),k=A[4]||A[6],O=/ as /.test(A[0])&&A[1],T=O?r(O):null,M=A[5],N=r(A[3]||""),V=r(A[2]?A[1]:k),D=r(A[7]),j=A[8],R=j?r(A[8]):null,P={},_=[[{element:s,label:""}]],I={};w&&(t(w)(e),w.removeClass("ng-scope"),w.remove()),s.empty(),s.on("change",l),u.$render=C,e.$watchCollection(D,p),e.$watchCollection(h,p),m&&e.$watchCollection(function(){return u.$modelValue},p)}if(l[1]){for(var p,d=l[0],v=l[1],m=c.multiple,y=c.ngOptions,w=!1,b=!1,x=nr(e.createElement("option")),S=nr(e.createElement("optgroup")),C=x.clone(),A=0,E=u.children(),k=E.length;k>A;A++)if(""===E[A].value){p=w=E.eq(A);break}d.init(v,w,C),m&&(v.$isEmpty=function(t){return!t||0===t.length}),y?$(s,u,v):m?h(s,u,v):f(s,u,v,d)}}}}],Bo=["$interpolate",function(t){var e={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,r){if(m(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=e),i?t.$watch(i,function(t,e){r.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Lo=v({restrict:"E",terminal:!1}),zo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Go=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(w(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,z(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||m(a)||a.test(e)}}}}},Wo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=h(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Yo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=h(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(rt(),$t(lr),void nr(e).ready(function(){X(e,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
!function(n,t,e){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var n="$$ngAnimateChildren";return function(e,a,i){var r=i.ngAnimateChildren;t.isString(r)&&0===r.length?a.data(n,!0):e.$watch(r,function(t){a.data(n,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(n,t){var e=t[0].body;return function(t){return n(function(){t(e.offsetWidth)})}}]).config(["$provide","$animateProvider",function(a,i){function r(n){for(var t=0;t<n.length;t++){var e=n[t];if(e.nodeType==p)return e}}function s(n){return n&&t.element(n)}function o(n){return t.element(r(n))}function u(n,t){return r(n)==r(t)}var l,c=t.noop,f=t.forEach,v=i.$$selectors,d=t.isArray,m=t.isString,g=t.isObject,p=1,C="$$ngAnimateState",h="$$ngAnimateChildren",$="ng-animate",b={running:!0};a.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(n,e,a,p,y,D,A,w,k,x){function S(n,t){var e=n.data(C)||{};return t&&(e.running=!0,e.structural=!0,n.data(C,e)),e.disabled||e.running&&e.structural}function B(n){var t,a=e.defer();return a.promise.$$cancelFn=function(){t&&t()},A.$$postDigest(function(){t=n(function(){a.resolve()})}),a.promise}function F(n){return g(n)?(n.tempClasses&&m(n.tempClasses)&&(n.tempClasses=n.tempClasses.split(/\s+/)),n):void 0}function M(n,t,e){e=e||{};var a={};f(e,function(n,t){f(t.split(" "),function(t){a[t]=n})});var i=Object.create(null);f((n.attr("class")||"").split(/\s+/),function(n){i[n]=!0});var r=[],s=[];return f(t&&t.classes||[],function(n,t){var e=i[t],o=a[t]||{};n===!1?(e||"addClass"==o.event)&&s.push(t):n===!0&&(e&&"removeClass"!=o.event||r.push(t))}),r.length+s.length>0&&[r.join(" "),s.join(" ")]}function E(n){if(n){var t=[],e={},i=n.substr(1).split(".");(p.transitions||p.animations)&&t.push(a.get(v[""]));for(var r=0;r<i.length;r++){var s=i[r],o=v[s];o&&!e[s]&&(t.push(a.get(o)),e[s]=!0)}return t}}function R(n,e,a,i){function r(n,t){var e=n[t],a=n["before"+t.charAt(0).toUpperCase()+t.substr(1)];return e||a?("leave"==t&&(a=e,e=null),D.push({event:t,fn:e}),$.push({event:t,fn:a}),!0):void 0}function s(t,e,r){function s(n){if(e){if((e[n]||c)(),++v<o.length)return;e=null}r()}var o=[];f(t,function(n){n.fn&&o.push(n)});var v=0;f(o,function(t,r){var o=function(){s(r)};switch(t.event){case"setClass":e.push(t.fn(n,u,l,o,i));break;case"animate":e.push(t.fn(n,a,i.from,i.to,o));break;case"addClass":e.push(t.fn(n,u||a,o,i));break;case"removeClass":e.push(t.fn(n,l||a,o,i));break;default:e.push(t.fn(n,o,i))}}),e&&0===e.length&&r()}var o=n[0];if(o){i&&(i.to=i.to||{},i.from=i.from||{});var u,l;d(a)&&(u=a[0],l=a[1],u?l?a=u+" "+l:(a=u,e="addClass"):(a=l,e="removeClass"));var v="setClass"==e,m=v||"addClass"==e||"removeClass"==e||"animate"==e,g=n.attr("class"),p=g+" "+a;if(K(p)){var C=c,h=[],$=[],b=c,y=[],D=[],A=(" "+p).replace(/\s+/g,".");return f(E(A),function(n){var t=r(n,e);!t&&v&&(r(n,"addClass"),r(n,"removeClass"))}),{node:o,event:e,className:a,isClassBased:m,isSetClassOperation:v,applyStyles:function(){i&&n.css(t.extend(i.from||{},i.to||{}))},before:function(n){C=n,s($,h,function(){C=c,n()})},after:function(n){b=n,s(D,y,function(){b=c,n()})},cancel:function(){h&&(f(h,function(n){(n||c)(!0)}),C(!0)),y&&(f(y,function(n){(n||c)(!0)}),b(!0))}}}}}function N(n,e,a,i,r,s,o,u){function v(t){var i="$animate:"+t;A&&A[i]&&A[i].length>0&&D(function(){a.triggerHandler(i,{event:n,className:e})})}function d(){v("before")}function m(){v("after")}function g(){v("close"),u()}function p(){p.hasBeenRun||(p.hasBeenRun=!0,s())}function h(){if(!h.hasBeenRun){y&&y.applyStyles(),h.hasBeenRun=!0,o&&o.tempClasses&&f(o.tempClasses,function(n){l.removeClass(a,n)});var t=a.data(C);t&&(y&&y.isClassBased?T(a,e):(D(function(){var t=a.data(C)||{};N==t.index&&T(a,e,n)}),a.data(C,t))),g()}}var b=c,y=R(a,n,e,o);if(!y)return p(),d(),m(),h(),b;n=y.event,e=y.className;var A=t.element._data(y.node);if(A=A&&A.events,i||(i=r?r.parent():a.parent()),j(a,i))return p(),d(),m(),h(),b;var w=a.data(C)||{},k=w.active||{},x=w.totalActive||0,S=w.last,B=!1;if(x>0){var F=[];if(y.isClassBased){if("setClass"==S.event)F.push(S),T(a,e);else if(k[e]){var M=k[e];M.event==n?B=!0:(F.push(M),T(a,e))}}else if("leave"==n&&k["ng-leave"])B=!0;else{for(var E in k)F.push(k[E]);w={},T(a,!0)}F.length>0&&f(F,function(n){n.cancel()})}if(!y.isClassBased||y.isSetClassOperation||"animate"==n||B||(B="addClass"==n==a.hasClass(e)),B)return p(),d(),m(),g(),b;k=w.active||{},x=w.totalActive||0,"leave"==n&&a.one("$destroy",function(n){var e=t.element(this),a=e.data(C);if(a){var i=a.active["ng-leave"];i&&(i.cancel(),T(e,"ng-leave"))}}),l.addClass(a,$),o&&o.tempClasses&&f(o.tempClasses,function(n){l.addClass(a,n)});var N=P++;return x++,k[e]=y,a.data(C,{last:y,active:k,index:N,totalActive:x}),d(),y.before(function(t){var i=a.data(C);t=t||!i||!i.active[e]||y.isClassBased&&i.active[e].event!=n,p(),t===!0?h():(m(),y.after(h))}),y.cancel}function O(n){var e=r(n);if(e){var a=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName($):e.querySelectorAll("."+$);f(a,function(n){n=t.element(n);var e=n.data(C);e&&e.active&&f(e.active,function(n){n.cancel()})})}}function T(n,t){if(u(n,y))b.disabled||(b.running=!1,b.structural=!1);else if(t){var e=n.data(C)||{},a=t===!0;!a&&e.active&&e.active[t]&&(e.totalActive--,delete e.active[t]),(a||!e.totalActive)&&(l.removeClass(n,$),n.removeData(C))}}function j(n,e){if(b.disabled)return!0;if(u(n,y))return b.running;var a,i,r;do{if(0===e.length)break;var s=u(e,y),o=s?b:e.data(C)||{};if(o.disabled)return!0;if(s&&(r=!0),a!==!1){var l=e.data(h);t.isDefined(l)&&(a=l)}i=i||o.running||o.last&&!o.last.isClassBased}while(e=e.parent());return!r||!a&&i}l=x,y.data(C,b);var I=A.$watch(function(){return k.totalPendingRequests},function(n,t){0===n&&(I(),A.$$postDigest(function(){A.$$postDigest(function(){b.running=!1})}))}),P=0,q=i.classNameFilter(),K=q?function(n){return q.test(n)}:function(){return!0};return{animate:function(n,t,e,a,i){return a=a||"ng-inline-animate",i=F(i)||{},i.from=e?t:null,i.to=e?e:t,B(function(t){return N("animate",a,o(n),null,null,c,i,t)})},enter:function(e,a,i,r){return r=F(r),e=t.element(e),a=s(a),i=s(i),S(e,!0),n.enter(e,a,i),B(function(n){return N("enter","ng-enter",o(e),a,i,c,r,n)})},leave:function(e,a){return a=F(a),e=t.element(e),O(e),S(e,!0),B(function(t){return N("leave","ng-leave",o(e),null,null,function(){n.leave(e)},a,t)})},move:function(e,a,i,r){return r=F(r),e=t.element(e),a=s(a),i=s(i),O(e),S(e,!0),n.move(e,a,i),B(function(n){return N("move","ng-move",o(e),a,i,c,r,n)})},addClass:function(n,t,e){return this.setClass(n,t,[],e)},removeClass:function(n,t,e){return this.setClass(n,[],t,e)},setClass:function(e,a,i,s){s=F(s);var u="$$animateClasses";if(e=t.element(e),e=o(e),S(e))return n.$$setClassImmediately(e,a,i,s);var l,c=e.data(u),v=!!c;return c||(c={},c.classes={}),l=c.classes,a=d(a)?a:a.split(" "),f(a,function(n){n&&n.length&&(l[n]=!0)}),i=d(i)?i:i.split(" "),f(i,function(n){n&&n.length&&(l[n]=!1)}),v?(s&&c.options&&(c.options=t.extend(c.options||{},s)),c.promise):(e.data(u,c={classes:l,options:s}),c.promise=B(function(t){var a,i,s,o=r(e);if(o&&(a=e.data(u),e.removeData(u),s=e.parent(),i=o.parentNode),!i||i.$$NG_REMOVED||o.$$NG_REMOVED)return void t();var l=e.data(C)||{},c=M(e,a,l.active);return c?N("setClass",c,e,s,null,function(){c[0]&&n.$$addClassImmediately(e,c[0]),c[1]&&n.$$removeClassImmediately(e,c[1])},a.options,t):t()}))},cancel:function(n){n.$$cancelFn()},enabled:function(n,t){switch(arguments.length){case 2:if(n)T(t);else{var e=t.data(C)||{};e.disabled=!0,t.data(C,e)}break;case 1:b.disabled=!n;break;default:n=!b.disabled}return!!n}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(a,i,s,o){function u(){T||(T=o(function(){z=[],T=null,L={}}))}function v(n,t){T&&T(),z.push(t),T=o(function(){f(z,function(n){n()}),z=[],T=null,L={}})}function g(n,e){var a=r(n);n=t.element(a),X.push(n);var i=Date.now()+e;Q>=i||(s.cancel(J),Q=i,J=s(function(){C(X),X=[]},e,!1))}function C(n){f(n,function(n){var t=n.data(_);t&&f(t.closeAnimationFns,function(n){n()})})}function h(n,t){var e=t?L[t]:null;if(!e){var i=0,r=0,s=0,o=0;f(n,function(n){if(n.nodeType==p){var t=a.getComputedStyle(n)||{},e=t[M+j];i=Math.max($(e),i);var u=t[M+P];r=Math.max($(u),r);t[R+P];o=Math.max($(t[R+P]),o);var l=$(t[R+j]);l>0&&(l*=parseInt(t[R+q],10)||1),s=Math.max(l,s)}}),e={total:0,transitionDelay:r,transitionDuration:i,animationDelay:o,animationDuration:s},t&&(L[t]=e)}return e}function $(n){var t=0,e=m(n)?n.split(/\s*,\s*/):[];return f(e,function(n){t=Math.max(parseFloat(n)||0,t)}),t}function b(n){var t=n.parent(),e=t.data(W);return e||(t.data(W,++U),e=U),e+"-"+r(n).getAttribute("class")}function y(n,t,e,a){var i=["ng-enter","ng-leave","ng-move"].indexOf(e)>=0,s=b(t),o=s+" "+e,u=L[o]?++L[o].total:0,c={};if(u>0){var f=e+"-stagger",v=s+" "+f,d=!L[v];d&&l.addClass(t,f),c=h(t,v),d&&l.removeClass(t,f)}l.addClass(t,e);var m=t.data(_)||{},g=h(t,o),p=g.transitionDuration,C=g.animationDuration;if(i&&0===p&&0===C)return l.removeClass(t,e),!1;var $=a||i&&p>0,y=C>0&&c.animationDelay>0&&0===c.animationDuration,D=m.closeAnimationFns||[];t.data(_,{stagger:c,cacheKey:o,running:m.running||0,itemIndex:u,blockTransition:$,closeAnimationFns:D});var k=r(t);return $&&(A(k,!0),a&&t.css(a)),y&&w(k,!0),!0}function D(n,t,e,a,i){function o(){t.off(P,u),l.removeClass(t,d),l.removeClass(t,m),j&&s.cancel(j),B(t,e);var n=r(t);for(var a in C)n.style.removeProperty(C[a])}function u(n){n.stopPropagation();var t=n.originalEvent||n,e=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(G));Math.max(e-I,0)>=R&&i>=F&&a()}var c=r(t),v=t.data(_);if(-1==c.getAttribute("class").indexOf(e)||!v)return void a();var d="",m="";f(e.split(" "),function(n,t){var e=(t>0?" ":"")+n;d+=e+"-active",m+=e+"-pending"});var p="",C=[],$=v.itemIndex,b=v.stagger,y=0;if($>0){var D=0;b.transitionDelay>0&&0===b.transitionDuration&&(D=b.transitionDelay*$);var k=0;b.animationDelay>0&&0===b.animationDuration&&(k=b.animationDelay*$,C.push(O+"animation-play-state")),y=Math.round(100*Math.max(D,k))/100}y||(l.addClass(t,d),v.blockTransition&&A(c,!1));var x=v.cacheKey+" "+d,S=h(t,x),F=Math.max(S.transitionDuration,S.animationDuration);if(0===F)return l.removeClass(t,d),B(t,e),void a();!y&&i&&Object.keys(i).length>0&&(S.transitionDuration||(t.css("transition",S.animationDuration+"s linear all"),C.push("transition")),t.css(i));var M=Math.max(S.transitionDelay,S.animationDelay),R=M*H;if(C.length>0){var T=c.getAttribute("style")||"";";"!==T.charAt(T.length-1)&&(T+=";"),c.setAttribute("style",T+" "+p)}var j,I=Date.now(),P=N+" "+E,q=(M+F)*V,K=(y+q)*H;return y>0&&(l.addClass(t,m),j=s(function(){j=null,S.transitionDuration>0&&A(c,!1),S.animationDuration>0&&w(c,!1),l.addClass(t,d),l.removeClass(t,m),i&&(0===S.transitionDuration&&t.css("transition",S.animationDuration+"s linear all"),t.css(i),C.push("transition"))},y*H,!1)),t.on(P,u),v.closeAnimationFns.push(function(){o(),a()}),v.running++,g(t,K),o}function A(n,t){n.style[M+I]=t?"none":""}function w(n,t){n.style[R+K]=t?"paused":""}function k(n,t,e,a){return y(n,t,e,a)?function(n){n&&B(t,e)}:void 0}function x(n,t,e,a,i){return t.data(_)?D(n,t,e,a,i):(B(t,e),void a())}function S(n,t,e,a,i){var r=k(n,t,e,i.from);if(!r)return u(),void a();var s=r;return v(t,function(){s=x(n,t,e,a,i.to)}),function(n){(s||c)(n)}}function B(n,t){l.removeClass(n,t);var e=n.data(_);e&&(e.running&&e.running--,e.running&&0!==e.running||n.removeData(_))}function F(n,t){var e="";return n=d(n)?n:n.split(/\s+/),f(n,function(n,a){n&&n.length>0&&(e+=(a>0?" ":"")+n+t)}),e}var M,E,R,N,O="";n.ontransitionend===e&&n.onwebkittransitionend!==e?(O="-webkit-",M="WebkitTransition",E="webkitTransitionEnd transitionend"):(M="transition",E="transitionend"),n.onanimationend===e&&n.onwebkitanimationend!==e?(O="-webkit-",R="WebkitAnimation",N="webkitAnimationEnd animationend"):(R="animation",N="animationend");var T,j="Duration",I="Property",P="Delay",q="IterationCount",K="PlayState",W="$$ngAnimateKey",_="$$ngAnimateCSS3Data",G=3,V=1.5,H=1e3,L={},U=0,z=[],J=null,Q=0,X=[];return{animate:function(n,t,e,a,i,r){return r=r||{},r.from=e,r.to=a,S("animate",n,t,i,r)},enter:function(n,t,e){return e=e||{},S("enter",n,"ng-enter",t,e)},leave:function(n,t,e){return e=e||{},S("leave",n,"ng-leave",t,e)},move:function(n,t,e){return e=e||{},S("move",n,"ng-move",t,e)},beforeSetClass:function(n,t,e,a,i){i=i||{};var r=F(e,"-remove")+" "+F(t,"-add"),s=k("setClass",n,r,i.from);return s?(v(n,a),s):(u(),void a())},beforeAddClass:function(n,t,e,a){a=a||{};var i=k("addClass",n,F(t,"-add"),a.from);return i?(v(n,e),i):(u(),void e())},beforeRemoveClass:function(n,t,e,a){a=a||{};var i=k("removeClass",n,F(t,"-remove"),a.from);return i?(v(n,e),i):(u(),void e())},setClass:function(n,t,e,a,i){i=i||{},e=F(e,"-remove"),t=F(t,"-add");var r=e+" "+t;return x("setClass",n,r,a,i.to)},addClass:function(n,t,e,a){return a=a||{},x("addClass",n,F(t,"-add"),e,a.to)},removeClass:function(n,t,e,a){return a=a||{},x("removeClass",n,F(t,"-remove"),e,a.to)}}}])}])}(window,window.angular);
!function(o,e,n){"use strict";e.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(o,i){function t(){var o,t,r,u;for(o in f)a(c[o])&&(i.cookies(o,n),delete f[o]);for(o in c)t=c[o],e.isString(t)||(t=""+t,c[o]=t),t!==f[o]&&(i.cookies(o,t),f[o]=t,u=!0);if(u){r=i.cookies();for(o in c)c[o]!==r[o]&&(a(r[o])?(delete c[o],delete f[o]):c[o]=f[o]=r[o])}}var r,c={},f={},u=!1,s=e.copy,a=e.isUndefined;return i.addPollFn(function(){var e=i.cookies();r!=e&&(r=e,s(e,f),s(e,c),u&&o.$apply())})(),u=!0,o.$watch(t),c}]).factory("$cookieStore",["$cookies",function(o){return{get:function(n){var i=o[n];return i?e.fromJson(i):i},put:function(n,i){o[n]=e.toJson(i)},remove:function(e){delete o[e]}}}])}(window,window.angular);
!function(r,e,t){"use strict";function n(r){return null!=r&&""!==r&&"hasOwnProperty"!==r&&s.test("."+r)}function a(r,e){if(!n(e))throw i("badmember",'Dotted member path "@{0}" is invalid.',e);for(var a=e.split("."),o=0,s=a.length;s>o&&r!==t;o++){var c=a[o];r=null!==r?r[c]:t}return r}function o(r,t){t=t||{},e.forEach(t,function(r,e){delete t[e]});for(var n in r)!r.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=r[n]);return t}var i=e.$$minErr("$resource"),s=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var r=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(n,s){function c(r){return u(r,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function u(r,e){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function p(e,t){this.template=e,this.defaults=d({},r.defaults,t),this.urlParams={}}function l(c,u,$,v){function w(r,e){var t={};return e=d({},u,e),h(e,function(e,n){g(e)&&(e=e()),t[n]=e&&e.charAt&&"@"==e.charAt(0)?a(r,e.substr(1)):e}),t}function y(r){return r.resource}function E(r){o(r||{},this)}var A=new p(c,v);return $=d({},r.defaults.actions,$),E.prototype.toJSON=function(){var r=d({},this);return delete r.$promise,delete r.$resolved,r},h($,function(r,a){var c=/^(POST|PUT|PATCH)$/i.test(r.method);E[a]=function(u,p,l,$){var v,b,P,T={};switch(arguments.length){case 4:P=$,b=l;case 3:case 2:if(!g(p)){T=u,v=p,b=l;break}if(g(u)){b=u,P=p;break}b=p,P=l;case 1:g(u)?b=u:c?v=u:T=u;break;case 0:break;default:throw i("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var O=this instanceof E,x=O?v:r.isArray?[]:new E(v),R={},D=r.interceptor&&r.interceptor.response||y,S=r.interceptor&&r.interceptor.responseError||t;h(r,function(r,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(R[e]=m(r))}),c&&(R.data=v),A.setUrlParams(R,d({},w(v,r.params||{}),T),r.url);var j=n(R).then(function(t){var n=t.data,s=x.$promise;if(n){if(e.isArray(n)!==!!r.isArray)throw i("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",a,r.isArray?"array":"object",e.isArray(n)?"array":"object");r.isArray?(x.length=0,h(n,function(r){"object"==typeof r?x.push(new E(r)):x.push(r)})):(o(n,x),x.$promise=s)}return x.$resolved=!0,t.resource=x,t},function(r){return x.$resolved=!0,(P||f)(r),s.reject(r)});return j=j.then(function(r){var e=D(r);return(b||f)(e,r.headers),e},S),O?j:(x.$promise=j,x.$resolved=!1,x)},E.prototype["$"+a]=function(r,e,t){g(r)&&(t=e,e=r,r={});var n=E[a].call(this,r,this,e,t);return n.$promise||n}}),E.bind=function(r){return l(c,d({},u,r),$)},E}var f=e.noop,h=e.forEach,d=e.extend,m=e.copy,g=e.isFunction;return p.prototype={setUrlParams:function(r,t,n){var a,o,s=this,u=n||s.template,p=s.urlParams={};h(u.split(/\W/),function(r){if("hasOwnProperty"===r)throw i("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(r)&&r&&new RegExp("(^|[^\\\\]):"+r+"(\\W|$)").test(u)&&(p[r]=!0)}),u=u.replace(/\\:/g,":"),t=t||{},h(s.urlParams,function(r,n){a=t.hasOwnProperty(n)?t[n]:s.defaults[n],e.isDefined(a)&&null!==a?(o=c(a),u=u.replace(new RegExp(":"+n+"(\\W|$)","g"),function(r,e){return o+e})):u=u.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(r,e,t){return"/"==t.charAt(0)?t:e+t})}),s.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),r.url=u.replace(/\/\\\./,"/."),h(t,function(e,t){s.urlParams[t]||(r.params=r.params||{},r.params[t]=e)})}},l}]})}(window,window.angular);
!function(e,r,t){"use strict";function n(){function e(e,t){return r.extend(Object.create(e),t)}function t(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,r,t,n){var o="?"===n?n:null,i="*"===n?n:null;return a.push({name:t,optional:!!o}),r=r||"",""+(o?"":r)+"(?:"+(o?r:"")+(i&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",t?"i":""),n}var n={};this.when=function(e,a){var o=r.copy(a);if(r.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),r.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),n[e]=r.extend(o,e&&t(e,o)),e){var i="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[i]=r.extend({redirectTo:e},t(i,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(t,a,o,i,c,l,s){function h(e,r){var t=r.keys,n={};if(!r.regexp)return null;var a=r.regexp.exec(e);if(!a)return null;for(var o=1,i=a.length;i>o;++o){var c=t[o-1],u=a[o];c&&u&&(n[c.name]=u)}return n}function $(e){var n=w.current;v=f(),m=v&&n&&v.$$route===n.$$route&&r.equals(v.pathParams,n.pathParams)&&!v.reloadOnSearch&&!g,m||!n&&!v||t.$broadcast("$routeChangeStart",v,n).defaultPrevented&&e&&e.preventDefault()}function p(){var e=w.current,n=v;m?(e.params=n.params,r.copy(e.params,o),t.$broadcast("$routeUpdate",e)):(n||e)&&(g=!1,w.current=n,n&&n.redirectTo&&(r.isString(n.redirectTo)?a.path(d(n.redirectTo,n.params)).search(n.params).replace():a.url(n.redirectTo(n.pathParams,a.path(),a.search())).replace()),i.when(n).then(function(){if(n){var e,t,a=r.extend({},n.resolve);return r.forEach(a,function(e,t){a[t]=r.isString(e)?c.get(e):c.invoke(e,null,null,t)}),r.isDefined(e=n.template)?r.isFunction(e)&&(e=e(n.params)):r.isDefined(t=n.templateUrl)&&(r.isFunction(t)&&(t=t(n.params)),r.isDefined(t)&&(n.loadedTemplateUrl=s.valueOf(t),e=l(t))),r.isDefined(e)&&(a.$template=e),i.all(a)}}).then(function(a){n==w.current&&(n&&(n.locals=a,r.copy(n.params,o)),t.$broadcast("$routeChangeSuccess",n,e))},function(r){n==w.current&&t.$broadcast("$routeChangeError",n,e,r)}))}function f(){var t,o;return r.forEach(n,function(n,i){!o&&(t=h(a.path(),n))&&(o=e(n,{params:r.extend({},a.search(),t),pathParams:t}),o.$$route=n)}),o||n[null]&&e(n[null],{params:{},pathParams:{}})}function d(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),o=a[1];n.push(t[o]),n.push(a[2]||""),delete t[o]}}),n.join("")}var v,m,g=!1,w={routes:n,reload:function(){g=!0,t.$evalAsync(function(){$(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw u("norout","Tried updating route when with no current route");e=r.extend({},this.current.params,e),a.path(d(this.current.$$route.originalPath,e)),a.search(e)}};return t.$on("$locationChangeStart",$),t.$on("$locationChangeSuccess",p),w}]}function a(){this.$get=function(){return{}}}function o(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,i,c,u){function l(){p&&(n.cancel(p),p=null),h&&(h.$destroy(),h=null),$&&(p=n.leave($),p.then(function(){p=null}),$=null)}function s(){var i=e.current&&e.current.locals,c=i&&i.$template;if(r.isDefined(c)){var s=a.$new(),p=e.current,v=u(s,function(e){n.enter(e,null,$||o).then(function(){!r.isDefined(f)||f&&!a.$eval(f)||t()}),l()});$=v,h=p.scope=s,h.$emit("$viewContentLoaded"),h.$eval(d)}else l()}var h,$,p,f=i.autoscroll,d=i.onload||"";a.$on("$routeChangeSuccess",s),s()}}}function i(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var o=t.current,i=o.locals;a.html(i.$template);var c=e(a.contents());if(o.controller){i.$scope=n;var u=r(o.controller,i);o.controllerAs&&(n[o.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}c(n)}}}var c=r.module("ngRoute",["ng"]).provider("$route",n),u=r.$$minErr("ngRoute");c.provider("$routeParams",a),c.directive("ngView",o),c.directive("ngView",i),o.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular);
!function(e,t,r){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var r=[];return s(t,c(r,function(t,r){return!/^unsafe/.test(e(t,r))})),r.join("")}}]}function a(e){var r=[],n=c(r,t.noop);return n.chars(e),r.join("")}function i(e){var t,r={},n=e.split(",");for(t=0;t<n.length;t++)r[n[t]]=!0;return r}function s(e,r){function n(e,n,i,s){if(n=t.lowercase(n),A[n])for(;k.last()&&C[k.last()];)a("",k.last());$[n]&&k.last()==n&&a("",n),s=v[n]||!!s,s||k.push(n);var l={};i.replace(d,function(e,t,r,n,a){var i=r||n||a||"";l[t]=o(i)}),r.start&&r.start(n,l,s)}function a(e,n){var a,i=0;if(n=t.lowercase(n))for(i=k.length-1;i>=0&&k[i]!=n;i--);if(i>=0){for(a=k.length-1;a>=i;a--)r.end&&r.end(k[a]);k.length=i}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var i,s,l,c,k=[],y=e;for(k.last=function(){return k[k.length-1]};e;){if(c="",s=!0,k.last()&&T[k.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+k.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(x,"$1"),r.chars&&r.chars(o(t)),""}),a("",k.last())):(0===e.indexOf("<!--")?(i=e.indexOf("--",4),i>=0&&e.lastIndexOf("-->",i)===i&&(r.comment&&r.comment(e.substring(4,i)),e=e.substring(i+3),s=!1)):b.test(e)?(l=e.match(b),l&&(e=e.replace(l[0],""),s=!1)):g.test(e)?(l=e.match(p),l&&(e=e.substring(l[0].length),l[0].replace(p,a),s=!1)):f.test(e)&&(l=e.match(h),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(h,n)),s=!1):(c+="<",e=e.substring(1))),s&&(i=e.indexOf("<"),c+=0>i?e:e.substring(0,i),e=0>i?"":e.substring(i),r.chars&&r.chars(o(c)))),e==y)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);y=e}a()}function o(e){return e?(P.innerHTML=e.replace(/</g,"&lt;"),P.textContent):""}function l(e){return e.replace(/&/g,"&amp;").replace(k,function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(r-56320)+65536)+";"}).replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,r){var n=!1,a=t.bind(e,e.push);return{start:function(e,i,s){e=t.lowercase(e),!n&&T[e]&&(n=e),n||E[e]!==!0||(a("<"),a(e),t.forEach(i,function(n,i){var s=t.lowercase(i),o="img"===e&&"src"===s||"background"===s;j[s]!==!0||F[s]===!0&&!r(n,o)||(a(" "),a(i),a('="'),a(l(n)),a('"'))}),a(s?"/>":">"))},end:function(e){e=t.lowercase(e),n||E[e]!==!0||(a("</"),a(e),a(">")),e==n&&(n=!1)},chars:function(e){n||a(l(e))}}}var u=t.$$minErr("$sanitize"),h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,g=/^<\//,m=/<!--(.*?)-->/g,b=/<!DOCTYPE([^>]*?)>/i,x=/<!\[CDATA\[(.*?)]]>/g,k=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,v=i("area,br,col,hr,img,wbr"),w=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),z=i("rp,rt"),$=t.extend({},z,w),A=t.extend({},w,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=t.extend({},z,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),D=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),T=i("script,style"),E=t.extend({},v,A,C,$,D),F=i("background,cite,href,longdesc,src,usemap,xlink:href"),q=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),O=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),j=t.extend({},F,O,q),P=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var r=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/i,n=/^mailto:/i;return function(i,s){function o(e){e&&d.push(a(e))}function l(e,r){d.push("<a "),t.isDefined(s)&&d.push('target="',s,'" '),d.push('href="',e.replace(/"/g,"&quot;"),'">'),o(r),d.push("</a>")}if(!i)return i;for(var c,u,h,p=i,d=[];c=p.match(r);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),h=c.index,o(p.substr(0,h)),l(u,c[0].replace(n,"")),p=p.substring(h+c[0].length);return o(p),e(d.join(""))}}])}(window,window.angular);
angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,i){var n={};return angular.isString(e.animate)?n["class"]=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,t,r){var a={};r.uiAnimate&&(a=e.$eval(r.uiAnimate),angular.isString(a)&&(a={"class":a})),a=angular.extend({"class":"ui-animate"},n,a),t.addClass(a["class"]),i(function(){t.removeClass(a["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(e,i){return e.uiCalendar=e.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(i,n,t,r){function a(){i.calendar=n.html("");var r=i.calendar.fullCalendar("getView");r&&(r=r.name);var a,o={defaultView:r,eventSources:u};a=t.uiCalendar?i.$eval(t.uiCalendar):{},angular.extend(o,e.uiCalendar,a),i.calendar.fullCalendar(o)}var u=i.$eval(t.ngModel),o=0,l=function(){var e=i.$eval(t.equalsTracker);return o=0,angular.forEach(u,function(e,i){angular.isArray(e)&&(o+=e.length)}),angular.isNumber(e)?o+u.length+e:o+u.length};a(),i.$watch(l,function(e,i){a()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(e,i){"use strict";var n=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(t,r,a,u){var o,l,c,s,d;if("textarea"!==r[0].type)throw new Error("uiCodemirror3 can only be applied to a textarea element");o=e.codemirror||{},l=angular.extend({},o,t.$eval(a.uiCodemirror)),c=function(e){return function(i,n){var r=i.getValue();r!==u.$viewValue&&(u.$setViewValue(r),t.$apply()),"function"==typeof e&&e(i,n)}},s=function(){d=CodeMirror.fromTextArea(r[0],l),d.on("change",c(l.onChange));for(var e,o=0,s=n.length;s>o;++o)e=l["on"+n[o].charAt(0).toUpperCase()+n[o].slice(1)],void 0!==e&&"function"==typeof e&&d.on(n[o],e);u.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),u.$render=function(){d.setValue(u.$viewValue)},a.uiRefresh&&t.$watch(a.uiRefresh,function(e,n){e!==n&&i(d.refresh)})},i(s)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,i){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(n,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,t,r,a){var u,o,l;u=angular.extend({},n,e.$eval(r.uiCurrency)),o=function(e){var n;return n=1*e,t.toggleClass(u.pos,n>0),t.toggleClass(u.neg,0>n),t.toggleClass(u.zero,0===n),""===e?t.text(""):t.text(i(n,u.symbol)),!0},a.$render=function(){l=a.$viewValue,t.val(l),o(l)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var i;return i={},angular.isObject(e.date)&&angular.extend(i,e.date),{require:"?ngModel",link:function(i,n,t,r){var a=function(){return angular.extend({},e.date,i.$eval(t.uiDate))},u=function(){var e=a();if(r){var t=function(){i.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),r.$setViewValue(e),n.blur()})};if(e.onSelect){var u=e.onSelect;e.onSelect=function(e,n){t(),i.$apply(function(){u(e,n)})}}else e.onSelect=t;n.bind("change",t),r.$render=function(){var e=r.$viewValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),r&&r.$render()};i.$watch(a,u,!0)}}}]).directive("uiDateFormat",["ui.config",function(e){var i={require:"ngModel",link:function(i,n,t,r){var a=t.uiDateFormat||e.dateFormat;a?(r.$formatters.push(function(e){return angular.isString(e)?$.datepicker.parseDate(a,e):void 0}),r.$parsers.push(function(e){return e?$.datepicker.formatDate(a,e):void 0})):(r.$formatters.push(function(e){return angular.isString(e)?new Date(e):void 0}),r.$parsers.push(function(e){return e?e.toISOString():void 0}))}};return i}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(i,n,t){var r=i.$eval(t.uiEvent);angular.forEach(r,function(t,r){var a=e(t);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),i.$apply(function(){a(i,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,i,n){return function(e,i,t){var r,a;e.$watch(t.uiIf,function(t){r&&(r.remove(),r=void 0),a&&(a.$destroy(),a=void 0),t&&(a=e.$new(),n(a,function(e){r=e,i.after(e)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(e,i){return{restrict:"A",compile:function(n,t){if(!angular.isFunction(n[t.uiJq]))throw new Error('ui-jq: The "'+t.uiJq+'" function does not exist');var r=e.jq&&e.jq[t.uiJq];return function(e,n,t){function a(){i(function(){n[t.uiJq].apply(n,u)},0,!1)}var u=[];t.uiOptions?(u=e.$eval("["+t.uiOptions+"]"),angular.isObject(r)&&angular.isObject(u[0])&&(u[0]=angular.extend({},r,u[0]))):r&&(u=[r]),t.ngModel&&n.is("select,input,textarea")&&n.on("change",function(){n.trigger("input")}),t.uiRefresh&&e.$watch(t.uiRefresh,function(e){a()}),a()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(e){var i={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(t,r,a,u){var o,l=[];o=r.$eval(u["ui"+n(t)]),angular.forEach(o,function(i,n){var t,r;r=e(i),angular.forEach(n.split(" "),function(e){t={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){t.keys[e]=!0}),l.push(t)})}),a.bind(t,function(e){var n=e.metaKey||e.altKey,a=e.ctrlKey,u=e.shiftKey,o=e.keyCode;"keypress"===t&&!u&&o>=97&&122>=o&&(o-=32),angular.forEach(l,function(t){var o=t.keys[i[e.keyCode]]||t.keys[e.keyCode.toString()]||!1,l=t.keys.alt||!1,c=t.keys.ctrl||!1,s=t.keys.shift||!1;o&&l==n&&c==a&&s==u&&r.$apply(function(){t.expression(r,{$event:e})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(i,n,t){e("keydown",i,n,t)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(i,n,t){e("keypress",i,n,t)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(i,n,t){e("keyup",i,n,t)}}}]),function(){function e(e,i,n,t){angular.forEach(i.split(" "),function(i){var r={type:"map-"+i};google.maps.event.addListener(n,i,function(i){t.triggerHandler(angular.extend({},r,i)),e.$$phase||e.$apply()})})}function i(i,t){n.directive(i,[function(){return{restrict:"A",link:function(n,r,a){n.$watch(a[i],function(i){e(n,t,i,r)})}}}])}var n=angular.module("ui.directives");n.directive("uiMap",["ui.config","$parse",function(i,n){var t="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",r=i.map||{};return{restrict:"A",link:function(i,a,u){var o=angular.extend({},r,i.$eval(u.uiOptions)),l=new google.maps.Map(a[0],o),c=n(u.uiMap);c.assign(i,l),e(i,t,l,a)}}}]),n.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(i,n,t){var r="closeclick content_change domready position_changed zindex_changed",a=i.mapInfoWindow||{};return{link:function(i,u,o){var l=angular.extend({},a,i.$eval(o.uiOptions));l.content=u[0];var c=n(o.uiMapInfoWindow),s=c(i);s||(s=new google.maps.InfoWindow(l),c.assign(i,s)),e(i,r,s,u),u.replaceWith("<div></div>");var d=s.open;s.open=function(e,n,r,a,o,l){t(u.contents())(i),d.call(s,e,n,r,a,o,l)}}}}]),i("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),i("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),i("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),i("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),i("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),i("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,i,n,t){t.$render=function(){var r=t.$viewValue||"";i.val(r),i.mask(e.$eval(n.uiMask))},t.$parsers.push(function(e){var n=i.isMaskValid()||angular.isUndefined(i.isMaskValid())&&i.val().length>0;return t.$setValidity("mask",n),n?e:void 0}),i.bind("keyup",function(){e.$apply(function(){t.$setViewValue(i.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var i=null;return void 0!==e.reset&&(i=e.reset),{require:"ngModel",link:function(e,n,t,r){var a;a=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(a),a.bind("click",function(n){n.preventDefault(),e.$apply(function(){t.uiReset?r.$setViewValue(e.$eval(t.uiReset)):r.$setViewValue(i),r.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function(e,i){return{restrict:"AC",compile:function(n,t){var r;if(t.uiRoute)r="uiRoute";else if(t.ngHref)r="ngHref";else{if(!t.href)throw new Error("uiRoute missing a route or href property on "+n[0]);r="href"}return function(n,t,a){function u(i){(hash=i.indexOf("#"))>-1&&(i=i.substr(hash+1)),(c=function(){l(n,e.path().indexOf(i)>-1)})()}function o(i){(hash=i.indexOf("#"))>-1&&(i=i.substr(hash+1)),(c=function(){var t=new RegExp("^"+i+"$",["i"]);l(n,t.test(e.path()))})()}var l=i(a.ngModel||a.routeModel||"$uiRoute").assign,c=angular.noop;switch(r){case"uiRoute":a.uiRoute?o(a.uiRoute):a.$observe("uiRoute",o);break;case"ngHref":a.ngHref?u(a.ngHref):a.$observe("ngHref",u);break;case"href":u(a.href)}n.$on("$routeChangeSuccess",function(){c()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(i,n,t){var r=n.offset().top;t.uiScrollfix?"-"===t.uiScrollfix.charAt(0)?t.uiScrollfix=r-t.uiScrollfix.substr(1):"+"===t.uiScrollfix.charAt(0)&&(t.uiScrollfix=r+parseFloat(t.uiScrollfix.substr(1))):t.uiScrollfix=r,angular.element(e).on("scroll.ui-scrollfix",function(){var i;if(angular.isDefined(e.pageYOffset))i=e.pageYOffset;else{var r=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;i=r.scrollTop}!n.hasClass("ui-scrollfix")&&i>t.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&i<t.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(e,i){var n={};return e.select2&&angular.extend(n,e.select2),{require:"?ngModel",compile:function(e,t){var r,a,u,o=e.is("select"),l=void 0!==t.multiple;return e.is("select")&&(a=e.find("option[ng-repeat], option[data-ng-repeat]"),a.length&&(u=a.attr("ng-repeat")||a.attr("data-ng-repeat"),r=jQuery.trim(u.split("|")[0]).split(" ").pop())),function(e,t,a,u){var c=angular.extend({},n,e.$eval(a.uiSelect2));if(o?(delete c.multiple,delete c.initSelection):l&&(c.multiple=!0),u&&(u.$render=function(){o?t.select2("val",u.$modelValue):l?u.$modelValue?angular.isArray(u.$modelValue)?t.select2("data",u.$modelValue):t.select2("val",u.$modelValue):t.select2("data",[]):angular.isObject(u.$modelValue)?t.select2("data",u.$modelValue):t.select2("val",u.$modelValue)},r&&e.$watch(r,function(e,n,r){e&&i(function(){t.select2("val",u.$viewValue),t.trigger("change")})}),!o&&(t.bind("change",function(){e.$apply(function(){u.$setViewValue(t.select2("data"))})}),c.initSelection))){var s=c.initSelection;c.initSelection=function(e,i){s(e,function(e){u.$setViewValue(e),i(e)})}}a.$observe("disabled",function(e){t.select2(e&&"disable"||"enable")}),a.ngMultiple&&e.$watch(a.ngMultiple,function(e){t.select2(c)}),t.val(e.$eval(a.ngModel)),i(function(){t.select2(c),c.initSelection||o||u.$setViewValue(t.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,i,n){e.$watch(n.uiShow,function(e,n){e?i.addClass("ui-show"):i.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,i,n){e.$watch(n.uiHide,function(e,n){e?i.addClass("ui-hide"):i.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,i,n){e.$watch(n.uiToggle,function(e,n){e?i.removeClass("ui-hide").addClass("ui-show"):i.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){return{require:"?ngModel",link:function(i,n,t,r){var a,u,o,l,c,s,d,f,g;c=angular.extend({},e.sortable,i.$eval(t.uiSortable)),r&&(r.$render=function(){n.sortable("refresh")},o=function(e,i){i.item.sortable={index:i.item.index()}},l=function(e,i){i.item.sortable.resort=r},a=function(e,i){i.item.sortable.relocate=!0,r.$modelValue.splice(i.item.index(),0,i.item.sortable.moved)},u=function(e,i){1===r.$modelValue.length?i.item.sortable.moved=r.$modelValue.splice(0,1)[0]:i.item.sortable.moved=r.$modelValue.splice(i.item.sortable.index,1)[0]},onStop=function(e,n){if(n.item.sortable.resort&&!n.item.sortable.relocate){var t,r;r=n.item.sortable.index,t=n.item.index(),t>r&&t--,n.item.sortable.resort.$modelValue.splice(t,0,n.item.sortable.resort.$modelValue.splice(r,1)[0])}(n.item.sortable.resort||n.item.sortable.relocate)&&i.$apply()},f=c.start,c.start=function(e,i){o(e,i),"function"==typeof f&&f(e,i)},_stop=c.stop,c.stop=function(e,i){onStop(e,i),"function"==typeof _stop&&_stop(e,i)},g=c.update,c.update=function(e,i){l(e,i),"function"==typeof g&&g(e,i)},s=c.receive,c.receive=function(e,i){a(e,i),"function"==typeof s&&s(e,i)},d=c.remove,c.remove=function(e,i){u(e,i),"function"==typeof d&&d(e,i)}),n.sortable(c)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(i,n,t,r){var a,u={onchange_callback:function(e){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),i.$$phase||i.$apply())},handle_event_callback:function(e){return this.isDirty()&&(this.save(),r.$setViewValue(n.val()),i.$$phase||i.$apply()),!0},setup:function(e){e.onSetContent.add(function(e,t){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),i.$$phase||i.$apply())})}};a=t.uiTinymce?i.$eval(t.uiTinymce):{},angular.extend(u,e.tinymce,a),setTimeout(function(){n.tinymce(u)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,i,n,t){var r,a,u={},o=e.$eval(n.uiValidate);o&&(angular.isString(o)&&(o={validator:o}),angular.forEach(o,function(i,n){r=function(r){return e.$eval(i,{$value:r})?(t.$setValidity(n,!0),r):void t.$setValidity(n,!1)},u[n]=r,t.$formatters.push(r),t.$parsers.push(r)}),n.uiValidateWatch&&(a=e.$eval(n.uiValidateWatch),angular.isString(a)?e.$watch(a,function(){angular.forEach(u,function(e,i){e(t.$modelValue)})}):angular.forEach(a,function(i,n){e.$watch(i,function(){u[n](t.$modelValue)})})))}}}),angular.module("ui.filters").filter("format",function(){return function(e,i){if(!e)return e;var n,t=e.toString();return void 0===i?t:angular.isArray(i)||angular.isObject(i)?(n=angular.isArray(i)&&"$"||":",angular.forEach(i,function(e,i){t=t.split(n+i).join(e)}),t):t.split("$0").join(i)}}),angular.module("ui.filters").filter("highlight",function(){return function(e,i,n){return i||angular.isNumber(i)?(e=e.toString(),i=i.toString(),n?e.split(i).join('<span class="ui-match">'+i+"</span>"):e.replace(new RegExp(i,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function i(e,i){return e.replace(/[A-Z]/g,function(e){return i+e})}var n={humanize:function(n){return e(i(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+i(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(i){return i=i.substr(0,1).toLowerCase()+e(i.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,i,t){return i!==!1&&angular.isString(e)?(i=i||"humanize",n[i](e)):e}}),angular.module("ui.filters").filter("unique",function(){return function(e,i){if(i===!1)return e;if((i||angular.isUndefined(i))&&angular.isArray(e)){var n=[],t=function(e){return angular.isObject(e)&&angular.isString(i)?e[i]:e};angular.forEach(e,function(e){for(var i=!1,r=0;r<n.length;r++)if(angular.equals(t(n[r]),t(e))){i=!0;break}i||n.push(e)}),e=n}return e}});
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,s){var n,o,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function s(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",a)}function a(){t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function h(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}};var l=0,u=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r,h={},l=e.split(".")[0];return e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},o=t[l][e],a=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?void(h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(h[e]=s)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||e:e},h,{constructor:a,namespace:l,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,s,n=u.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(t.isPlainObject(s)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):e[i]=s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=u.call(arguments,1),r=this;return o?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'")}):(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}});var c=(t.widget,!1);t(document).mouseup(function(){c=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),c=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var n,o,a=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=t.extend({},n);var p,m,g,v,_,b,y=t(n.of),w=t.position.getWithinInfo(n.within),x=t.position.getScrollInfo(w),k=(n.collision||"flip").split(" "),C={};return b=s(y),y[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,_=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?_.left+=m:"center"===n.at[0]&&(_.left+=m/2),"bottom"===n.at[1]?_.top+=g:"center"===n.at[1]&&(_.top+=g/2),p=e(C.at,m,g),_.left+=p[0],_.top+=p[1],this.each(function(){var s,l,u=t(this),c=u.outerWidth(),d=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=c+f+i(this,"marginRight")+x.width,I=d+b+i(this,"marginBottom")+x.height,T=t.extend({},_),P=e(C.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?T.left-=c:"center"===n.my[0]&&(T.left-=c/2),"bottom"===n.my[1]?T.top-=d:"center"===n.my[1]&&(T.top-=d/2),T.left+=P[0],T.top+=P[1],o||(T.left=h(T.left),T.top=h(T.top)),s={marginLeft:f,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](T,{targetWidth:m,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:s,collisionWidth:D,collisionHeight:I,offset:[p[0]+P[0],p[1]+P[1]],my:n.my,at:n.at,within:w,elem:u})}),n.using&&(l=function(t){var e=v.left-T.left,i=e+m-c,s=v.top-T.top,o=s+g-d,h={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:T.left,top:T.top,width:c,height:d},horizontal:0>i?"left":e>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};c>m&&r(e+i)<m&&(h.horizontal="center"),d>g&&r(s+o)<g&&(h.vertical="middle"),a(r(e),r(i))>a(r(s),r(o))?h.important="horizontal":h.important="vertical",n.using.call(this,t,h)}),u.offset(t.extend(T,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-o-n;e.collisionWidth>o?h>0&&0>=l?(i=t.left+h+e.collisionWidth-o-n,t.left+=h-i):l>0&&0>=h?t.left=n:h>l?t.left=n+o-e.collisionWidth:t.left=n:h>0?t.left+=h:l>0?t.left-=l:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-o-n;e.collisionHeight>o?h>0&&0>=l?(i=t.top+h+e.collisionHeight-o-n,t.top+=h-i):l>0&&0>=h?t.top=n:h>l?t.top=n+o-e.collisionHeight:t.top=n:h>0?t.top+=h:l>0?t.top-=l:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-h,c=l+e.collisionWidth-a-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||i<r(u))&&(t.left+=d+p+f)):c>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||r(s)<c)&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-h,c=l+e.collisionHeight-a-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(s=t.top+p+f+m+e.collisionHeight-a-o,(0>s||s<r(u))&&(t.top+=p+f+m)):c>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-h,(i>0||r(i)<c)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,r=document.getElementsByTagName("body")[0],h=document.createElement("div");e=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(h),i=r||document.documentElement,i.insertBefore(e,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=t(h).offset().left,o=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n[0]===s[0],a=o&&i.collapsible,r=a?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:a?t():n,newPanel:r};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,l)===!1||(i.active=a?!1:this.headers.index(n),this.active=o?t():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},c=l&&u.down||u,d=function(){a._toggleComplete(i)};return"number"==typeof c&&(o=c),"string"==typeof c&&(n=c),n=n||c.easing||u.easing,o=o||c.duration||u.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}})):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){
if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",n=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,s=this,n=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),s=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),e=o.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s-n<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).text()))})}});t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,void(s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion))))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});var d,p=(t.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(n)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var s=e.element[0];g(s).not(s).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(t(this).addClass("ui-state-active"),d=this,void e.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return i.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(f),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});t.ui.button;t.extend(t.ui,{datepicker:{version:"1.11.4"}});var v;t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var a,h,l,u,c,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,a,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),void(l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==a&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,a)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){
var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,o,a,h,l,u;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),o=n?n.apply(e,[e,i]):{},o!==!1&&(r(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),h=t.datepicker._checkOffset(i,h,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),u=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],o=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&a.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",o*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,b=!1,y=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=new RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},x=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;n<e.length;n++)if(b)"'"!==e.charAt(n)||y("'")?k():b=!1;else switch(e.charAt(n)){case"d":v=w("d");break;case"D":x("D",c,d);break;case"o":_=w("o");break;case"m":g=w("m");break;case"M":g=x("M",p,f);break;case"y":m=w("y");break;case"@":r=new Date(w("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":y("'")?k():b=!0;break;default:k()}if(h<i.length&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),_>-1)for(g=1,v=_;;){if(o=this._getDaysInMonth(m,g-1),o>=v)break;g++,v-=o}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;s.length<i;)s="0"+s;return s},u=function(t,e,i,s){return h(t)?s[e]:i[e]},c="",d=!1;if(e)for(s=0;s<t.length;s++)if(d)"'"!==t.charAt(s)||h("'")?c+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":c+=l("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),n,o);break;case"o":c+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),a,r);break;case"y":c+=h("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?c+="'":d=!0;break;default:c+=t.charAt(s)}return c},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=e+1<t.length&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;e<t.length;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,u,c,d,p,f,m,g,v,_,b,y,w,x,k,C,D,I,T,P,M,S,z,H,A,N,E,W,O,F,R,L=new Date,Y=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),B=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+X,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:Y,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":h)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",x=0;x<U[0];x++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if(D=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",T="",$){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(B?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(B?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===x?B?o:s:"")+(/all|right/.test(I)&&0===x?B?s:o:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,x>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+u)%7,P+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),z=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,H=Math.ceil((z+S)/7),A=$&&this.maxRows>H?this.maxRows:H,this.maxRows=A,N=this._daylightSavingAdjust(new Date(tt,Z,1-z)),E=0;A>E;E++){for(T+="<tr>",W=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",w=0;7>w;w++)O=g?g.apply(t.input?t.input[0]:null,[N]):[!0,""],F=N.getMonth()!==Z,R=F&&!_||!O[0]||Q&&Q>N||J&&N>J,W+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+O[1]+(N.getTime()===G.getTime()?" "+this._currentClass:"")+(N.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===Y.getTime()?" ui-state-highlight":"")+(N.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);T+=W+"</tr>"}Z++,Z>11&&(Z=0,tt++),T+="</tbody></table>"+($?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=T}y+=k}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,u,c,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!g)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||u<=n.getMonth())&&(y+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+r[u]+"</option>");y+="</select>"}if(_||(b+=y+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(c[0]),m=Math.max(f,p(c[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!o&&g&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4";t.datepicker;t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(s){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),
i=t(n.containment),s=i[0],void(s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,u,c,d,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,u=s.snapElements[d].top-s.margins.top,c=u+s.snapElements[d].height,h-m>v||g>l+m||u-m>b||_>c+m||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(u-b)<=m,o=Math.abs(c-_)<=m,a=Math.abs(h-v)<=m,r=Math.abs(l-g)<=m,n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=Math.abs(u-_)<=m,o=Math.abs(c-b)<=m,a=Math.abs(h-g)<=m,r=Math.abs(l-v)<=m,n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i,s,n,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),o="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),a.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,o=s?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),i<o.maxWidth&&(o.maxWidth=i),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&u&&(t.top=h-e.minHeight),n&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(s[e],10)||0,i[e]+=parseInt(n[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,u=h.element,c=l.containment,d=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;d&&(h.containerElement=t(d),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,u=a._aspectRatio||e.shiftKey,c={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-c.left),u&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-c.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-c.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,u&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,c=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/u)*u,p=o.width+c,f=o.height+d,m=s.maxWidth&&s.maxWidth<p,g=s.maxHeight&&s.maxHeight<f,v=s.minWidth&&s.minWidth>p,_=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),_&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-c):((0>=f-u||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=a.top-d):(f=u-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-c):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}});t.ui.resizable,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),
void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.focus()}),e.preventDefault()):(this._delay(function(){s.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},o={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(r>=0?"+":"")+r,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(h>=0?"+":"")+h,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,u=i.offset.top,c=l+i.proportions().width,d=u+i.proportions().height;switch(s){case"fit":return o>=l&&c>=r&&a>=u&&d>=h;case"intersect":return l<o+e.helperProportions.width/2&&r-e.helperProportions.width/2<c&&u<a+e.helperProportions.height/2&&h-e.helperProportions.height/2<d;case"pointer":return t(n.pageY,u,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=u&&d>=a||h>=u&&d>=h||u>a&&h>d)&&(o>=l&&c>=o||r>=l&&c>=r||l>o&&r>c);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<o.length;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;n<r.length;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=t.ui.intersect(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};var _=(t.ui.droppable,"ui-effects-"),b=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=c[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function s(e){var i=l(),s=i._rgba=[];return e=e.toLowerCase(),f(h,function(t,n){var o,a=n.re.exec(e),r=a&&n.parse(a),h=n.space||"rgba";return r?(o=i[h](r),i[u[h].cache]=o[u[h].cache],s=i._rgba=o._rgba,!1):void 0}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),i):o[e]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var c=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(u,function(t,e){n[e.cache]&&(c[e.cache]=n[e.cache].slice())}):f(u,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!c[o]&&s.to){if("alpha"===t||null==n[t])return;c[o]=s.to(c._rgba)}c[o][e.idx]=i(n[t],e,!0)}),c[o]&&t.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,s.from&&(c._rgba=s.from(c[o])))}),this):void 0},is:function(t){var e=l(t),i=!0,s=this;return f(u,function(t,n){var o,a=e[n.cache];return a&&(o=s[n.cache]||n.to&&n.to(s._rgba)||[],f(n.props,function(t,e){return null!=a[e.idx]?i=a[e.idx]===o[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(u,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=u[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],u=c[n.type]||{};null!==l&&(null===a?h[o]=l:(u.mod&&(l-a>u.mod/2?a+=u.mod:a-l>u.mod/2&&(a-=u.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,u=r+h,c=.5*u;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=c?l/u:l/(2-u),[Math.round(e)%360,i,c,null==a?1:a]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(u,function(s,n){var o=n.props,a=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),c="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=c["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),u?(n=l(u(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===a?u:("function"===a&&(n=n.call(this,u),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=u+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(b.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(_+e[i],t[0].style[e[i]])},restore:function(t,e){var i,s;for(s=0;s<e.length;s++)null!==e[s]&&(i=t.data(_+e[s]),void 0===i&&(i=""),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(o)&&o.call(n[0]),t.isFunction(e)&&e()}var n=t(this),o=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):a.call(n[0],s,i)}var s=e.apply(this,arguments),n=s.mode,o=s.queue,a=t.effects.effect[s.effect];return t.fx.off||!a?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):o===!1?this.each(i):this.queue(o||"fx",i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();t.effects,t.effects.effect.blind=function(e,i){var s,n,o,a=t(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(a,e.mode||"hide"),c=e.direction||"up",d=r.test(c),p=d?"height":"width",f=d?"top":"left",m=h.test(c),g={},v="show"===u;a.parent().is(".ui-effects-wrapper")?t.effects.save(a.parent(),l):t.effects.save(a,l),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n=s[p](),o=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(a.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?o:n+o),v&&(s.css(p,0),m||s.css(f,o+n)),s.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&a.hide(),t.effects.restore(a,l),t.effects.removeWrapper(a),i()}})},t.effects.effect.bounce=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"effect"),l="hide"===h,u="show"===h,c=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(u||l?1:0),m=e.duration/f,g=e.easing,v="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,b=a.queue(),y=b.length;for((u||l)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,_?2*-d:2*d).animate(o,m,g)),l&&(d/=Math.pow(2,p-1)),o={},o[v]=0,s=0;p>s;s++)n={},n[v]=(_?"-=":"+=")+d,a.animate(n,m,g).animate(o,m,g),d=l?2*d:d/2;l&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,a.animate(n,m,g)),a.queue(function(){l&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),a.dequeue()},t.effects.effect.clip=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"hide"),l="show"===h,u=e.direction||"vertical",c="vertical"===u,d=c?"height":"width",p=c?"top":"left",f={};t.effects.save(a,r),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n="IMG"===a[0].tagName?s:a,o=n[d](),l&&(n.css(d,0),n.css(p,o/2)),f[d]=l?o:0,f[p]=l?0:o/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})},t.effects.effect.drop=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(n,e.mode||"hide"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",c={opacity:r?1:0};t.effects.save(n,o),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),c[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})},t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===c*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),m||p.hide(),i()}var o,a,r,h,l,u,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=c,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/c),b=[];for(o=0;c>o;o++)for(h=g.top+o*_,u=o-(c-1)/2,a=0;d>a;a++)r=g.left+a*v,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(m?l*v:0),top:h+(m?u*_:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*_),opacity:m?1:0},e.duration||500,e.easing,s)},t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var s,n,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),h="show"===r,l="hide"===r,u=e.size||15,c=/([0-9]+)%/.exec(u),d=!!e.horizFirst,p=h!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,a),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],c&&(u=parseInt(c[1],10)/100*n[l?0:1]),h&&s.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,e.easing).animate(v,m,e.easing,function(){l&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})},t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(s,e.mode||"show"),a={backgroundColor:s.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"
}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,n),i()}})},t.effects.effect.size=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=a.css("position"),_=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),s={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||s):(a.from=e.from||("show"===p?b:s),a.to=e.to||("hide"===p?b:s)),o={from:{y:a.from.height/s.height,x:a.from.width/s.width},to:{y:a.to.height/s.height,x:a.to.width/s.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(_=_.concat(c),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),o.from.x!==o.to.x&&(_=_.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(_=_.concat(u).concat(l),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),t.effects.save(a,_),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(n=t.effects.getBaseline(g,s),a.from.top=(s.outerHeight-a.outerHeight())*n.y,a.from.left=(s.outerWidth-a.outerWidth())*n.x,a.to.top=(s.outerHeight-a.to.outerHeight)*n.y,a.to.left=(s.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),("content"===m||"both"===m)&&(c=c.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),l=r.concat(c).concat(d),a.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,l),i.from={height:s.height*o.from.y,width:s.width*o.from.x,outerHeight:s.outerHeight*o.from.y,outerWidth:s.outerWidth*o.from.x},i.to={height:s.height*o.to.y,width:s.width*o.to.x,outerHeight:s.height*o.to.y,outerWidth:s.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,c,o.from.y,i.from),i.to=t.effects.setTransition(i,c,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,l)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,_),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var s=parseInt(i,10),n=t?a.to.left:a.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(a),i()}})},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),o=t.effects.setMode(s,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",h=e.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==o&&(n.origin=h||["middle","center"],n.restore=!0),n.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),o="hide"===n,a=parseInt(e.percent,10)||150,r=a/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:o?a:100,from:o?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(e)},t.effects.effect.pulsate=function(e,i){var s,n=t(this),o=t.effects.setMode(n,e.mode||"show"),a="show"===o,r="hide"===o,h=a||"hide"===o,l=2*(e.times||5)+(h?1:0),u=e.duration/l,c=0,d=n.queue(),p=d.length;for((a||!n.is(":visible"))&&(n.css("opacity",0).show(),c=1),s=1;l>s;s++)n.animate({opacity:c},u,e.easing),c=1-c;n.animate({opacity:c},u,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue()},t.effects.effect.shake=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",h=e.distance||20,l=e.times||3,u=2*l+1,c=Math.round(e.duration/u),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),_=v.length;for(t.effects.save(n,o),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+h,m[d]=(p?"+=":"-=")+2*h,g[d]=(p?"-=":"+=")+2*h,n.animate(f,c,e.easing),s=1;l>s;s++)n.animate(m,c,e.easing).animate(g,c,e.easing);n.animate(m,c,e.easing).animate(f,c/2,e.easing).queue(function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,u+1))),n.dequeue()},t.effects.effect.slide=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(n,e.mode||"show"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,c={};t.effects.save(n,o),n.show(),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),c[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})},t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},c=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:c.top-r,left:c.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),i()})},t.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||i.right<o||i.top>h||i.bottom<a):"fit"===n.tolerance&&(l=i.left>o&&i.right<r&&i.top>a&&i.bottom<h),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){o.optgroup!==n&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,s){var n=t(s),o=n.parent("optgroup");i.push({element:n,index:e,value:n.val(),label:n.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,o;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),o!==!1&&this.values(e,i))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;o<s.length;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.floor(+(t-e).toFixed(this._precision())/i)*i;t=s+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=(h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())*100,u["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(s-n)/(o-n)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"));
},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+u>o&&a>e+u,p=c&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&i,n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return s?this.floating?o&&"right"===o||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(c.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=c.length-1;i>=0;i--)for(a=c[i][1],r=c[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),u.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,u,c,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,u=d.floating||this._isFloating(this.currentItem),a=u?"left":"top",r=u?"width":"height",c=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[c]-h>this.items[s][r]/2&&(l=!0),Math.abs(e[c]-h)<n&&(n=Math.abs(e[c]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:h(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:h(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:h(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:h(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void h(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;e=e.cloneNode(!1),i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){
var i=t(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s===this.options.active?!1:s);default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),u={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),void(i&&this._open(e,t,i)))},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(s);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,t("<div>").html(h).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)))):void n.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});
!function(e){function t(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function i(e){this._events={},this.newListener=!1,s.call(this,e)}function n(e,t,s,i){if(!s)return[];var r,l,o,h,a,f,c,u=[],_=t.length,p=t[i],v=t[i+1];if(i===_&&s._listeners){if("function"==typeof s._listeners)return e&&e.push(s._listeners),[s];for(r=0,l=s._listeners.length;l>r;r++)e&&e.push(s._listeners[r]);return[s]}if("*"===p||"**"===p||s[p]){if("*"===p){for(o in s)"_listeners"!==o&&s.hasOwnProperty(o)&&(u=u.concat(n(e,t,s[o],i+1)));return u}if("**"===p){c=i+1===_||i+2===_&&"*"===v,c&&s._listeners&&(u=u.concat(n(e,t,s,_)));for(o in s)"_listeners"!==o&&s.hasOwnProperty(o)&&("*"===o||"**"===o?(s[o]._listeners&&!c&&(u=u.concat(n(e,t,s[o],_))),u=u.concat(n(e,t,s[o],i))):u=o===v?u.concat(n(e,t,s[o],i+2)):u.concat(n(e,t,s[o],i)));return u}u=u.concat(n(e,t,s[p],i+1))}if(h=s["*"],h&&n(e,t,h,i+1),a=s["**"])if(_>i){a._listeners&&n(e,t,a,_);for(o in a)"_listeners"!==o&&a.hasOwnProperty(o)&&(o===v?n(e,t,a[o],i+2):o===p?n(e,t,a[o],i+1):(f={},f[o]=a[o],n(e,t,{"**":f},i+1)))}else a._listeners?n(e,t,a,_):a["*"]&&a["*"]._listeners&&n(e,t,a["*"],_);return u}function r(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var s=0,i=e.length;i>s+1;s++)if("**"===e[s]&&"**"===e[s+1])return;for(var n=this.listenerTree,r=e.shift();r;){if(n[r]||(n[r]={}),n=n[r],0===e.length){if(n._listeners){if("function"==typeof n._listeners)n._listeners=[n._listeners,t];else if(l(n._listeners)&&(n._listeners.push(t),!n._listeners.warned)){var h=o;"undefined"!=typeof this._events.maxListeners&&(h=this._events.maxListeners),h>0&&n._listeners.length>h&&(n._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",n._listeners.length),console.trace())}}else n._listeners=t;return!0}r=e.shift()}return!0}var l=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=10;i.prototype.delimiter=".",i.prototype.setMaxListeners=function(e){this._events||t.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},i.prototype.event="",i.prototype.once=function(e,t){return this.many(e,1,t),this},i.prototype.many=function(e,t,s){function i(){0===--t&&n.off(e,i),s.apply(this,arguments)}var n=this;if("function"!=typeof s)throw new Error("many only accepts instances of Function");return i._origin=s,this.on(e,i),n},i.prototype.emit=function(){this._events||t.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(r=0,s=this._all.length;s>r;r++)this.event=e,this._all[r].apply(this,i)}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var l;if(this.wildcard){l=[];var o="string"==typeof e?e.split(this.delimiter):e.slice();n.call(this,l,o,this.listenerTree,0)}else l=this._events[e];if("function"==typeof l){if(this.event=e,1===arguments.length)l.call(this);else if(arguments.length>1)switch(arguments.length){case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:for(var s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];l.apply(this,i)}return!0}if(l){for(var s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(var h=l.slice(),r=0,s=h.length;s>r;r++)this.event=e,h[r].apply(this,i);return h.length>0||!!this._all}return!!this._all},i.prototype.on=function(e,s){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof s)throw new Error("on only accepts instances of Function");if(this._events||t.call(this),this.emit("newListener",e,s),this.wildcard)return r.call(this,e,s),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],s];else if(l(this._events[e])&&(this._events[e].push(s),!this._events[e].warned)){var i=o;"undefined"!=typeof this._events.maxListeners&&(i=this._events.maxListeners),i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}else this._events[e]=s;return this},i.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var s,i=[];if(this.wildcard){var r="string"==typeof e?e.split(this.delimiter):e.slice();i=n.call(this,null,r,this.listenerTree,0)}else{if(!this._events[e])return this;s=this._events[e],i.push({_listeners:s})}for(var o=0;o<i.length;o++){var h=i[o];if(s=h._listeners,l(s)){for(var a=-1,f=0,c=s.length;c>f;f++)if(s[f]===t||s[f].listener&&s[f].listener===t||s[f]._origin&&s[f]._origin===t){a=f;break}if(0>a)continue;return this.wildcard?h._listeners.splice(a,1):this._events[e].splice(a,1),0===s.length&&(this.wildcard?delete h._listeners:delete this._events[e]),this}(s===t||s.listener&&s.listener===t||s._origin&&s._origin===t)&&(this.wildcard?delete h._listeners:delete this._events[e])}return this},i.prototype.offAny=function(e){var t,s=0,i=0;if(e&&this._all&&this._all.length>0){for(t=this._all,s=0,i=t.length;i>s;s++)if(e===t[s])return t.splice(s,1),this}else this._all=[];return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||t.call(this),this;if(this.wildcard)for(var s="string"==typeof e?e.split(this.delimiter):e.slice(),i=n.call(this,null,s,this.listenerTree,0),r=0;r<i.length;r++){var l=i[r];l._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},i.prototype.listeners=function(e){if(this.wildcard){var s=[],i="string"==typeof e?e.split(this.delimiter):e.slice();return n.call(this,s,i,this.listenerTree,0),s}return this._events||t.call(this),this._events[e]||(this._events[e]=[]),l(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},i.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof exports?exports.EventEmitter2=i:window.EventEmitter2=i}();
(function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return be.call(e,t)}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e){Me.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function i(e,t){var n=!0;return h(function(){return n&&(a(e),n=!1),t.apply(this,arguments)},t)}function r(e,t){yt[e]||(a(t),yt[e]=!0)}function o(e,t){return function(n){return m(e.call(this,n),t)}}function u(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function l(e,t){t!==!1&&U(e),f(this,e),this._d=new Date(+e._d)}function d(e){var t=k(e),n=t.year||0,s=t.quarter||0,a=t.month||0,i=t.week||0,r=t.day||0,o=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*o,this._days=+r+7*i,this._months=+a+3*s+12*n,this._data={},this._locale=Me.localeData(),this._bubble()}function h(e,t){for(var s in t)n(t,s)&&(e[s]=t[s]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t){var n,s,a;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pe.length>0)for(n in Pe)s=Pe[n],a=t[s],"undefined"!=typeof a&&(e[s]=a);return e}function _(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e,t,n){for(var s=""+Math.abs(e),a=e>=0;s.length<t;)s="0"+s;return(a?n?"+":"":"-")+s}function y(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function p(e,t){var n;return t=I(t,e),e.isBefore(t)?n=y(e,t):(n=y(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function g(e,t){return function(n,s){var a,i;return null===s||isNaN(+s)||(r(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=s,s=i),n="string"==typeof n?+n:n,a=Me.duration(n,s),M(this,a,e),this}}function M(e,t,n,s){var a=t._milliseconds,i=t._days,r=t._months;s=null==s?!0:s,a&&e._d.setTime(+e._d+a*n),i&&fe(e,"Date",he(e,"Date")+i*n),r&&de(e,he(e,"Month")+r*n),s&&Me.updateOffset(e,i||r)}function D(e){return"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function w(e,t,n){var s,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0;for(s=0;a>s;s++)(n&&e[s]!==t[s]||!n&&S(e[s])!==S(t[s]))&&r++;return r+i}function v(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ct[e]||lt[t]||t}return e}function k(e){var t,s,a={};for(s in e)n(e,s)&&(t=v(s),t&&(a[t]=e[s]));return a}function b(t){var n,s;if(0===t.indexOf("week"))n=7,s="day";else{if(0!==t.indexOf("month"))return;n=12,s="month"}Me[t]=function(a,i){var r,o,u=Me._locale[t],c=[];if("number"==typeof a&&(i=a,a=e),o=function(e){var t=Me().utc().set(s,e);return u.call(Me._locale,t,a||"")},null!=i)return o(i);for(r=0;n>r;r++)c.push(o(r));return c}}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function T(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function O(e,t,n){return oe(Me([e,11,31+t-n]),t,n).week}function W(e){return G(e)?366:365}function G(e){return e%4===0&&e%100!==0||e%400===0}function U(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Te]<0||e._a[Te]>11?Te:e._a[Oe]<1||e._a[Oe]>T(e._a[Se],e._a[Te])?Oe:e._a[We]<0||e._a[We]>24||24===e._a[We]&&(0!==e._a[Ge]||0!==e._a[Ue]||0!==e._a[Ce])?We:e._a[Ge]<0||e._a[Ge]>59?Ge:e._a[Ue]<0||e._a[Ue]>59?Ue:e._a[Ce]<0||e._a[Ce]>999?Ce:-1,e._pf._overflowDayOfYear&&(Se>t||t>Oe)&&(t=Oe),e._pf.overflow=t)}function C(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function F(e){return e?e.toLowerCase().replace("_","-"):e}function P(e){for(var t,n,s,a,i=0;i<e.length;){for(a=F(e[i]).split("-"),t=a.length,n=F(e[i+1]),n=n?n.split("-"):null;t>0;){if(s=z(a.slice(0,t).join("-")))return s;if(n&&n.length>=t&&w(a,n,!0)>=t-1)break;t--}i++}return null}function z(e){var t=null;if(!Fe[e]&&ze)try{t=Me.locale(),require("./locale/"+e),Me.locale(t)}catch(n){}return Fe[e]}function I(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(Me.isMoment(e)||Y(e)?+e:+Me(e))-+n,n._d.setTime(+n._d+s),Me.updateOffset(n,!1),n):Me(e).local()}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function x(e){var t,n,s=e.match(He);for(t=0,n=s.length;n>t;t++)mt[s[t]]?s[t]=mt[s[t]]:s[t]=L(s[t]);return function(a){var i="";for(t=0;n>t;t++)i+=s[t]instanceof Function?s[t].call(a,e):s[t];return i}}function H(e,t){return e.isValid()?(t=A(t,e.localeData()),dt[t]||(dt[t]=x(t)),dt[t](e)):e.localeData().invalidDate()}function A(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(Ae.lastIndex=0;s>=0&&Ae.test(e);)e=e.replace(Ae,n),Ae.lastIndex=0,s-=1;return e}function Z(e,t){var n,s=t._strict;switch(e){case"Q":return Xe;case"DDDD":return Ke;case"YYYY":case"GGGG":case"gggg":return s?et:Ne;case"Y":case"G":case"g":return nt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return s?tt:je;case"S":if(s)return Xe;case"SS":if(s)return Be;case"SSS":if(s)return Ke;case"DDD":return Ee;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $e;case"a":case"A":return t._locale._meridiemParse;case"x":return Re;case"X":return Qe;case"Z":case"ZZ":return qe;case"T":return Je;case"SSSS":return Ve;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return s?Be:Ze;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ze;case"Do":return s?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Q(R(e.replace("\\","")),"i"))}}function E(e){e=e||"";var t=e.match(qe)||[],n=t[t.length-1]||[],s=(n+"").match(ot)||["-",0,0],a=+(60*s[1])+S(s[2]);return"+"===s[0]?-a:a}function N(e,t,n){var s,a=n._a;switch(e){case"Q":null!=t&&(a[Te]=3*(S(t)-1));break;case"M":case"MM":null!=t&&(a[Te]=S(t)-1);break;case"MMM":case"MMMM":s=n._locale.monthsParse(t,e,n._strict),null!=s?a[Te]=s:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[Oe]=S(t));break;case"Do":null!=t&&(a[Oe]=S(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=S(t));break;case"YY":a[Se]=Me.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":a[Se]=S(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":a[We]=S(t);break;case"m":case"mm":a[Ge]=S(t);break;case"s":case"ss":a[Ue]=S(t);break;case"S":case"SS":case"SSS":case"SSSS":a[Ce]=S(1e3*("0."+t));break;case"x":n._d=new Date(S(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=E(t);break;case"dd":case"ddd":case"dddd":s=n._locale.weekdaysParse(t),null!=s?(n._w=n._w||{},n._w.d=s):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=S(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=Me.parseTwoDigitYear(t)}}function j(e){var n,s,a,i,r,o,u;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(r=1,o=4,s=t(n.GG,e._a[Se],oe(Me(),1,4).year),a=t(n.W,1),i=t(n.E,1)):(r=e._locale._week.dow,o=e._locale._week.doy,s=t(n.gg,e._a[Se],oe(Me(),r,o).year),a=t(n.w,1),null!=n.d?(i=n.d,r>i&&++a):i=null!=n.e?n.e+r:r),u=ue(s,a,i,o,r),e._a[Se]=u.year,e._dayOfYear=u.dayOfYear}function V(e){var n,s,a,i,r=[];if(!e._d){for(a=q(e),e._w&&null==e._a[Oe]&&null==e._a[Te]&&j(e),e._dayOfYear&&(i=t(e._a[Se],a[Se]),e._dayOfYear>W(i)&&(e._pf._overflowDayOfYear=!0),s=se(i,0,e._dayOfYear),e._a[Te]=s.getUTCMonth(),e._a[Oe]=s.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=r[n]=a[n];for(;7>n;n++)e._a[n]=r[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[We]&&0===e._a[Ge]&&0===e._a[Ue]&&0===e._a[Ce]&&(e._nextDay=!0,e._a[We]=0),e._d=(e._useUTC?se:ne).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[We]=24)}}function $(e){var t;e._d||(t=k(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],V(e))}function q(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function J(t){if(t._f===Me.ISO_8601)return void B(t);t._a=[],t._pf.empty=!0;var n,s,a,i,r,o=""+t._i,u=o.length,c=0;for(a=A(t._f,t._locale).match(He)||[],n=0;n<a.length;n++)i=a[n],s=(o.match(Z(i,t))||[])[0],s&&(r=o.substr(0,o.indexOf(s)),r.length>0&&t._pf.unusedInput.push(r),o=o.slice(o.indexOf(s)+s.length),c+=s.length),mt[i]?(s?t._pf.empty=!1:t._pf.unusedTokens.push(i),N(i,s,t)):t._strict&&!s&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=u-c,o.length>0&&t._pf.unusedInput.push(o),t._pf.bigHour===!0&&t._a[We]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[We]<12&&(t._a[We]+=12),t._isPm===!1&&12===t._a[We]&&(t._a[We]=0),V(t),U(t)}function R(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,a){return t||n||s||a})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(e){var t,n,a,i,r;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=s(),t._f=e._f[i],J(t),C(t)&&(r+=t._pf.charsLeftOver,r+=10*t._pf.unusedTokens.length,t._pf.score=r,(null==a||a>r)&&(a=r,n=t));h(e,n||t)}function B(e){var t,n,s=e._i,a=st.exec(s);if(a){for(e._pf.iso=!0,t=0,n=it.length;n>t;t++)if(it[t][1].exec(s)){e._f=it[t][0]+(a[6]||" ");break}for(t=0,n=rt.length;n>t;t++)if(rt[t][1].exec(s)){e._f+=rt[t][0];break}s.match(qe)&&(e._f+="Z"),J(e)}else e._isValid=!1}function K(e){B(e),e._isValid===!1&&(delete e._isValid,Me.createFromInputFallback(e))}function ee(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function te(t){var n,s=t._i;s===e?t._d=new Date:Y(s)?t._d=new Date(+s):null!==(n=Ie.exec(s))?t._d=new Date(+n[1]):"string"==typeof s?K(t):D(s)?(t._a=ee(s.slice(0),function(e){return parseInt(e,10)}),V(t)):"object"==typeof s?$(t):"number"==typeof s?t._d=new Date(s):Me.createFromInputFallback(t)}function ne(e,t,n,s,a,i,r){var o=new Date(e,t,n,s,a,i,r);return 1970>e&&o.setFullYear(e),o}function se(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ae(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function ie(e,t,n,s,a){return a.relativeTime(t||1,!!n,e,s)}function re(e,t,n){var s=Me.duration(e).abs(),a=ke(s.as("s")),i=ke(s.as("m")),r=ke(s.as("h")),o=ke(s.as("d")),u=ke(s.as("M")),c=ke(s.as("y")),l=a<ht.s&&["s",a]||1===i&&["m"]||i<ht.m&&["mm",i]||1===r&&["h"]||r<ht.h&&["hh",r]||1===o&&["d"]||o<ht.d&&["dd",o]||1===u&&["M"]||u<ht.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,ie.apply({},l)}function oe(e,t,n){var s,a=n-t,i=n-e.day();return i>a&&(i-=7),a-7>i&&(i+=7),s=Me(e).add(i,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function ue(e,t,n,s,a){var i,r,o=se(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:a,i=a-o+(o>s?7:0)-(a>o?7:0),r=7*(t-1)+(n-a)+i+1,{year:r>0?e:e-1,dayOfYear:r>0?r:W(e-1)+r}}function ce(t){var n,s=t._i,a=t._f;return t._locale=t._locale||Me.localeData(t._l),null===s||a===e&&""===s?Me.invalid({nullInput:!0}):("string"==typeof s&&(t._i=s=t._locale.preparse(s)),Me.isMoment(s)?new l(s,!0):(a?D(a)?X(t):J(t):te(t),n=new l(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function le(e,t){var n,s;if(1===t.length&&D(t[0])&&(t=t[0]),!t.length)return Me();for(n=t[0],s=1;s<t.length;++s)t[s][e](n)&&(n=t[s]);return n}function de(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),T(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function he(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function fe(e,t,n){return"Month"===t?de(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function _e(e,t){return function(n){return null!=n?(fe(this,e,n),Me.updateOffset(this,t),this):he(this,e)}}function me(e){return 400*e/146097}function ye(e){return 146097*e/400}function pe(e){Me.duration.fn[e]=function(){return this._data[e]}}function ge(e){"undefined"==typeof ender&&(De=ve.moment,e?ve.moment=i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Me):ve.moment=Me)}for(var Me,De,Ye,we="2.8.4",ve="undefined"!=typeof global?global:this,ke=Math.round,be=Object.prototype.hasOwnProperty,Se=0,Te=1,Oe=2,We=3,Ge=4,Ue=5,Ce=6,Fe={},Pe=[],ze="undefined"!=typeof module&&module&&module.exports,Ie=/^\/?Date\((\-?\d+)/i,Le=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,xe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,He=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ze=/\d\d?/,Ee=/\d{1,3}/,Ne=/\d{1,4}/,je=/[+\-]?\d{1,6}/,Ve=/\d+/,$e=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,qe=/Z|[\+\-]\d\d:?\d\d/gi,Je=/T/i,Re=/[\+\-]?\d+/,Qe=/[\+\-]?\d+(\.\d{1,3})?/,Xe=/\d/,Be=/\d\d/,Ke=/\d{3}/,et=/\d{4}/,tt=/[+-]?\d{6}/,nt=/[+-]?\d+/,st=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at="YYYY-MM-DDTHH:mm:ssZ",it=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ot=/([\+\-]|\d\d)/gi,ut=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ct={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},lt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dt={},ht={s:45,m:45,h:22,d:26,M:11},ft="DDD w W M D d".split(" "),_t="M D H h m s w W".split(" "),mt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return m(S(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(S(e/60),2)+":"+m(S(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(S(e/60),2)+m(S(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},yt={},pt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ft.length;)Ye=ft.pop(),mt[Ye+"o"]=u(mt[Ye],Ye);for(;_t.length;)Ye=_t.pop(),mt[Ye+Ye]=o(mt[Ye],2);mt.DDDD=o(mt.DDD,3),h(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var s,a,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(a=Me.utc([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Me([2e3,1]).day(t),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var s=this._calendar[e];return"function"==typeof s?s.apply(t,[n]):s},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,s){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,s):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return oe(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),Me=function(t,n,a,i){var r;return"boolean"==typeof a&&(i=a,a=e),r={},r._isAMomentObject=!0,r._i=t,r._f=n,r._l=a,r._strict=i,r._isUTC=!1,r._pf=s(),ce(r)},Me.suppressDeprecationWarnings=!1,Me.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),Me.min=function(){var e=[].slice.call(arguments,0);return le("isBefore",e)},Me.max=function(){var e=[].slice.call(arguments,0);return le("isAfter",e)},Me.utc=function(t,n,a,i){var r;return"boolean"==typeof a&&(i=a,a=e),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=a,r._i=t,r._f=n,r._strict=i,r._pf=s(),ce(r).utc()},Me.unix=function(e){return Me(1e3*e)},Me.duration=function(e,t){var s,a,i,r,o=e,u=null;return Me.isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(u=Le.exec(e))?(s="-"===u[1]?-1:1,o={y:0,d:S(u[Oe])*s,h:S(u[We])*s,m:S(u[Ge])*s,s:S(u[Ue])*s,ms:S(u[Ce])*s}):(u=xe.exec(e))?(s="-"===u[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s},o={y:i(u[2]),M:i(u[3]),d:i(u[4]),h:i(u[5]),m:i(u[6]),s:i(u[7]),w:i(u[8])}):"object"==typeof o&&("from"in o||"to"in o)&&(r=p(Me(o.from),Me(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),a=new d(o),Me.isDuration(e)&&n(e,"_locale")&&(a._locale=e._locale),a},Me.version=we,Me.defaultFormat=at,Me.ISO_8601=function(){},Me.momentProperties=Pe,Me.updateOffset=function(){},Me.relativeTimeThreshold=function(t,n){return ht[t]===e?!1:n===e?ht[t]:(ht[t]=n,!0)},Me.lang=i("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return Me.locale(e,t)}),Me.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?Me.defineLocale(e,t):Me.localeData(e),n&&(Me.duration._locale=Me._locale=n)),Me._locale._abbr},Me.defineLocale=function(e,t){return null!==t?(t.abbr=e,Fe[e]||(Fe[e]=new c),Fe[e].set(t),Me.locale(e),Fe[e]):(delete Fe[e],null)},Me.langData=i("moment.langData is deprecated. Use moment.localeData instead.",function(e){return Me.localeData(e)}),Me.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Me._locale;if(!D(e)){if(t=z(e))return t;e=[e]}return P(e)},Me.isMoment=function(e){return e instanceof l||null!=e&&n(e,"_isAMomentObject")},Me.isDuration=function(e){return e instanceof d};for(Ye=pt.length-1;Ye>=0;--Ye)b(pt[Ye]);Me.normalizeUnits=function(e){return v(e)},Me.invalid=function(e){var t=Me.utc(NaN);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},Me.parseZone=function(){return Me.apply(null,arguments).parseZone()},Me.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)},h(Me.fn=l.prototype,{clone:function(){return Me(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=Me(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return C(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?Me.utc(this._a):Me(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=H(this,e||Me.defaultFormat);return this.localeData().postformat(t)},add:g(1,"add"),subtract:g(-1,"subtract"),diff:function(e,t,n){var s,a,i,r=I(e,this),o=6e4*(this.zone()-r.zone());return t=v(t),"year"===t||"month"===t?(s=432e5*(this.daysInMonth()+r.daysInMonth()),a=12*(this.year()-r.year())+(this.month()-r.month()),i=this-Me(this).startOf("month")-(r-Me(r).startOf("month")),i-=6e4*(this.zone()-Me(this).startOf("month").zone()-(r.zone()-Me(r).startOf("month").zone())),a+=i/s,"year"===t&&(a/=12)):(s=this-r,a="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-o)/864e5:"week"===t?(s-o)/6048e5:s),n?a:_(a)},from:function(e,t){return Me.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(Me(),e)},calendar:function(e){var t=e||Me(),n=I(t,this).startOf("day"),s=this.diff(n,"days",!0),a=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,Me(t)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ae(e,this.localeData()),this.add(e-t,"d")):t},month:_e("Month",!0),startOf:function(e){switch(e=v(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=v(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=v("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Me.isMoment(e)?e:Me(e),+this>+e):(n=Me.isMoment(e)?+e:+Me(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=v("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Me.isMoment(e)?e:Me(e),+e>+this):(n=Me.isMoment(e)?+e:+Me(e),+this.clone().endOf(t)<n)},isSame:function(e,t){var n;return t=v(t||"millisecond"),"millisecond"===t?(e=Me.isMoment(e)?e:Me(e),+this===+e):(n=+Me(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:i("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=Me.apply(null,arguments),this>e?this:e}),max:i("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=Me.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,s=this._offset||0;return null==e?this._isUTC?s:this._dateTzOffset():("string"==typeof e&&(e=E(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),s!==e&&(!t||this._changeInProgress?M(this,Me.duration(s-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Me.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?Me(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return T(this.year(),this.month())},dayOfYear:function(e){var t=ke((Me(this).startOf("day")-Me(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=oe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=oe(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=oe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return O(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return O(this.year(),e.dow,e.doy)},get:function(e){return e=v(e),this[e]()},set:function(e,t){return e=v(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=Me.localeData(t),null!=n&&(this._locale=n),this)},lang:i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),Me.fn.millisecond=Me.fn.milliseconds=_e("Milliseconds",!1),Me.fn.second=Me.fn.seconds=_e("Seconds",!1),Me.fn.minute=Me.fn.minutes=_e("Minutes",!1),Me.fn.hour=Me.fn.hours=_e("Hours",!0),Me.fn.date=_e("Date",!0),Me.fn.dates=i("dates accessor is deprecated. Use date instead.",_e("Date",!0)),Me.fn.year=_e("FullYear",!0),Me.fn.years=i("years accessor is deprecated. Use year instead.",_e("FullYear",!0)),Me.fn.days=Me.fn.day,Me.fn.months=Me.fn.month,Me.fn.weeks=Me.fn.week,Me.fn.isoWeeks=Me.fn.isoWeek,Me.fn.quarters=Me.fn.quarter,Me.fn.toJSON=Me.fn.toISOString,h(Me.duration.fn=d.prototype,{_bubble:function(){var e,t,n,s=this._milliseconds,a=this._days,i=this._months,r=this._data,o=0;r.milliseconds=s%1e3,e=_(s/1e3),r.seconds=e%60,t=_(e/60),r.minutes=t%60,n=_(t/60),r.hours=n%24,a+=_(n/24),o=_(me(a)),a-=_(ye(o)),i+=_(a/30),a%=30,o+=_(i/12),i%=12,r.days=a,r.months=i,r.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return _(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(e){var t=re(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=Me.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=Me.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=v(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=v(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*me(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ye(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;
case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:Me.fn.lang,locale:Me.fn.locale,toIsoString:i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),s=Math.abs(this.hours()),a=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(s||a||i?"T":"")+(s?s+"H":"")+(a?a+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale}}),Me.duration.fn.toString=Me.duration.fn.toISOString;for(Ye in ut)n(ut,Ye)&&pe(Ye.toLowerCase());Me.duration.fn.asMilliseconds=function(){return this.as("ms")},Me.duration.fn.asSeconds=function(){return this.as("s")},Me.duration.fn.asMinutes=function(){return this.as("m")},Me.duration.fn.asHours=function(){return this.as("h")},Me.duration.fn.asDays=function(){return this.as("d")},Me.duration.fn.asWeeks=function(){return this.as("weeks")},Me.duration.fn.asMonths=function(){return this.as("M")},Me.duration.fn.asYears=function(){return this.as("y")},Me.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),ze?module.exports=Me:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(ve.moment=De),Me}),ge(!0)):ge()}).call(this);
!function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(("undefined"!=typeof global?global:this).moment)}(function(e){return e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiem:function(e,t,n){var d=100*e+t;return 600>d?"":900>d?"":1130>d?"":1230>d?"":1800>d?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}})});
var qrcode=function(){function r(t,e){if("undefined"==typeof t.length)throw new Error(t.length+"/"+e);var n=function(){for(var r=0;r<t.length&&0==t[r];)r+=1;for(var n=new Array(t.length-r+e),o=0;o<t.length-r;o+=1)n[o]=t[o+r];return n}(),o={};return o.getAt=function(r){return n[r]},o.getLength=function(){return n.length},o.multiply=function(t){for(var e=new Array(o.getLength()+t.getLength()-1),n=0;n<o.getLength();n+=1)for(var a=0;a<t.getLength();a+=1)e[n+a]^=i.gexp(i.glog(o.getAt(n))+i.glog(t.getAt(a)));return r(e,0)},o.mod=function(t){if(o.getLength()-t.getLength()<0)return o;for(var e=i.glog(o.getAt(0))-i.glog(t.getAt(0)),n=new Array(o.getLength()),a=0;a<o.getLength();a+=1)n[a]=o.getAt(a);for(var a=0;a<t.getLength();a+=1)n[a]^=i.gexp(i.glog(t.getAt(a))+e);return r(n,0).mod(t)},o}var t=function(t,e){var o=236,i=17,c=t,h=n[e],v=null,l=0,w=null,d=new Array,y={},A=function(r,t){l=4*c+17,v=function(r){for(var t=new Array(r),e=0;r>e;e+=1){t[e]=new Array(r);for(var n=0;r>n;n+=1)t[e][n]=null}return t}(l),B(0,0),B(l-7,0),B(0,l-7),T(),p(),D(r,t),c>=7&&M(r),null==w&&(w=L(c,h,d)),k(w,t)},B=function(r,t){for(var e=-1;7>=e;e+=1)if(!(-1>=r+e||r+e>=l))for(var n=-1;7>=n;n+=1)-1>=t+n||t+n>=l||(e>=0&&6>=e&&(0==n||6==n)||n>=0&&6>=n&&(0==e||6==e)||e>=2&&4>=e&&n>=2&&4>=n?v[r+e][t+n]=!0:v[r+e][t+n]=!1)},E=function(){for(var r=0,t=0,e=0;8>e;e+=1){A(!0,e);var n=a.getLostPoint(y);(0==e||r>n)&&(r=n,t=e)}return t},p=function(){for(var r=8;l-8>r;r+=1)null==v[r][6]&&(v[r][6]=r%2==0);for(var t=8;l-8>t;t+=1)null==v[6][t]&&(v[6][t]=t%2==0)},T=function(){for(var r=a.getPatternPosition(c),t=0;t<r.length;t+=1)for(var e=0;e<r.length;e+=1){var n=r[t],o=r[e];if(null==v[n][o])for(var i=-2;2>=i;i+=1)for(var u=-2;2>=u;u+=1)-2==i||2==i||-2==u||2==u||0==i&&0==u?v[n+i][o+u]=!0:v[n+i][o+u]=!1}},M=function(r){for(var t=a.getBCHTypeNumber(c),e=0;18>e;e+=1){var n=!r&&1==(t>>e&1);v[Math.floor(e/3)][e%3+l-8-3]=n}for(var e=0;18>e;e+=1){var n=!r&&1==(t>>e&1);v[e%3+l-8-3][Math.floor(e/3)]=n}},D=function(r,t){for(var e=h<<3|t,n=a.getBCHTypeInfo(e),o=0;15>o;o+=1){var i=!r&&1==(n>>o&1);6>o?v[o][8]=i:8>o?v[o+1][8]=i:v[l-15+o][8]=i}for(var o=0;15>o;o+=1){var i=!r&&1==(n>>o&1);8>o?v[8][l-o-1]=i:9>o?v[8][15-o-1+1]=i:v[8][15-o-1]=i}v[l-8][8]=!r},k=function(r,t){for(var e=-1,n=l-1,o=7,i=0,u=a.getMaskFunction(t),f=l-1;f>0;f-=2)for(6==f&&(f-=1);;){for(var g=0;2>g;g+=1)if(null==v[n][f-g]){var c=!1;i<r.length&&(c=1==(r[i]>>>o&1));var h=u(n,f-g);h&&(c=!c),v[n][f-g]=c,o-=1,-1==o&&(i+=1,o=7)}if(n+=e,0>n||n>=l){n-=e,e=-e;break}}},C=function(t,e){for(var n=0,o=0,i=0,u=new Array(e.length),f=new Array(e.length),g=0;g<e.length;g+=1){var c=e[g].dataCount,h=e[g].totalCount-c;o=Math.max(o,c),i=Math.max(i,h),u[g]=new Array(c);for(var v=0;v<u[g].length;v+=1)u[g][v]=255&t.getBuffer()[v+n];n+=c;var l=a.getErrorCorrectPolynomial(h),s=r(u[g],l.getLength()-1),w=s.mod(l);f[g]=new Array(l.getLength()-1);for(var v=0;v<f[g].length;v+=1){var d=v+w.getLength()-f[g].length;f[g][v]=d>=0?w.getAt(d):0}}for(var y=0,v=0;v<e.length;v+=1)y+=e[v].totalCount;for(var A=new Array(y),B=0,v=0;o>v;v+=1)for(var g=0;g<e.length;g+=1)v<u[g].length&&(A[B]=u[g][v],B+=1);for(var v=0;i>v;v+=1)for(var g=0;g<e.length;g+=1)v<f[g].length&&(A[B]=f[g][v],B+=1);return A},L=function(r,t,e){for(var n=u.getRSBlocks(r,t),g=f(),c=0;c<e.length;c+=1){var h=e[c];g.put(h.getMode(),4),g.put(h.getLength(),a.getLengthInBits(h.getMode(),r)),h.write(g)}for(var v=0,c=0;c<n.length;c+=1)v+=n[c].dataCount;if(g.getLengthInBits()>8*v)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+8*v+")");for(g.getLengthInBits()+4<=8*v&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;;){if(g.getLengthInBits()>=8*v)break;if(g.put(o,8),g.getLengthInBits()>=8*v)break;g.put(i,8)}return C(g,n)};return y.addData=function(r){var t=g(r);d.push(t),w=null},y.isDark=function(r,t){if(0>r||r>=l||0>t||t>=l)throw new Error(r+","+t);return v[r][t]},y.getModuleCount=function(){return l},y.make=function(){A(!1,E())},y.createTableTag=function(r,t){r=r||2,t="undefined"==typeof t?4*r:t;var e="";e+='<table style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: "+t+"px;",e+='">',e+="<tbody>";for(var n=0;n<y.getModuleCount();n+=1){e+="<tr>";for(var o=0;o<y.getModuleCount();o+=1)e+='<td style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: 0px;",e+=" width: "+r+"px;",e+=" height: "+r+"px;",e+=" background-color: ",e+=y.isDark(n,o)?"#000000":"#ffffff",e+=";",e+='"/>';e+="</tr>"}return e+="</tbody>",e+="</table>"},y.createImgTag=function(r,t){r=r||2,t="undefined"==typeof t?4*r:t;var e=y.getModuleCount()*r+2*t,n=t,o=e-t;return s(e,e,function(t,e){if(t>=n&&o>t&&e>=n&&o>e){var a=Math.floor((t-n)/r),i=Math.floor((e-n)/r);return y.isDark(i,a)?0:1}return 1})},y};t.stringToBytes=function(r){for(var t=new Array,e=0;e<r.length;e+=1){var n=r.charCodeAt(e);t.push(255&n)}return t},t.createStringToBytes=function(r,t){var e=function(){for(var e=v(r),n=function(){var r=e.read();if(-1==r)throw new Error;return r},o=0,a={};;){var i=e.read();if(-1==i)break;var u=n(),f=n(),g=n(),c=String.fromCharCode(i<<8|u),h=f<<8|g;a[c]=h,o+=1}if(o!=t)throw new Error(o+" != "+t);return a}(),n="?".charCodeAt(0);return function(r){for(var t=new Array,o=0;o<r.length;o+=1){var a=r.charCodeAt(o);if(128>a)t.push(a);else{var i=e[r.charAt(o)];"number"==typeof i?(255&i)==i?t.push(i):(t.push(i>>>8),t.push(255&i)):t.push(n)}}return t}};var e={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,a=7973,u=21522,f={},g=function(r){for(var t=0;0!=r;)t+=1,r>>>=1;return t};return f.getBCHTypeInfo=function(r){for(var t=r<<10;g(t)-g(n)>=0;)t^=n<<g(t)-g(n);return(r<<10|t)^u},f.getBCHTypeNumber=function(r){for(var t=r<<12;g(t)-g(a)>=0;)t^=a<<g(t)-g(a);return r<<12|t},f.getPatternPosition=function(r){return t[r-1]},f.getMaskFunction=function(r){switch(r){case o.PATTERN000:return function(r,t){return(r+t)%2==0};case o.PATTERN001:return function(r,t){return r%2==0};case o.PATTERN010:return function(r,t){return t%3==0};case o.PATTERN011:return function(r,t){return(r+t)%3==0};case o.PATTERN100:return function(r,t){return(Math.floor(r/2)+Math.floor(t/3))%2==0};case o.PATTERN101:return function(r,t){return r*t%2+r*t%3==0};case o.PATTERN110:return function(r,t){return(r*t%2+r*t%3)%2==0};case o.PATTERN111:return function(r,t){return(r*t%3+(r+t)%2)%2==0};default:throw new Error("bad maskPattern:"+r)}},f.getErrorCorrectPolynomial=function(t){for(var e=r([1],0),n=0;t>n;n+=1)e=e.multiply(r([1,i.gexp(n)],0));return e},f.getLengthInBits=function(r,t){if(t>=1&&10>t)switch(r){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(27>t)switch(r){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else{if(!(41>t))throw new Error("type:"+t);switch(r){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}}},f.getLostPoint=function(r){for(var t=r.getModuleCount(),e=0,n=0;t>n;n+=1)for(var o=0;t>o;o+=1){for(var a=0,i=r.isDark(n,o),u=-1;1>=u;u+=1)if(!(0>n+u||n+u>=t))for(var f=-1;1>=f;f+=1)0>o+f||o+f>=t||(0!=u||0!=f)&&i==r.isDark(n+u,o+f)&&(a+=1);a>5&&(e+=3+a-5)}for(var n=0;t-1>n;n+=1)for(var o=0;t-1>o;o+=1){var g=0;r.isDark(n,o)&&(g+=1),r.isDark(n+1,o)&&(g+=1),r.isDark(n,o+1)&&(g+=1),r.isDark(n+1,o+1)&&(g+=1),(0==g||4==g)&&(e+=3)}for(var n=0;t>n;n+=1)for(var o=0;t-6>o;o+=1)r.isDark(n,o)&&!r.isDark(n,o+1)&&r.isDark(n,o+2)&&r.isDark(n,o+3)&&r.isDark(n,o+4)&&!r.isDark(n,o+5)&&r.isDark(n,o+6)&&(e+=40);for(var o=0;t>o;o+=1)for(var n=0;t-6>n;n+=1)r.isDark(n,o)&&!r.isDark(n+1,o)&&r.isDark(n+2,o)&&r.isDark(n+3,o)&&r.isDark(n+4,o)&&!r.isDark(n+5,o)&&r.isDark(n+6,o)&&(e+=40);for(var c=0,o=0;t>o;o+=1)for(var n=0;t>n;n+=1)r.isDark(n,o)&&(c+=1);var h=Math.abs(100*c/t/t-50)/5;return e+=10*h},f}(),i=function(){for(var r=new Array(256),t=new Array(256),e=0;8>e;e+=1)r[e]=1<<e;for(var e=8;256>e;e+=1)r[e]=r[e-4]^r[e-5]^r[e-6]^r[e-8];for(var e=0;255>e;e+=1)t[r[e]]=e;var n={};return n.glog=function(r){if(1>r)throw new Error("glog("+r+")");return t[r]},n.gexp=function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return r[t]},n}(),u=function(){var r=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16]],t=function(r,t){var e={};return e.totalCount=r,e.dataCount=t,e},e={},o=function(t,e){switch(e){case n.L:return r[4*(t-1)+0];case n.M:return r[4*(t-1)+1];case n.Q:return r[4*(t-1)+2];case n.H:return r[4*(t-1)+3];default:return}};return e.getRSBlocks=function(r,e){var n=o(r,e);if("undefined"==typeof n)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var a=n.length/3,i=new Array,u=0;a>u;u+=1)for(var f=n[3*u+0],g=n[3*u+1],c=n[3*u+2],h=0;f>h;h+=1)i.push(t(g,c));return i},e}(),f=function(){var r=new Array,t=0,e={};return e.getBuffer=function(){return r},e.getAt=function(t){var e=Math.floor(t/8);return 1==(r[e]>>>7-t%8&1)},e.put=function(r,t){for(var n=0;t>n;n+=1)e.putBit(1==(r>>>t-n-1&1))},e.getLengthInBits=function(){return t},e.putBit=function(e){var n=Math.floor(t/8);r.length<=n&&r.push(0),e&&(r[n]|=128>>>t%8),t+=1},e},g=function(r){var n=e.MODE_8BIT_BYTE,o=t.stringToBytes(r),a={};return a.getMode=function(){return n},a.getLength=function(r){return o.length},a.write=function(r){for(var t=0;t<o.length;t+=1)r.put(o[t],8)},a},c=function(){var r=new Array,t={};return t.writeByte=function(t){r.push(255&t)},t.writeShort=function(r){t.writeByte(r),t.writeByte(r>>>8)},t.writeBytes=function(r,e,n){e=e||0,n=n||r.length;for(var o=0;n>o;o+=1)t.writeByte(r[o+e])},t.writeString=function(r){for(var e=0;e<r.length;e+=1)t.writeByte(r.charCodeAt(e))},t.toByteArray=function(){return r},t.toString=function(){var t="";t+="[";for(var e=0;e<r.length;e+=1)e>0&&(t+=","),t+=r[e];return t+="]"},t},h=function(){var r=0,t=0,e=0,n="",o={},a=function(r){n+=String.fromCharCode(i(63&r))},i=function(r){if(0>r);else{if(26>r)return 65+r;if(52>r)return 97+(r-26);if(62>r)return 48+(r-52);if(62==r)return 43;if(63==r)return 47}throw new Error("n:"+r)};return o.writeByte=function(n){for(r=r<<8|255&n,t+=8,e+=1;t>=6;)a(r>>>t-6),t-=6},o.flush=function(){if(t>0&&(a(r<<6-t),r=0,t=0),e%3!=0)for(var o=3-e%3,i=0;o>i;i+=1)n+="="},o.toString=function(){return n},o},v=function(r){var t=r,e=0,n=0,o=0,a={};a.read=function(){for(;8>o;){if(e>=t.length){if(0==o)return-1;throw new Error("unexpected end of file./"+o)}var r=t.charAt(e);if(e+=1,"="==r)return o=0,-1;r.match(/^\s$/)||(n=n<<6|i(r.charCodeAt(0)),o+=6)}var a=n>>>o-8&255;return o-=8,a};var i=function(r){if(r>=65&&90>=r)return r-65;if(r>=97&&122>=r)return r-97+26;if(r>=48&&57>=r)return r-48+52;if(43==r)return 62;if(47==r)return 63;throw new Error("c:"+r)};return a},l=function(r,t){var e=r,n=t,o=new Array(r*t),a={};a.setPixel=function(r,t,n){o[t*e+r]=n},a.write=function(r){r.writeString("GIF87a"),r.writeShort(e),r.writeShort(n),r.writeByte(128),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(255),r.writeByte(255),r.writeByte(255),r.writeString(","),r.writeShort(0),r.writeShort(0),r.writeShort(e),r.writeShort(n),r.writeByte(0);var t=2,o=u(t);r.writeByte(t);for(var a=0;o.length-a>255;)r.writeByte(255),r.writeBytes(o,a,255),a+=255;r.writeByte(o.length-a),r.writeBytes(o,a,o.length-a),r.writeByte(0),r.writeString(";")};var i=function(r){var t=r,e=0,n=0,o={};return o.write=function(r,o){if(r>>>o!=0)throw new Error("length over");for(;e+o>=8;)t.writeByte(255&(r<<e|n)),o-=8-e,r>>>=8-e,n=0,e=0;n=r<<e|n,e+=o},o.flush=function(){e>0&&t.writeByte(n)},o},u=function(r){for(var t=1<<r,e=(1<<r)+1,n=r+1,a=f(),u=0;t>u;u+=1)a.add(String.fromCharCode(u));a.add(String.fromCharCode(t)),a.add(String.fromCharCode(e));var g=c(),h=i(g);h.write(t,n);var v=0,l=String.fromCharCode(o[v]);for(v+=1;v<o.length;){var s=String.fromCharCode(o[v]);v+=1,a.contains(l+s)?l+=s:(h.write(a.indexOf(l),n),a.size()<4095&&(a.size()==1<<n&&(n+=1),a.add(l+s)),l=s)}return h.write(a.indexOf(l),n),h.write(e,n),h.flush(),g.toByteArray()},f=function(){var r={},t=0,e={};return e.add=function(n){if(e.contains(n))throw new Error("dup key:"+n);r[n]=t,t+=1},e.size=function(){return t},e.indexOf=function(t){return r[t]},e.contains=function(t){return"undefined"!=typeof r[t]},e};return a},s=function(r,t,e,n){for(var o=l(r,t),a=0;t>a;a+=1)for(var i=0;r>i;i+=1)o.setPixel(i,a,e(i,a));var u=c();o.write(u);for(var f=h(),g=u.toByteArray(),v=0;v<g.length;v+=1)f.writeByte(g[v]);f.flush();var s="";return s+="<img",s+=' src="',s+="data:image/gif;base64,",s+=f,s+='"',s+=' width="',s+=r,s+='"',s+=' height="',s+=t,s+='"',n&&(s+=' alt="',s+=n,s+='"'),s+="/>"};return t}();
!function(r){r.stringToBytes=function(r){function n(r){for(var n=[],t=0;t<r.length;t++){var u=r.charCodeAt(t);128>u?n.push(u):2048>u?n.push(192|u>>6,128|63&u):55296>u||u>=57344?n.push(224|u>>12,128|u>>6&63,128|63&u):(t++,u=65536+((1023&u)<<10|1023&r.charCodeAt(t)),n.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u))}return n}return n(r)}}(qrcode);
angular.module("monospaced.qrcode",[]).directive("qrcode",["$window",function(e){var r=!!e.CanvasRenderingContext2D,n={L:"Low",M:"Medium",Q:"Quartile",H:"High"},o=function(e,r,n,o){for(var t=0;n>t;t++)for(var i=0;n>i;i++){var a=Math.ceil((i+1)*o)-Math.floor(i*o),c=Math.ceil((t+1)*o)-Math.floor(t*o);e.fillStyle=r.isDark(t,i)?"#000":"#fff",e.fillRect(Math.round(i*o),Math.round(t*o),a,c)}};return{restrict:"E",template:'<canvas class="qrcode"></canvas>',link:function(e,t,i){var a,c,d,f,l,s,u,v,h,m=t[0],g=t.find("canvas"),M=g[0],w=r?M.getContext("2d"):null,q="download"in i,p=i.href,$=q||p?document.createElement("a"):"",C=/^\s+|\s+$/g,L=function(e){c=Math.max(1,Math.min(parseInt(e,10),10))||4},b=function(e){d=e in n?e:"M"},D=function(e){if(e){f=e.replace(C,""),v=qrcode(c,d),v.addData(f);try{v.make()}catch(r){return void(a=r.message)}a=!1,s=v.getModuleCount()}},k=function(e){l=parseInt(e,10)||2*s,u=l/s,M.width=M.height=l},H=function(){if(v){if(a)return $&&($.removeAttribute("download"),$.title="",$.href="#_"),r||(m.innerHTML='<img src width="'+l+'"height="'+l+'"class="qrcode">'),void e.$emit("qrcode:error",a);if(q&&(m.download="qrcode.png",m.title="Download QR code"),r){if(o(w,v,s,u),q)return void(m.href=M.toDataURL("image/png"))}else if(m.innerHTML=v.createImgTag(u,0),h=t.find("img"),h.addClass("qrcode"),q)return void(m.href=h[0].src);p&&(m.href=p)}};$&&($.className="qrcode-link",g.wrap($),m=$),L(i.version),b(i.errorCorrectionLevel),k(i.size),i.$observe("version",function(e){e&&(L(e),D(f),k(l),H())}),i.$observe("errorCorrectionLevel",function(e){e&&(b(e),D(f),k(l),H())}),i.$observe("data",function(e){e&&(D(e),k(l),H())}),i.$observe("size",function(e){e&&(k(e),H())}),i.$observe("href",function(e){e&&(p=e,H())})}}}]);
!function(e){function n(){var e=arguments[0],t=n.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=n.parse(e)),n.format.call(null,t[e],arguments)}function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,n){return Array(n+1).join(e)}var s={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(e,o){var a,i,l,c,f,p,u,g=1,d=e.length,h="",x=[],b=!0,y="";for(i=0;d>i;i++)if(h=t(e[i]),"string"===h)x[x.length]=e[i];else if("array"===h){if(c=e[i],c[2])for(a=o[g],l=0;l<c[2].length;l++){if(!a.hasOwnProperty(c[2][l]))throw new Error(n("[sprintf] property '%s' does not exist",c[2][l]));a=a[c[2][l]]}else a=c[1]?o[c[1]]:o[g++];if("function"==t(a)&&(a=a()),s.not_string.test(c[8])&&s.not_json.test(c[8])&&"number"!=t(a)&&isNaN(a))throw new TypeError(n("[sprintf] expecting number but found %s",t(a)));switch(s.number.test(c[8])&&(b=a>=0),c[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,c[6]?parseInt(c[6]):0);break;case"e":a=c[7]?a.toExponential(c[7]):a.toExponential();break;case"f":a=c[7]?parseFloat(a).toFixed(c[7]):parseFloat(a);break;case"g":a=c[7]?parseFloat(a).toPrecision(c[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&c[7]?a.substring(0,c[7]):a;break;case"u":a>>>=0;break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}s.json.test(c[8])?x[x.length]=a:(!s.number.test(c[8])||b&&!c[3]?y="":(y=b?"+":"-",a=a.toString().replace(s.sign,"")),p=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",u=c[6]-(y+a).length,f=c[6]&&u>0?r(p,u):"",x[x.length]=c[5]?y+a+f:"0"===p?y+f+a:f+y+a)}return x.join("")},n.cache={},n.parse=function(e){for(var n=e,t=[],r=[],o=0;n;){if(null!==(t=s.text.exec(n)))r[r.length]=t[0];else if(null!==(t=s.modulo.exec(n)))r[r.length]="%";else{if(null===(t=s.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var a=[],i=t[2],l=[];if(null===(l=s.key.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=l[1];""!==(i=i.substring(l[0].length));)if(null!==(l=s.key_access.exec(i)))a[a.length]=l[1];else{if(null===(l=s.index_access.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=l[1]}t[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=t}n=n.substring(t[0].length)}return r};var o=function(e,t,r){return r=(t||[]).slice(0),r.splice(0,0,e),n.apply(null,r)};"undefined"!=typeof exports?(exports.sprintf=n,exports.vsprintf=o):(e.sprintf=n,e.vsprintf=o,"function"==typeof define&&define.amd&&define(function(){return{sprintf:n,vsprintf:o}}))}("undefined"==typeof window?this:window);
angular.module("sprintf",[]).filter("sprintf",function(){return function(){return sprintf.apply(null,arguments)}}).filter("fmt",["$filter",function(n){return n("sprintf")}]).filter("vsprintf",function(){return function(n,t){return vsprintf(n,t)}}).filter("vfmt",["$filter",function(n){return n("vsprintf")}]);
var PDFObject=function(e){if(!e||!e.url)return!1;var n,t,r,i,a,o,u,c,d,l,f,s="1.2",h=e.id||!1,b=e.width||"100%",g=e.height||"100%",p=e.pdfOpenParams;return r=function(e){var n;try{n=new ActiveXObject(e)}catch(t){n=null}return n},i=function(){var e=null;return window.ActiveXObject&&(e=r("AcroPDF.PDF"),e||(e=r("PDF.PdfCtrl")),null!==e)?!0:!1},a=function(){var e,n=navigator.plugins,t=n.length,r=/Adobe Reader|Adobe PDF|Acrobat/gi;for(e=0;t>e;e++)if(r.test(n[e].name))return!0;return!1},o=function(){var e=navigator.mimeTypes["application/pdf"];return e&&e.enabledPlugin},u=function(){var e=null;return a()||i()?e="Adobe":o()&&(e="generic"),e},c=function(){var e,n,t=document.getElementsByTagName("html");return t?(e=t[0].style,n=document.body.style,e.height="100%",e.overflow="hidden",n.margin="0",n.padding="0",n.height="100%",void(n.overflow="hidden")):!1},d=function(e){var n,t="";if(!e)return t;for(n in e)e.hasOwnProperty(n)&&(t+=n+"=",t+="search"===n?encodeURI(e[n]):e[n],t+="&");return t.slice(0,t.length-1)},l=function(e){var r=null;switch(e){case"url":r=n;break;case"id":r=h;break;case"width":r=b;break;case"height":r=g;break;case"pdfOpenParams":r=p;break;case"pluginTypeFound":r=t;break;case"pdfobjectversion":r=s}return r},f=function(e){if(!t)return!1;var r=null;if(e){if(r=e.nodeType&&1===e.nodeType?e:document.getElementById(e),!r)return!1}else r=document.body,c(),b="100%",g="100%";return r.innerHTML='<object    data="'+n+'" type="application/pdf" width="'+b+'" height="'+g+'"></object>',r.getElementsByTagName("object")[0]},n=encodeURI(e.url)+"#"+d(p),t=u(),this.get=function(e){return l(e)},this.embed=function(e){return f(e)},this.pdfobjectversion=s,this};
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,a){var i=a.has("$animateCss")?a.get("$animateCss"):null;return{link:function(a,o,r){function l(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(c(a)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start()["finally"](s):e.addClass(o,"in",{to:{height:o[0].scrollHeight+"px"}}).then(s)})}function s(){o.removeClass("collapsing").addClass("collapse").css({height:"auto"}),d(a)}function u(){return o.hasClass("collapse")||o.hasClass("in")?void t.resolve(m(a)).then(function(){o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:{height:"0"}}).start()["finally"](p):e.removeClass(o,"in",{to:{height:"0"}}).then(p)}):p()}function p(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse"),f(a)}var c=n(r.expanding),d=n(r.expanded),m=n(r.collapsing),f=n(r.collapsed);a.$eval(r.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),a.$watch(r.uibCollapse,function(e){e?u():l()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,a,i){t.$watch(function(){return i[a.uibAccordionTransclude]},function(t){if(t){var a=angular.element(n[0].querySelector(e()));a.html(""),a.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,a){e.closeable=!!t.close;var i=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;i&&a(function(){e.close()},parseInt(i,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,a,i){var o=i[0],r=i[1],l=e(a.uibUncheckable);n.find("input").css({display:"none"}),r.$render=function(){n.toggleClass(o.activeClass,angular.equals(r.$modelValue,t.$eval(a.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!a.disabled){var e=n.hasClass(o.activeClass);(!e||angular.isDefined(a.uncheckable))&&t.$apply(function(){r.$setViewValue(e?null:t.$eval(a.uibBtnRadio)),r.$render()})}}),a.uibUncheckable&&t.$watch(l,function(e){a.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,a){function i(){return r(n.btnCheckboxTrue,!0)}function o(){return r(n.btnCheckboxFalse,!1)}function r(t,n){return angular.isDefined(t)?e.$eval(t):n}var l=a[0],s=a[1];t.find("input").css({display:"none"}),s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,i()))},t.on(l.toggleEvent,function(){n.disabled||e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?o():i()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,a,i){function o(){for(;$.length;)$.shift()}function r(e){for(var t=0;t<g.length;t++)g[t].slide.active=t===e}function l(n,a,s){if(!y){if(angular.extend(n,{direction:s}),angular.extend(g[v].slide||{},{direction:s}),i.enabled(t)&&!e.$currentTransition&&g[a].element&&h.slides.length>1){g[a].element.data(b,n.direction);var u=h.getCurrentIndex();angular.isNumber(u)&&g[u].element&&g[u].element.data(b,n.direction),e.$currentTransition=!0,i.on("addClass",g[a].element,function(t,n){if("close"===n&&(e.$currentTransition=null,i.off("addClass",t),$.length)){var a=$.pop().slide,r=a.index,s=r>h.getCurrentIndex()?"next":"prev";o(),l(a,r,s)}})}e.active=n.index,v=n.index,r(a),c()}}function s(e){for(var t=0;t<g.length;t++)if(g[t].slide===e)return t}function u(){m&&(n.cancel(m),m=null)}function p(t){t.length||(e.$currentTransition=null,o())}function c(){u();var t=+e.interval;!isNaN(t)&&t>0&&(m=n(d,t))}function d(){var t=+e.interval;f&&!isNaN(t)&&t>0&&g.length?e.next():e.pause()}var m,f,h=this,g=h.slides=e.slides=[],b="uib-slideDirection",v=e.active,$=[],y=!1;h.addSlide=function(t,n){g.push({slide:t,element:n}),g.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===g.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),v=t.index,e.active=t.index,r(v),h.select(g[s(t)]),1===g.length&&e.play())},h.getCurrentIndex=function(){for(var e=0;e<g.length;e++)if(g[e].slide.index===v)return e},h.next=e.next=function(){var t=(h.getCurrentIndex()+1)%g.length;return 0===t&&e.noWrap()?void e.pause():h.select(g[t],"next")},h.prev=e.prev=function(){var t=h.getCurrentIndex()-1<0?g.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===g.length-1?void e.pause():h.select(g[t],"prev")},h.removeSlide=function(t){var n=s(t),a=$.indexOf(g[n]);-1!==a&&$.splice(a,1),g.splice(n,1),g.length>0&&v===n?n>=g.length?(v=g.length-1,e.active=v,r(v),h.select(g[g.length-1])):(v=n,e.active=v,r(v),h.select(g[n])):v>n&&(v--,e.active=v),0===g.length&&(v=null,e.active=null,o())},h.select=e.select=function(t,n){var a=s(t.slide);void 0===n&&(n=a>h.getCurrentIndex()?"next":"prev"),t.slide.index===v||e.$currentTransition?t&&t.slide.index!==v&&e.$currentTransition&&$.push(g[a]):l(t.slide,a,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===g.length-1&&e.noWrap()},e.pause=function(){e.noPause||(f=!1,u())},e.play=function(){f||(f=!0,c())},e.$on("$destroy",function(){y=!0,u()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",c),e.$watchCollection("slides",p),e.$watch("active",function(e){if(angular.isNumber(e)&&v!==e){for(var t=0;t<g.length;t++)if(g[t].slide.index===e){e=t;break}var n=g[e];n&&(r(e),h.select(g[e]),v=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)})}}}).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(a,i,o){if("active"===i){var r=!1,l=a.data(n),s="next"===l?"left":"right",u=t.bind(this,a,s+" "+l,o);return a.addClass(l),e(a,{addClass:s}).start().done(u),function(){r=!0}}o()},beforeRemoveClass:function(a,i,o){if("active"===i){var r=!1,l=a.data(n),s="next"===l?"left":"right",u=t.bind(this,a,s,o);return e(a,{addClass:s}).start().done(u),function(){r=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,a){function i(e,t){var n=[],i=e.split(""),o=e.indexOf("'");if(o>-1){var r=!1;e=e.split("");for(var l=o;l<e.length;l++)r?("'"===e[l]&&(l+1<e.length&&"'"===e[l+1]?(e[l+1]="$",i[l+1]=""):(i[l]="",r=!1)),e[l]="$"):"'"===e[l]&&(e[l]="$",i[l]="",r=!0);e=e.join("")}return angular.forEach(m,function(a){var o=e.indexOf(a.key);if(o>-1){e=e.split(""),i[o]="("+a.regex+")",e[o]="$";for(var r=o+1,l=o+a.key.length;l>r;r++)i[r]="",e[r]="$";e=e.join(""),n.push({index:o,key:a.key,apply:a[t],matcher:a.regex})}}),{regex:new RegExp("^"+i.join("")+"$"),map:a(n,"index")}}function o(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}function r(e){return parseInt(e,10)}function l(e,t){return e&&t?c(e,t):e}function s(e,t){return e&&t?c(e,t,!0):e}function u(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function p(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function c(e,t,n){n=n?-1:1;var a=e.getTimezoneOffset(),i=u(t,a);return p(e,n*(i-a))}var d,m,f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){d=t.id,this.parsers={},this.formatters={},m=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=69>e?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],a=t[2],i=t[3];this.hours+=r(n+a),this.minutes+=r(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}]},this.init(),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==d&&this.init(),this.formatters[n]||(this.formatters[n]=i(n,"formatter"));var a=this.formatters[n],o=a.map,r=n;return o.reduce(function(t,n,a){var i=r.match(new RegExp("(.*)"+n.key));i&&angular.isString(i[1])&&(t+=i[1],r=r.replace(i[1]+n.key,""));var l=a===o.length-1?r:"";return n.apply?t+n.apply.call(null,e)+l:t+l},"")},this.parse=function(n,a,r){if(!angular.isString(n)||!a)return n;a=t.DATETIME_FORMATS[a]||a,a=a.replace(f,"\\$&"),t.id!==d&&this.init(),this.parsers[a]||(this.parsers[a]=i(a,"apply"));var l=this.parsers[a],s=l.regex,u=l.map,p=n.match(s),c=!1;if(p&&p.length){var m,h;angular.isDate(r)&&!isNaN(r.getTime())?m={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&e.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,b=p.length;b>g;g++){var v=u[g-1];"Z"===v.matcher&&(c=!0),v.apply&&v.apply.call(m,p[g])}var $=c?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,y=c?Date.prototype.setUTCHours:Date.prototype.setHours;return o(m.year,m.month,m.date)&&(!angular.isDate(r)||isNaN(r.getTime())||c?(h=new Date(0),$.call(h,m.year,m.month,m.date),y.call(h,m.hours||0,m.minutes||0,m.seconds||0,m.milliseconds||0)):(h=new Date(r),$.call(h,m.year,m.month,m.date),y.call(h,m.hours,m.minutes,m.seconds,m.milliseconds))),h}},this.toTimezone=l,this.fromTimezone=s,this.timezoneToOffset=u,this.addDateMinutes=p,this.convertTimezoneToLocal=c}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(a,i){function o(e,t,n){s.push(e),u.push({scope:e,element:t}),f.forEach(function(t,n){r(t,e)}),e.$on("$destroy",l)}function r(t,a){var i=t.match(n),o=a.$eval(i[1]),r=i[2],l=p[t];if(!l){var s=function(t){var n=null;u.some(function(e){var a=e.scope.$eval(d);return a===t?(n=e,!0):void 0}),l.lastActivated!==n&&(l.lastActivated&&e.removeClass(l.lastActivated.element,o),n&&e.addClass(n.element,o),l.lastActivated=n)};p[t]=l={lastActivated:null,scope:a,watchFn:s,compareWithExp:r,watcher:a.$watch(r,s)}}l.watchFn(a.$eval(r))}function l(e){var t=e.targetScope,n=s.indexOf(t);if(s.splice(n,1),u.splice(n,1),s.length){var a=s[0];angular.forEach(p,function(e){e.scope===t&&(e.watcher=a.$watch(e.compareWithExp,e.watchFn),e.scope=a)})}else p={}}var s=[],u=[],p={},c=i.uibIsClass.match(t),d=c[2],m=c[1],f=m.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,a,i,o,r,l,s,u,p){function c(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}var d=this,m={$setViewValue:angular.noop},f={},h=[];!!t.datepickerOptions;e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":d[t]=angular.isDefined(e.datepickerOptions[t])?a(e.datepickerOptions[t])(e.$parent):l[t];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":d[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?d.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?d.startingDay=l.startingDay:d.startingDay=(i.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?d[t]=p.fromTimezone(new Date(e),f.timezone):(s&&o.warn("Literal date support has been deprecated, please switch to date object usage"),d[t]=new Date(r(e,"medium"))):d[t]=l[t]?p.fromTimezone(new Date(l[t]),f.timezone):null,d.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){d[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],("minMode"===t&&d.modes.indexOf(e.datepickerOptions.datepickerMode)<d.modes.indexOf(d[t])||"maxMode"===t&&d.modes.indexOf(e.datepickerOptions.datepickerMode)>d.modes.indexOf(d[t]))&&(e.datepickerMode=d[t],e.datepickerOptions.datepickerMode=d[t])}):d[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&h.push(e.$parent.$watch(t.ngDisabled,function(t){e.disabled=t,d.refreshView()})),e.isActive=function(t){return 0===d.compare(t.date,d.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(t){m=t,f=t.$options||l.ngModelOptions,e.datepickerOptions.initDate?(d.activeDate=p.fromTimezone(e.datepickerOptions.initDate,f.timezone)||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(m.$isEmpty(m.$modelValue)||m.$invalid)&&(d.activeDate=p.fromTimezone(e,f.timezone),d.refreshView())})):d.activeDate=new Date;var n=m.$modelValue?new Date(m.$modelValue):new Date;this.activeDate=isNaN(n)?p.fromTimezone(new Date,f.timezone):p.fromTimezone(n,f.timezone),m.$render=function(){d.render()}},this.render=function(){if(m.$viewValue){var e=new Date(m.$viewValue),t=!isNaN(e);t?this.activeDate=p.fromTimezone(e,f.timezone):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=m.$viewValue?new Date(m.$viewValue):null;t=p.fromTimezone(t,f.timezone),m.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var a=m.$viewValue?new Date(m.$viewValue):null;a=p.fromTimezone(a,f.timezone);var i=new Date;i=p.fromTimezone(i,f.timezone);var o=this.compare(t,i),r={date:t,label:p.filter(t,n),selected:a&&0===this.compare(t,a),disabled:this.isDisabled(t),past:0>o,current:0===o,future:o>0,customClass:this.customClass(t)||null};return a&&0===this.compare(t,a)&&(e.selectedDt=r),d.activeDate&&0===this.compare(r.date,d.activeDate)&&(e.activeDt=r),r},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===d.minMode){var n=m.$viewValue?p.fromTimezone(new Date(m.$viewValue),f.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=p.toTimezone(n,f.timezone),m.$setViewValue(n),m.$render()}else d.activeDate=t,c(d.modes[d.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=d.activeDate.getFullYear()+e*(d.step.years||0),n=d.activeDate.getMonth()+e*(d.step.months||0);d.activeDate.setFullYear(t,n,1),d.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===d.maxMode&&1===t||e.datepickerMode===d.minMode&&-1===t||(c(d.modes[d.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var g=function(){d.element[0].focus()};e.$on("uib:datepicker.focus",g),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),d.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(d.isDisabled(d.activeDate))return;e.select(d.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(d.handleKeyDown(n,t),d.refreshView()):e.toggleMode("up"===n?1:-1)},e.$on("$destroy",function(){for(;h.length;)h.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function a(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,a=new Array(t),i=new Date(e),o=0;t>o;)n=new Date(i),a[o++]=n,i.setDate(i.getDate()+1);return a},this._refreshView=function(){var t=this.activeDate.getFullYear(),a=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,a,1);var r=this.startingDay-o.getDay(),l=r>0?7-r:-r,s=new Date(o);l>0&&s.setDate(-l+1);for(var u=this.getDates(s,42),p=0;42>p;p++)u[p]=angular.extend(this.createDateObject(u[p],this.formatDay),{secondary:u[p].getMonth()!==a,uid:e.uniqueId+"-"+p});e.labels=new Array(7);for(var c=0;7>c;c++)e.labels[c]={abbr:n(u[c].date,this.formatDayHeader),full:n(u[c].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var d=(11-this.startingDay)%7,m=e.rows.length,f=0;m>f;f++)e.weekNumbers.push(i(e.rows[f][d].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(a(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=a(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,a=new Array(12),i=this.activeDate.getFullYear(),o=0;12>o;o++)t=new Date(this.activeDate),t.setFullYear(i,o,1),a[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(a,3)},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),a=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(a)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function a(e){return parseInt((e-1)/o,10)*o+1}var i,o;this.element=t,this.yearpickerInit=function(){i=this.yearColumns,o=this.yearRows*i,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),r=0,l=a(this.activeDate.getFullYear());o>r;r++)t=new Date(this.activeDate),t.setFullYear(l+r,0,1),n[r]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=a(this.activeDate.getFullYear()):"end"===e&&(n=a(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(e,t,n,a){var i=a[0],o=a[1];o.init(i)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(e,t,n,a){var i=a[0],o=a[1];o.init(i)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(e,t,n,a){var i=a[0];angular.extend(i,a[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,a,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function a(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&a(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(a)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),a=t.innerWidth-o[0].clientWidth,a=isFinite(a)?a:0,o.removeClass("uib-position-body-scrollbar-measure")}return a}if(angular.isUndefined(n)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(r),n=r[0].offsetWidth-r[0].clientWidth,n=isFinite(n)?n:0,r.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),a=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),l=this.scrollbarWidth(o,r.test(o.tagName));return{scrollbarWidth:l,widthOverflow:o.scrollWidth>o.clientWidth,right:a+l,originalRight:a,heightOverflow:o.scrollHeight>o.clientHeight,
bottom:i+l,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var a=n?i.hidden:i.normal,o=t.getComputedStyle(e);return a.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,a,o){n=this.getRawNode(n);var r=a?i.hidden:i.normal,l=e[0].documentElement,s=t.getComputedStyle(n);if(o&&r.test(s.overflow+s.overflowY+s.overflowX))return n;var u="absolute"===s.position,p=n.parentElement||l;if(p===l||"fixed"===s.position)return l;for(;p.parentElement&&p!==l;){var c=t.getComputedStyle(p);if(u&&"static"!==c.position&&(u=!1),!u&&r.test(c.overflow+c.overflowY+c.overflowX))break;p=p.parentElement}return p},position:function(n,a){n=this.getRawNode(n);var i=this.offset(n);if(a){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var r=this.offsetParent(n),l={top:0,left:0};return r!==e[0].documentElement&&(l=this.offset(r),l.top+=r.clientTop-r.scrollTop,l.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-l.top),left:Math.round(i.left-l.left)}},offset:function(n){n=this.getRawNode(n);var a=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(a.width)?a.width:n.offsetWidth),height:Math.round(angular.isNumber(a.height)?a.height:n.offsetHeight),top:Math.round(a.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(a.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,a,i){n=this.getRawNode(n),i=i!==!1?!0:!1;var o=n.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},l=a?e[0].documentElement:this.scrollParent(n),s=l.getBoundingClientRect();if(r.top=s.top+l.clientTop,r.left=s.left+l.clientLeft,l===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+l.clientHeight,r.right=r.left+l.clientWidth,i){var u=t.getComputedStyle(l);r.top+=this.parseStyle(u.paddingTop),r.bottom-=this.parseStyle(u.paddingBottom),r.left+=this.parseStyle(u.paddingLeft),r.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-r.top),bottom:Math.round(r.bottom-o.bottom),left:Math.round(o.left-r.left),right:Math.round(r.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,a,i){e=this.getRawNode(e),n=this.getRawNode(n);var r=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),l=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");a=this.parsePlacement(a);var s=i?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(a[2]){var p=this.viewportOffset(e,i),c=t.getComputedStyle(n),d={width:r+Math.round(Math.abs(this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom)))};if(a[0]="top"===a[0]&&d.height>p.top&&d.height<=p.bottom?"bottom":"bottom"===a[0]&&d.height>p.bottom&&d.height<=p.top?"top":"left"===a[0]&&d.width>p.left&&d.width<=p.right?"right":"right"===a[0]&&d.width>p.right&&d.width<=p.left?"left":a[0],a[1]="top"===a[1]&&d.height-s.height>p.bottom&&d.height-s.height<=p.top?"bottom":"bottom"===a[1]&&d.height-s.height>p.top&&d.height-s.height<=p.bottom?"top":"left"===a[1]&&d.width-s.width>p.right&&d.width-s.width<=p.left?"right":"right"===a[1]&&d.width-s.width>p.left&&d.width-s.width<=p.right?"left":a[1],"center"===a[1])if(o.vertical.test(a[0])){var m=s.width/2-r/2;p.left+m<0&&d.width-s.width<=p.right?a[1]="left":p.right+m<0&&d.width-s.width<=p.left&&(a[1]="right")}else{var f=s.height/2-d.height/2;p.top+f<0&&d.height-s.height<=p.bottom?a[1]="top":p.bottom+f<0&&d.height-s.height<=p.top&&(a[1]="bottom")}}switch(a[0]){case"top":u.top=s.top-l;break;case"bottom":u.top=s.top+s.height;break;case"left":u.left=s.left-r;break;case"right":u.left=s.left+s.width}switch(a[1]){case"top":u.top=s.top;break;case"bottom":u.top=s.top+s.height-l;break;case"left":u.left=s.left;break;case"right":u.left=s.left+s.width-r;break;case"center":o.vertical.test(a[0])?u.left=s.left+s.width/2-r/2:u.top=s.top+s.height/2-l/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===a[1]?a[0]:a[0]+"-"+a[1],u},positionArrow:function(e,n){e=this.getRawNode(e);var a=e.querySelector(".tooltip-inner, .popover-inner");if(a){var i=angular.element(a).hasClass("tooltip-inner"),r=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(r){var l={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(r).css(l);var s="border-"+n[0]+"-width",u=t.getComputedStyle(r)[s],p="border-";p+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],p+="-radius";var c=t.getComputedStyle(i?a:e)[p];switch(n[0]){case"top":l.bottom=i?"0":"-"+u;break;case"bottom":l.top=i?"0":"-"+u;break;case"left":l.right=i?"0":"-"+u;break;case"right":l.left=i?"0":"-"+u}l[n[1]]=c,angular.element(r).css(l)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,a,i,o,r,l,s,u,p,c,d,m,f,h){function g(t){var n=c.parse(t,k,e.date);if(isNaN(n))for(var a=0;a<A.length;a++)if(n=c.parse(t,A[a],e.date),!isNaN(n))return n;return n}function b(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return c.toTimezone(t,N)}return E.$options&&E.$options.allowInvalid?e:void 0}function v(e,t){var a=e||t;return n.ngRequired||a?(angular.isNumber(a)&&(a=new Date(a)),a?angular.isDate(a)&&!isNaN(a)?!0:angular.isString(a)?!isNaN(g(t)):!1:!0):!0}function $(n){if(e.isOpen||!e.disabled){var a=U[0],i=t[0].contains(n.target),o=void 0!==a.contains&&a.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function y(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function w(){if(e.isOpen){var a=angular.element(U[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:d.placement,o=u.positionElements(t,a,i,x);a.css({top:o.top+"px",left:o.left+"px"}),a.hasClass("uib-position-measure")&&a.removeClass("uib-position-measure")}}var k,D,x,C,M,T,O,S,P,E,I,U,A,N,F=!1,H=[];this.init=function(i){if(E=i,I=i.$options,D=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):d.closeOnDateSelection,x=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):d.appendToBody,C=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):d.onOpenFocus,M=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:d.datepickerPopupTemplateUrl,T=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:d.datepickerTemplateUrl,A=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):d.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):d.showButtonBar,d.html5Types[n.type]?(k=d.html5Types[n.type],F=!0):(k=n.uibDatepickerPopup||d.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||d.datepickerPopup;if(n!==k&&(k=n,E.$modelValue=null,!k))throw new Error("uibDatepickerPopup must have a date format specified.")})),!k)throw new Error("uibDatepickerPopup must have a date format specified.");if(F&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");O=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),I?(N=I.timezone,e.ngModelOptions=angular.copy(I),e.ngModelOptions.timezone=null,e.ngModelOptions.updateOnDefault===!0&&(e.ngModelOptions.updateOn=e.ngModelOptions.updateOn?e.ngModelOptions.updateOn+" default":"default"),O.attr("ng-model-options","ngModelOptions")):N=null,O.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":M}),S=angular.element(O.children()[0]),S.attr("template-url",T),e.datepickerOptions||(e.datepickerOptions={}),F&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),S.attr("datepicker-options","datepickerOptions"),F?E.$formatters.push(function(t){return e.date=c.fromTimezone(t,N),t}):(E.$$parserName="date",E.$validators.date=v,E.$parsers.unshift(b),E.$formatters.push(function(t){return E.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=c.fromTimezone(t,N),c.filter(e.date,k))})),E.$viewChangeListeners.push(function(){e.date=g(E.$viewValue)}),t.on("keydown",y),U=a(O)(e),O.remove(),x?l.find("body").append(U):t.after(U),e.$on("$destroy",function(){for(e.isOpen===!0&&(s.$$phase||e.$apply(function(){e.isOpen=!1})),U.remove(),t.off("keydown",y),l.off("click",$),P&&P.off("scroll",w),angular.element(r).off("resize",w);H.length;)H.shift()()})},e.getText=function(t){return e[t+"Text"]||d[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=c.fromTimezone(new Date,N));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=c.fromTimezone(new Date(e.datepickerOptions[t]),N):(h&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(p(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var a=e.date?c.filter(e.date,k):null;t.val(a),E.$setViewValue(a),D&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var a=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate())):t=new Date(a.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&H.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(a){a?e.disabled?e.isOpen=!1:m(function(){w(),C&&e.$broadcast("uib:datepicker.focus"),l.on("click",$);var a=n.popupPlacement?n.popupPlacement:d.placement;x||u.parsePlacement(a)[2]?(P=P||angular.element(u.scrollParent(t)),P&&P.on("scroll",w)):P=null,angular.element(r).on("resize",w)},0,!1):(l.off("click",$),P&&P.off("scroll",w),angular.element(r).off("resize",w))}),e.$on("uib:datepicker.mode",function(){m(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,a){var i=a[0],o=a[1];o.init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var a;return function(){var i=this,o=Array.prototype.slice.call(arguments);a&&e.cancel(a),a=e(function(){t.apply(i,o)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t,o){n||(e.on("click",a),o.on("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t,o){n===t&&(n=null,e.off("click",a),o.off("keydown",i))};var a=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var a=n.getToggleElement();if(!(e&&a&&a[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(e.stopPropagation(),n.focusToggleElement(),a()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,a,i,o,r,l,s,u,p){var c,d,m=this,f=e.$new(),h=i.appendToOpenClass,g=i.openClass,b=angular.noop,v=n.onToggle?a(n.onToggle):angular.noop,$=!1,y=null,w=!1,k=s.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(d=a(n.isOpen),b=d.assign,e.$watch(d,function(e){f.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var i=a(n.dropdownAppendTo)(f);i&&(y=angular.element(i))}$=angular.isDefined(n.dropdownAppendToBody),w=angular.isDefined(n.keyboardNav),$&&!y&&(y=k),y&&m.dropdownMenu&&(y.append(m.dropdownMenu),t.on("$destroy",function(){m.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen,angular.isFunction(b)&&b(f,f.isOpen),f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return m.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return w},f.focusDropdownEntry=function(e){var n=m.dropdownMenu?angular.element(m.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(m.selectedOption)?m.selectedOption=m.selectedOption===n.length-1?m.selectedOption:m.selectedOption+1:m.selectedOption=0;break;case 38:angular.isNumber(m.selectedOption)?m.selectedOption=0===m.selectedOption?0:m.selectedOption-1:m.selectedOption=n.length-1}n[m.selectedOption].focus()},f.getDropdownElement=function(){return m.dropdownMenu},f.focusToggleElement=function(){m.toggleElement&&m.toggleElement[0].focus()},f.$watch("isOpen",function(n,a){if(y&&m.dropdownMenu){var i,s,d,w=l.positionElements(t,m.dropdownMenu,"bottom-left",!0);if(i={top:w.top+"px",display:n?"block":"none"},s=m.dropdownMenu.hasClass("dropdown-menu-right"),s?(i.left="auto",d=l.scrollbarWidth(!0),i.right=window.innerWidth-d-(w.left+t.prop("offsetWidth"))+"px"):(i.left=w.left+"px",i.right="auto"),!$){var k=l.offset(y);i.top=w.top-k.top+"px",s?i.right=window.innerWidth-(w.left-k.left+t.prop("offsetWidth"))+"px":i.left=w.left-k.left+"px"}m.dropdownMenu.css(i)}var D=y?y:t,x=D.hasClass(y?h:g);if(x===!n&&r[n?"addClass":"removeClass"](D,y?h:g).then(function(){angular.isDefined(n)&&n!==a&&v(e,{open:!!n})}),n)m.dropdownMenuTemplateUrl&&p(m.dropdownMenuTemplateUrl).then(function(e){c=f.$new(),u(e.trim())(c,function(e){var t=e;m.dropdownMenu.replaceWith(t),m.dropdownMenu=t})}),f.focusToggleElement(),o.open(f,t);else{if(m.dropdownMenuTemplateUrl){c&&c.$destroy();var C=angular.element('<ul class="dropdown-menu"></ul>');m.dropdownMenu.replaceWith(C),m.dropdownMenu=C}o.close(f,t),m.selectedOption=null}angular.isFunction(b)&&b(e,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,a){a.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,a){if(a&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t===e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var a=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,r){if(a)return a.resolve(e,i,o,r);var l=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?l.push(n.resolve(t.invoke(e))):angular.isString(e)?l.push(n.resolve(t.get(e))):l.push(n.resolve(e))}),n.all(l).then(function(t){var n={},a=0;return angular.forEach(e,function(e,i){n[i]=t[a++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function a(t,a,i){i.modalInClass&&(e.addClass(a,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var r=o();t.modalOptions.animation?e.removeClass(a,i.modalInClass).then(r):r()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,a){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,r){o.addClass(r.windowClass||""),o.addClass(r.windowTopClass||""),i.size=r.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var l=t.defer();r.$observe("modalRender",function(e){"true"===e&&l.resolve()}),l.promise.then(function(){var l=null;r.modalInClass&&(l=n(o,{addClass:r.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();n(o,{removeClass:r.modalInClass}).start().then(a)})),t.when(l).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!a[0].activeElement||!o[0].contains(a[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,a,i,o,r,l,s){function u(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function p(){for(var e=-1,t=w.keys(),n=0;n<t.length;n++)w.get(t[n]).value.backdrop&&(e=n);return e>-1&&x>e&&(e=x),e}function c(e,t){var n=w.get(e).value,a=n.appendTo;w.remove(e),C=w.top(),C&&(x=parseInt(C.value.modalDomEl.attr("index"),10)),f(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||y;k.remove(t,e);var i=k.hasKey(t);a.toggleClass(t,i),!i&&$&&$.heightOverflow&&$.scrollbarWidth&&($.originalRight?a.css({paddingRight:$.originalRight+"px"}):a.css({paddingRight:""}),$=null),d(!0)},n.closedDeferred),m(),t&&t.focus?t.focus():a.focus&&a.focus()}function d(e){var t;w.length()>0&&(t=w.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function m(){if(b&&-1===p()){var e=v;f(b,v,function(){e=null}),b=void 0,v=void 0}}function f(t,n,a,i){function r(){r.done||(r.done=!0,e.leave(t).then(function(){t.remove(),i&&i.resolve()}),n.$destroy(),a&&a())}var l,s=null,u=function(){return l||(l=o.defer(),s=l.promise),function(){l.resolve()}};return n.$broadcast(D.NOW_CLOSING_EVENT,u),o.when(s).then(r)}function h(e){if(e.isDefaultPrevented())return e;var t=w.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){D.dismiss(t.key,"escape key press")}));break;case 9:var n=D.loadFocusElementList(t),a=!1;e.shiftKey?(D.isFocusInFirstItem(e,n)||D.isModalFocused(e,t))&&(a=D.focusLastFocusableElement(n)):D.isFocusInLastItem(e,n)&&(a=D.focusFirstFocusableElement(n)),a&&(e.preventDefault(),e.stopPropagation())}}function g(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var b,v,$,y="modal-open",w=l.createNew(),k=r.createNew(),D={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,C=null,M="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(p,function(e){v&&(v.index=e)}),n.on("keydown",h),i.$on("$destroy",function(){n.off("keydown",h)}),D.open=function(t,o){var r=n[0].activeElement,l=o.openedClass||y;d(!1),C=w.top(),w.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),k.put(l,t);var u=o.appendTo,c=p();if(!u.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");c>=0&&!b&&(v=i.$new(!0),v.modalOptions=o,v.index=c,b=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),b.attr("backdrop-class",o.backdropClass),o.animation&&b.attr("modal-animation","true"),a(b)(v),e.enter(b,u),$=s.scrollbarPadding(u),$.heightOverflow&&$.scrollbarWidth&&u.css({paddingRight:$.right+"px"})),x=C?parseInt(C.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,"window-top-class":o.windowTopClass,size:o.size,index:x,animate:"animate"}).html(o.content),o.animation&&m.attr("modal-animation","true"),u.addClass(l),e.enter(a(m)(o.scope),u),w.top().value.modalDomEl=m,w.top().value.modalOpener=r},D.close=function(e,t){var n=w.get(e);return n&&g(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),c(e,n.value.modalOpener),!0):!n},D.dismiss=function(e,t){var n=w.get(e);return n&&g(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),c(e,n.value.modalOpener),!0):!n},D.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},D.getTop=function(){return w.top()},D.modalRendered=function(e){var t=w.get(e);t&&t.value.renderDeferred.resolve()},D.focusFirstFocusableElement=function(e){return e.length>0?(e[0].focus(),!0):!1},D.focusLastFocusableElement=function(e){return e.length>0?(e[e.length-1].focus(),!0):!1},D.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},D.isFocusInFirstItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[0]:!1},D.isFocusInLastItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[t.length-1]:!1},D.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(M);return n?Array.prototype.filter.call(n,function(e){return u(e)}):n}}},D}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,a,i,o,r,l){function s(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},p=null;return u.getPromiseChain=function(){return p},u.open=function(i){function u(){return b}var c=n.defer(),d=n.defer(),m=n.defer(),f=n.defer(),h={result:c.promise,opened:d.promise,closed:m.promise,rendered:f.promise,close:function(e){return l.close(h,e)},dismiss:function(e){return l.dismiss(h,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||a.find("body").eq(0),!i.template&&!i.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,b=n.all([s(i),r.resolve(i.resolve,{},null,null)]);return g=p=n.all([p]).then(u,u).then(function(e){var n=i.scope||t,a=n.$new();a.$close=h.close,a.$dismiss=h.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var r,s,u={};i.controller&&(u.$scope=a,u.$scope.$resolve={},u.$uibModalInstance=h,angular.forEach(e[1],function(e,t){u[t]=e,u.$scope.$resolve[t]=e}),s=o(i.controller,u,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(r=s.instance,r.$close=a.$close,r.$dismiss=a.$dismiss,angular.extend(r,{$resolve:u.$scope.$resolve},n)),r=s(),angular.isFunction(r.$onInit)&&r.$onInit()),l.open(h,{scope:a,deferred:c,renderDeferred:f,closedDeferred:m,content:e[0],animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo}),d.resolve(!0)},function(e){d.reject(e),c.reject(e)})["finally"](function(){p===g&&(p=null)}),h},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,a){t.setNumPages=a.numPages?e(a.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},a.itemsPerPage?t._watchers.push(n.$parent.$watch(a.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,n.$watch("totalItems",function(e,a){(angular.isDefined(e)||e!==a)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,a){a&&a.preventDefault();var i=!n.ngDisabled||!a;i&&n.page!==e&&e>0&&e<=n.totalPages&&(a&&a.target&&a.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,a){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):a.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(t,n,a,i){var o=i[0],r=i[1];r&&o.init(r,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,a,i){function o(e,t,n){return{number:e,text:t,active:n}}function r(e,t){var n=[],a=1,i=t,r=angular.isDefined(s)&&t>s;r&&(u?(a=Math.max(e-Math.floor(s/2),1),i=a+s-1,i>t&&(i=t,a=i-s+1)):(a=(Math.ceil(e/s)-1)*s+1,i=Math.min(a+s-1,t)));for(var l=a;i>=l;l++){var m=o(l,d(l),l===e);n.push(m)}if(r&&s>0&&(!u||p||c)){if(a>1){if(!c||a>3){var f=o(a-1,"...",!1);n.unshift(f)}if(c){if(3===a){var h=o(2,"2",!1);n.unshift(h)}var g=o(1,"1",!1);n.unshift(g)}}if(t>i){if(!c||t-2>i){var b=o(i+1,"...",!1);n.push(b)}if(c){if(i===t-2){var v=o(t-1,t-1,!1);n.push(v)}var $=o(t,t,!1);n.push($)}}}return n}var l=this,s=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,p=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,c=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,d=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,a.create(this,e,t),t.maxSize&&l._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){s=parseInt(e,10),l.render()}));var m=this.render;this.render=function(){m(),e.page>0&&e.page<=e.totalPages&&(e.pages=r(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(e,n,a,i){var o=i[0],r=i[1];r&&o.init(r,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,r,l,s,u,p,c,d){function m(e){if(27===e.which){var t=f.top();t&&(t.value.close(),f.removeTop(),t=null)}}var f=d.createNew();return l.on("keypress",m),p.$on("$destroy",function(){l.off("keypress",m)}),function(i,p,d,m){function h(e){var t=(e||m.trigger||d).split(" "),a=t.map(function(e){
return n[e]||e});return{show:t,hide:a}}m=angular.extend({},t,a,m);var g=e(i),b=u.startSymbol(),v=u.endSymbol(),$="<div "+g+'-popup uib-title="'+b+"title"+v+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+b+"content"+v+'" ')+'placement="'+b+"placement"+v+'" popup-class="'+b+"popupClass"+v+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(e,t){var n=o($);return function(e,t,a,o){function u(){V.isOpen?g():d()}function d(){(!R||e.$eval(a[p+"Enable"]))&&(y(),D(),V.popupDelay?I||(I=r(b,V.popupDelay,!1)):b())}function g(){v(),V.popupCloseDelay?U||(U=r($,V.popupCloseDelay,!1)):$()}function b(){return v(),y(),V.content?(w(),void V.$evalAsync(function(){V.isOpen=!0,x(!0),W()})):angular.noop}function v(){I&&(r.cancel(I),I=null),A&&(r.cancel(A),A=null)}function $(){V&&V.$evalAsync(function(){V&&(V.isOpen=!1,x(!1),V.animation?E||(E=r(k,150,!1)):k())})}function y(){U&&(r.cancel(U),U=null),E&&(r.cancel(E),E=null)}function w(){S||(P=V.$new(),S=n(P,function(e){F?l.find("body").append(e):t.after(e)}),C())}function k(){v(),y(),M(),S&&(S.remove(),S=null),P&&(P.$destroy(),P=null)}function D(){V.title=a[p+"Title"],L?V.content=L(e):V.content=a[i],V.popupClass=a[p+"Class"],V.placement=angular.isDefined(a[p+"Placement"])?a[p+"Placement"]:m.placement;var t=s.parsePlacement(V.placement);N=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(a[p+"PopupDelay"],10),o=parseInt(a[p+"PopupCloseDelay"],10);V.popupDelay=isNaN(n)?m.popupDelay:n,V.popupCloseDelay=isNaN(o)?m.popupCloseDelay:o}function x(t){Y&&angular.isFunction(Y.assign)&&Y.assign(e,t)}function C(){z.length=0,L?(z.push(e.$watch(L,function(e){V.content=e,!e&&V.isOpen&&$()})),z.push(P.$watch(function(){q||(q=!0,P.$$postDigest(function(){q=!1,V&&V.isOpen&&W()}))}))):z.push(a.$observe(i,function(e){V.content=e,!e&&V.isOpen?$():W()})),z.push(a.$observe(p+"Title",function(e){V.title=e,V.isOpen&&W()})),z.push(a.$observe(p+"Placement",function(e){V.placement=e?e:m.placement,V.isOpen&&W()}))}function M(){z.length&&(angular.forEach(z,function(e){e()}),z.length=0)}function T(e){V&&V.isOpen&&S&&(t[0].contains(e.target)||S[0].contains(e.target)||g())}function O(){var e=a[p+"Trigger"];B(),H=h(e),"none"!==H.show&&H.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",u),l.on("click",T)):e===H.hide[n]?t.on(e,u):e&&(t.on(e,d),t.on(H.hide[n],g)),t.on("keypress",function(e){27===e.which&&g()})})}var S,P,E,I,U,A,N,F=angular.isDefined(m.appendToBody)?m.appendToBody:!1,H=h(void 0),R=angular.isDefined(a[p+"Enable"]),V=e.$new(!0),q=!1,Y=angular.isDefined(a[p+"IsOpen"])?c(a[p+"IsOpen"]):!1,L=m.useContentExp?c(a[i]):!1,z=[],W=function(){S&&S.html()&&(A||(A=r(function(){var e=s.positionElements(t,S,V.placement,F);S.css({top:e.top+"px",left:e.left+"px"}),S.hasClass(e.placement.split("-")[0])||(S.removeClass(N.split("-")[0]),S.addClass(e.placement.split("-")[0])),S.hasClass(m.placementClassPrefix+e.placement)||(S.removeClass(m.placementClassPrefix+N),S.addClass(m.placementClassPrefix+e.placement)),S.hasClass("uib-position-measure")?(s.positionArrow(S,e.placement),S.removeClass("uib-position-measure")):N!==e.placement&&s.positionArrow(S,e.placement),N=e.placement,A=null},0,!1)))};V.origScope=e,V.isOpen=!1,f.add(V,{close:$}),V.contentExp=function(){return V.content},a.$observe("disabled",function(e){e&&v(),e&&V.isOpen&&$()}),Y&&e.$watch(Y,function(e){V&&!e===V.isOpen&&u()});var B=function(){H.show.forEach(function(e){"outsideClick"===e?t.off("click",u):(t.off(e,d),t.off(e,u))}),H.hide.forEach(function(e){"outsideClick"===e?l.off("click",T):t.off(e,g)})};O();var j=e.$eval(a[p+"Animation"]);V.animation=angular.isDefined(j)?!!j:m.animation;var _,G=p+"AppendToBody";_=G in a&&void 0===a[G]?!0:e.$eval(a[G]),F=angular.isDefined(_)?_:F,e.$on("$destroy",function(){B(),k(),f.remove(V),V=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var l,s,u,p=i.$eval(r.tooltipTemplateTranscludeScope),c=0,d=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),u&&(e.leave(u).then(function(){s=null}),s=u,u=null)};i.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(t){var r=++c;t?(a(t,!0).then(function(a){if(r===c){var i=p.$new(),s=a,m=n(s)(i,function(t){d(),e.enter(t,o)});l=i,u=m,l.$emit("$includeContentLoaded",t)}},function(){r===c&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,a){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation()&&n.addClass(a.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function a(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=a(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=a(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=a(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var a={$setViewValue:angular.noop},i=this;this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=i.enableReset&&a.$viewValue===t?0:t;a.$setViewValue(n),a.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<a.tabs.length;t++)if(a.tabs[t].index===e)return t}var n,a=this;a.tabs=[],a.select=function(e,o){if(!i){var r=t(n),l=a.tabs[r];if(l){if(l.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;l.tab.active=!1}var s=a.tabs[e];s?(s.tab.onSelect({$event:o}),s.tab.active=!0,a.active=s.index,n=s.index):!s&&angular.isDefined(n)&&(a.active=null,n=null)}},a.addTab=function(e){if(a.tabs.push({tab:e,index:e.index}),a.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===a.active||!angular.isDefined(a.active)&&1===a.tabs.length){var n=t(e.index);a.select(n)}},a.removeTab=function(e){for(var t,n=0;n<a.tabs.length;n++)if(a.tabs[n].tab===e){t=n;break}if(a.tabs[t].index===a.active){var i=t===a.tabs.length-1?t-1:t+1%a.tabs.length;a.select(i)}a.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&a.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,a,i,o){t.disabled=!1,a.disable&&t.$parent.$watch(e(a.disable),function(e){t.disabled=!!e}),angular.isUndefined(a.index)&&(i.tabs&&i.tabs.length?t.index=Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(a.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,a=0;a<i.tabs.length;a++)if(i.tabs[a].tab===t){n=a;break}i.select(n,e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,a){var i=t.$eval(a.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,a,i,o,r){function l(){var t=+e.hours,n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n&&""!==e.hours?(e.showMeridian&&(12===t&&(t=0),e.meridian===w[1]&&(t+=12)),t):void 0}function s(){var t=+e.minutes,n=t>=0&&60>t;return n&&""!==e.minutes?t:void 0}function u(){var t=+e.seconds;return t>=0&&60>t?t:void 0}function p(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function c(e){d(),y.$setViewValue(new Date(v)),m(e)}function d(){y.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function m(t){if(y.$modelValue){var n=v.getHours(),a=v.getMinutes(),i=v.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:p(n,!k),"m"!==t&&(e.minutes=p(a)),e.meridian=v.getHours()<12?w[0]:w[1],"s"!==t&&(e.seconds=p(i)),e.meridian=v.getHours()<12?w[0]:w[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=w[0]}function f(e){v=g(v,e),c()}function h(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),a}function b(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var v=new Date,$=[],y={$setViewValue:angular.noop},w=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):r.meridians||o.DATETIME_FORMATS.AMPMS,k=angular.isDefined(n.padHours)?e.$parent.$eval(n.padHours):!0;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,a){y=t,y.$render=this.render,y.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),o=a.eq(1),l=a.eq(2),s=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):r.mousewheel;s&&this.setupMousewheelEvents(i,o,l);var u=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):r.arrowkeys;u&&this.setupArrowkeyEvents(i,o,l),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o,l)};var D=r.hourStep;n.hourStep&&$.push(e.$parent.$watch(a(n.hourStep),function(e){D=+e}));var x=r.minuteStep;n.minuteStep&&$.push(e.$parent.$watch(a(n.minuteStep),function(e){x=+e}));var C;$.push(e.$parent.$watch(a(n.min),function(e){var t=new Date(e);C=isNaN(t)?void 0:t}));var M;$.push(e.$parent.$watch(a(n.max),function(e){var t=new Date(e);M=isNaN(t)?void 0:t}));var T=!1;n.ngDisabled&&$.push(e.$parent.$watch(a(n.ngDisabled),function(e){T=e})),e.noIncrementHours=function(){var e=h(v,60*D);return T||e>M||v>e&&C>e},e.noDecrementHours=function(){var e=h(v,60*-D);return T||C>e||e>v&&e>M},e.noIncrementMinutes=function(){var e=h(v,x);return T||e>M||v>e&&C>e},e.noDecrementMinutes=function(){var e=h(v,-x);return T||C>e||e>v&&e>M},e.noIncrementSeconds=function(){var e=g(v,O);return T||e>M||v>e&&C>e},e.noDecrementSeconds=function(){var e=g(v,-O);return T||C>e||e>v&&e>M},e.noToggleMeridian=function(){return v.getHours()<12?T||h(v,720)>M:T||h(v,-720)<C};var O=r.secondStep;n.secondStep&&$.push(e.$parent.$watch(a(n.secondStep),function(e){O=+e})),e.showSeconds=r.showSeconds,n.showSeconds&&$.push(e.$parent.$watch(a(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=r.showMeridian,n.showMeridian&&$.push(e.$parent.$watch(a(n.showMeridian),function(t){if(e.showMeridian=!!t,y.$error.time){var n=l(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(v.setHours(n),c())}else m()})),this.setupMousewheelEvents=function(t,n,a){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){T||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){T||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),a.bind("mousewheel wheel",function(t){T||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,a){t.bind("keydown",function(t){T||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.bind("keydown",function(t){T||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),a.bind("keydown",function(t){T||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,a){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,a){y.$setViewValue(null),y.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n),angular.isDefined(a)&&(e.invalidSeconds=a)};e.updateHours=function(){var e=l(),t=s();y.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(v.setHours(e),v.setMinutes(t),C>v||v>M?i(!0):c("h")):i(!0)},t.bind("blur",function(t){y.$setTouched(),b()?d():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=p(e.hours,!k)})}),e.updateMinutes=function(){var e=s(),t=l();y.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(v.setHours(t),v.setMinutes(e),C>v||v>M?i(void 0,!0):c("m")):i(void 0,!0)},n.bind("blur",function(t){y.$setTouched(),b()?d():null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=p(e.minutes)})}),e.updateSeconds=function(){var e=u();y.$setDirty(),angular.isDefined(e)?(v.setSeconds(e),c("s")):i(void 0,void 0,!0)},a.bind("blur",function(t){b()?d():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=p(e.seconds)})})},this.render=function(){var t=y.$viewValue;isNaN(t)?(y.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(v=t),C>v||v>M?(y.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):d(),m())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):r.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*D*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-D*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*x)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-x)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(O)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-O)},e.toggleMeridian=function(){var t=s(),n=l();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(v.getHours()<12?60:-60)):e.meridian=e.meridian===w[0]?w[1]:w[0])},e.blur=function(){y.$setTouched()},e.$on("$destroy",function(){for(;$.length;)$.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,a){var i=a[0],o=a[1];o&&i.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,a,i,o,r,l,s,u,p,c,d){function m(){q.moveInProgress||(q.moveInProgress=!0,q.$digest()),Z()}function f(){q.position=P?c.offset(t):c.position(t),q.position.top+=t.prop("offsetHeight")}var h,g,b=[9,13,27,38,40],v=200,$=e.$eval(n.typeaheadMinLength);$||0===$||($=1),e.$watch(n.typeaheadMinLength,function(e){$=e||0===e?e:1});var y=e.$eval(n.typeaheadWaitMs)||0,w=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){w=e!==!1});var k,D,x=i(n.typeaheadLoading).assign||angular.noop,C=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},M=i(n.typeaheadOnSelect),T=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,O=i(n.typeaheadNoResults).assign||angular.noop,S=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,P=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,E=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,I=e.$eval(n.typeaheadFocusFirst)!==!1,U=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,A=i(n.typeaheadIsOpen).assign||angular.noop,N=e.$eval(n.typeaheadShowHint)||!1,F=i(n.ngModel),H=i(n.ngModel+"($$$p)"),R=function(t,n){return angular.isFunction(F(e))&&g&&g.$options&&g.$options.getterSetter?H(t,{$$$p:n}):F.assign(t,n)},V=d.parse(n.uibTypeahead),q=e.$new(),Y=e.$on("$destroy",function(){q.$destroy()});q.$on("$destroy",Y);var L="typeahead-"+q.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":L});var z,W;N&&(z=angular.element("<div></div>"),z.css("position","relative"),t.after(z),W=t.clone(),W.attr("placeholder",""),W.attr("tabindex","-1"),W.val(""),W.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),z.append(W),W.after(t));var B=angular.element("<div uib-typeahead-popup></div>");B.attr({id:L,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&B.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&B.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var j=function(){N&&W.val("")},_=function(){q.matches=[],q.activeIdx=-1,t.attr("aria-expanded",!1),j()},G=function(e){return L+"-option-"+e};q.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",G(e))});var K=function(e,t){return q.matches.length>t&&e?e.toUpperCase()===q.matches[t].label.toUpperCase():!1},X=function(n,a){var i={$viewValue:n};x(e,!0),O(e,!1),o.when(V.source(e,i)).then(function(o){var r=n===h.$viewValue;if(r&&k)if(o&&o.length>0){q.activeIdx=I?0:-1,O(e,!1),q.matches.length=0;for(var l=0;l<o.length;l++)i[V.itemName]=o[l],q.matches.push({id:G(l),label:V.viewMapper(q,i),model:o[l]});if(q.query=n,f(),t.attr("aria-expanded",!0),U&&1===q.matches.length&&K(n,0)&&(angular.isNumber(q.debounceUpdate)||angular.isObject(q.debounceUpdate)?p(function(){q.select(0,a)},angular.isNumber(q.debounceUpdate)?q.debounceUpdate:q.debounceUpdate["default"]):q.select(0,a)),N){var s=q.matches[0].label;angular.isString(n)&&n.length>0&&s.slice(0,n.length).toUpperCase()===n.toUpperCase()?W.val(n+s.slice(n.length)):W.val("")}}else _(),O(e,!0);r&&x(e,!1)},function(){_(),x(e,!1),O(e,!0)})};P&&(angular.element(s).on("resize",m),l.find("body").on("scroll",m));var Z=p(function(){q.matches.length&&f(),q.moveInProgress=!1},v);q.moveInProgress=!1,q.query=void 0;var J,Q=function(e){J=r(function(){X(e)},y)},ee=function(){J&&r.cancel(J)};_(),q.assignIsOpen=function(t){A(e,t)},q.select=function(a,i){var o,l,s={};D=!0,s[V.itemName]=l=q.matches[a].model,o=V.modelMapper(e,s),R(e,o),h.$setValidity("editable",!0),h.$setValidity("parse",!0),M(e,{$item:l,$model:o,$label:V.viewMapper(e,s),$event:i}),_(),q.$eval(n.typeaheadFocusOnSelect)!==!1&&r(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==q.matches.length&&-1!==b.indexOf(t.which)){var n=C(e,{$event:t});if(-1===q.activeIdx&&n||9===t.which&&t.shiftKey)return _(),void q.$digest();t.preventDefault();var a;switch(t.which){case 27:t.stopPropagation(),_(),e.$digest();break;case 38:q.activeIdx=(q.activeIdx>0?q.activeIdx:q.matches.length)-1,q.$digest(),a=B.find("li")[q.activeIdx],a.parentNode.scrollTop=a.offsetTop;break;case 40:q.activeIdx=(q.activeIdx+1)%q.matches.length,q.$digest(),a=B.find("li")[q.activeIdx],a.parentNode.scrollTop=a.offsetTop;break;default:n&&q.$apply(function(){angular.isNumber(q.debounceUpdate)||angular.isObject(q.debounceUpdate)?p(function(){q.select(q.activeIdx,t)},angular.isNumber(q.debounceUpdate)?q.debounceUpdate:q.debounceUpdate["default"]):q.select(q.activeIdx,t)})}}}),t.bind("focus",function(e){k=!0,0!==$||h.$viewValue||r(function(){X(h.$viewValue,e)},0)}),t.bind("blur",function(e){T&&q.matches.length&&-1!==q.activeIdx&&!D&&(D=!0,q.$apply(function(){angular.isObject(q.debounceUpdate)&&angular.isNumber(q.debounceUpdate.blur)?p(function(){q.select(q.activeIdx,e)},q.debounceUpdate.blur):q.select(q.activeIdx,e)})),!w&&h.$error.editable&&(h.$setViewValue(),h.$setValidity("editable",!0),h.$setValidity("parse",!0),t.val("")),k=!1,D=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==q.matches.length&&(_(),u.$$phase||e.$digest())};l.on("click",te),e.$on("$destroy",function(){l.off("click",te),(P||E)&&ne.remove(),P&&(angular.element(s).off("resize",m),l.find("body").off("scroll",m)),B.remove(),N&&z.remove()});var ne=a(B)(q);P?l.find("body").append(ne):E?angular.element(E).eq(0).append(ne):t.after(ne),this.init=function(t,n){h=t,g=n,q.debounceUpdate=h.$options&&i(h.$options.debounce)(e),h.$parsers.unshift(function(t){return k=!0,0===$||t&&t.length>=$?y>0?(ee(),Q(t)):X(t):(x(e,!1),ee(),_()),w?t:t?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),null)}),h.$formatters.push(function(t){var n,a,i={};return w||h.$setValidity("editable",!0),S?(i.$model=t,S(e,i)):(i[V.itemName]=t,n=V.viewMapper(e,i),i[V.itemName]=void 0,a=V.viewMapper(e,i),n!==a?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,a){a[2].init(a[0],a[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,a){t.templateUrl=a.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,a){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:a})},angular.isNumber(i)?i:i["default"]):t.select({activeIdx:n,evt:a})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"uib/template/typeahead/typeahead-match.html";e(r).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(a)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n');
}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0});
"use strict";function onUpdateReady(){window.applicationCache.status===window.applicationCache.UPDATEREADY&&window.location.reload()}var APP_MODULE_NAME="tutor-crm-web",app=angular.module(APP_MODULE_NAME,["ngRoute","ngCookies","ngResource","ngAnimate","ngSanitize","ui","ui.bootstrap","monospaced.qrcode","sprintf"]);window.app=app,$(function(){document.body.innerHTML="<main-nav></main-nav><toast-list></toast-list><confirm></confirm><div ng-view></div>",angular.bootstrap(document,[APP_MODULE_NAME])}),window.applicationCache.addEventListener("updateready",onUpdateReady),setInterval(function(){try{window.applicationCache.update()}catch(a){}},6e4);try{window.applicationCache.update()}catch(e){}
"use strict";var env=null;env=-1!==location.hostname.indexOf("local")?"local":-1===location.hostname.indexOf("test")?"online":-1!==location.pathname.indexOf("-dev")?"dev":"test",app.constant("API_SERVER",{local:{auth:"https://account.zhenguanyu.com/",cms:"http://local.zhenguanyu.com:8000/",gallery:"http://local.zhenguanyu.com:8000/",tarzan:"http://tt.zhenguanyu.com/"},dev:{auth:"https://account.zhenguanyu.com/",cms:"http://tutor-dev.zhenguanyu.com/",gallery:"http://tutor-dev.zhenguanyu.com/",tarzan:"http://tt.zhenguanyu.com/"},test:{auth:"https://account.zhenguanyu.com/",cms:"http://tutor-test.zhenguanyu.com/",gallery:"http://tutor-test.zhenguanyu.com/",tarzan:"http://tt.zhenguanyu.com/"},online:{auth:"https://account.zhenguanyu.com/",cms:"http://tutor.zhenguanyu.com/",gallery:"http://tutor.zhenguanyu.com/",tarzan:"http://tarzan.zhenguanyu.com/"}}[env]);
"use strict";app.config(["$provide","ForbiddenException","$injector","API_SERVER",function(n,e,o,t){n.decorator("$exceptionHandler",["$delegate",function(n){var c=null,i=null;return function(l,a){if(!c)try{c=o.get("$location")}catch(r){c=null}if(!i)try{i=o.get("$log")}catch(r){i=null}l instanceof e?c?c.replace(t.auth+"login?service="+encodeURIComponent(c.absUrl())):window.location.replace(window.location.pathname+"#/login"):n(l,a)}}])}]);
"use strict";app.constant("GALLERY_CONFIG",function(){var r="tutor",e="api",t="tutor-crm-gallery/"+e+"/"+r+"/";return{appKey:r,client:e,owner:{pub:"images/",user:"user-images/"},urlPrefix:t}}());
"use strict";app.config(["$httpProvider",function(t){t.interceptors.push(["$q","$injector","$timeout","API_SERVER",function(t,e,r,s){return{request:function(t){if(!t)return t;if("string"==typeof t&&(t={url:t}),-1!==t.url.indexOf(".html"))return t;t.origUrl=t.url,t.server=t.server||"cms";var e=s[t.server];return t.url=("/"===t.url[0]?e.substr(0,e.length-1):e)+t.url,t.cache||(t.url=t.url+(-1===t.url.indexOf("?")?"?":"&")+"_="+Date.now()),t},responseError:function(o){var a=!1;return o.processed=function(e){return e&&o.status!==e||(a=!0),t.reject(o)},o.config&&o.config.statusText&&o.config.statusText[o.status]&&(o.statusText=o.config.statusText[o.status]),401===o.status?location.replace(s.auth+"login?service="+encodeURIComponent(location.href)):r(function(){a||(o.config&&o.config.statusText&&o.config.statusText[o.status]?e.get("Toast").error(o.config.statusText[o.status]):o&&o.data&&o.data.exceptionMessage?e.get("Toast").error("Oops: "+o.data.exceptionMessage):o&&o.data&&o.data.message?e.get("Toast").error("Oops: "+o.data.message):e.get("Toast").error("Oops: "+o.status))},25),t.reject(o)}}}])}]),app.run(["$http","$location",function(t,e){var r=e.protocol()+"://"+e.host();e.port()&&(r+=":"+e.port()),t.defaults.headers.Origin=r,t.defaults.withCredentials=!0}]);
"use strict";app.config(["$routeProvider",function(e){e.when("/teachers",{templateUrl:"pages/teacher/teacherList.html",controller:"TeacherListCtrl"}).when("/teachers/:teacherId",{templateUrl:"pages/teacher/teacherDetail.html",controller:"TeacherDetailCtrl"}).when("/teachers/:teacherId/stat",{templateUrl:"pages/teacher/teacherStat.html",controller:"TeacherStatCtrl"}).when("/teachers/:teacherId/schedules",{templateUrl:"pages/teacher/teacherSchedule.html",controller:"TeacherScheduleCtrl"}).when("/verifies",{templateUrl:"pages/teacher/verifyList.html",controller:"VerifyListCtrl"}).when("/teacher-statistics",{templateUrl:"pages/teacher/teacherStatList.html",controller:"TeacherStatListCtrl"}).when("/trials",{templateUrl:"pages/teacher/trialList.html",controller:"TrialListCtrl"}).when("/teachers/:teacherId/trials",{templateUrl:"pages/teacher/teacherTrial.html",controller:"TeacherTrialCtrl"}).when("/teachers/:teacherId/verifies/:formType?",{templateUrl:"pages/teacher/teacherVerify.html",controller:"TeacherVerifyCtrl"}).when("/episodeRouter/:episodeId/:type?",{templateUrl:"pages/episode/episodeRouter.html",controller:"EpisodeRouterCtrl"}).when("/episodes/tutorial",{templateUrl:"pages/episode/tutorialEpisodeList.html",controller:"TutorialEpisodeListCtrl"}).when("/episodes/lecture/create",{templateUrl:"pages/lecture/lectureEpisodeCreate.html",controller:"LectureEpisodeCreateCtrl"}).when("/episodes/lecture/:lectureId/edit",{templateUrl:"pages/lecture/lectureEpisodeCreate.html",controller:"LectureEpisodeCreateCtrl"}).when("/episodes/lecture",{templateUrl:"pages/lecture/lectureEpisodeList.html",controller:"LectureEpisodeListCtrl"}).when("/lectures/:lectureId",{templateUrl:"pages/lecture/lectureDetail.html",controller:"LectureDetailCtrl"}).when("/episodes/lecture/:episodeId",{templateUrl:"pages/lecture/lectureEpisodeDetail.html",controller:"LectureEpisodeDetailCtrl"}).when("/episodes/:type/:episodeId",{templateUrl:"pages/episode/episodeDetail.html",controller:"EpisodeDetailCtrl"}).when("/episodes/:type/:episodeId/keynote-detail",{templateUrl:"pages/episode/keynoteDetail.html",controller:"KeynoteDetailCtrl"}).when("/episodes/:type/:episodeId/purchase",{templateUrl:"pages/episode/episodePurchase.html",controller:"EpisodePurchaseCtrl"}).when("/episodes/:type/:episodeId/push",{templateUrl:"pages/episode/episodePush.html",controller:"EpisodePushCtrl"}).when("/episodes/:type/:episodeId/comment",{templateUrl:"pages/episode/episodeComment.html",controller:"EpisodeCommentCtrl"}).when("/interviews",{templateUrl:"pages/interview/interviewList.html",controller:"InterviewListCtrl"}).when("/serial-prototypes",{templateUrl:"pages/serial/serialPrototypeList.html",controller:"SerialPrototypeListCtrl"}).when("/serial-prototypes/:prototypeId?/operate/:action",{templateUrl:"pages/serial/serialPrototype.html",controller:"SerialPrototypeCtrl"}).when("/serial-prototypes/:prototypeId/outlines",{templateUrl:"pages/serial/serialPrototypeOutlineList.html",controller:"SerialPrototypeOutlineListCtrl"}).when("/serial-prototypes/:prototypeId/outlines/:outlineId?/:action",{templateUrl:"pages/serial/serialPrototypeOutline.html",controller:"SerialPrototypeOutlineCtrl"}).when("/serials",{templateUrl:"pages/serial/serialList.html",controller:"SerialListCtrl"}).when("/serials/posts",{templateUrl:"pages/serial/serialPostList.html",controller:"SerialPostListCtrl"}).when("/serials/:serialId",{templateUrl:"pages/serial/serialDetail.html",controller:"SerialDetailCtrl"}).when("/eps",{templateUrl:"pages/ep/epList.html",controller:"EPListCtrl"}).when("/eps/create",{templateUrl:"pages/ep/epCreate.html",controller:"EPCreateCtrl"}).when("/eps/:epId/edit",{templateUrl:"pages/ep/epEdit.html",controller:"EPEditCtrl"}).when("/eps/episodes/:episodeId/episode-detail",{templateUrl:"pages/ep/epEpisodeDetail.html",controller:"EPEpisodeDetailCtrl"}).when("/keynotes/create",{templateUrl:"pages/keynote/keynoteEdit.html",controller:"KeynoteEditCtrl"}).when("/keynotes/:keynoteId",{templateUrl:"pages/keynote/keynoteEdit.html",controller:"KeynoteEditCtrl"}).when("/keynotes/:keynoteId/preview",{templateUrl:"pages/keynote/keynotePreview.html",controller:"KeynotePreviewCtrl"}).when("/seasons",{templateUrl:"pages/season/seasonList.html",controller:"SeasonListCtrl"}).when("/seasons/create",{templateUrl:"pages/season/seasonCreate.html",controller:"SeasonCreateCtrl"}).when("/seasons/:seasonId/edit",{templateUrl:"pages/season/seasonCreate.html",controller:"SeasonCreateCtrl"}).when("/seasons/:seasonId/copy",{templateUrl:"pages/season/seasonCreate.html",controller:"SeasonCreateCtrl"}).when("/seasons/:seasonId/episodes/:ordinal/episode-detail",{templateUrl:"pages/season/seasonEpisodeDetail.html",controller:"SeasonEpisodeDetailCtrl"}).when("/seasons/qqgroups",{templateUrl:"pages/season/seasonQqgroupList.html",controller:"SeasonQqgroupListCtrl"}).when("/seasons/posts",{templateUrl:"pages/season/seasonPostList.html",controller:"SeasonPostListCtrl"}).when("/seasons/transfer",{templateUrl:"pages/season/seasonTransfer.html",controller:"SeasonTransferCtrl"}).when("/seasons/:seasonId",{templateUrl:"pages/season/seasonDetail.html",controller:"SeasonDetailCtrl"}).when("/seasons/:seasonId/purchase",{templateUrl:"pages/season/seasonPurchase.html",controller:"SeasonPurchaseCtrl"}).when("/coupons",{templateUrl:"pages/coupon/couponList.html",controller:"CouponListCtrl"}).when("/coupons/distribute",{templateUrl:"pages/coupon/distributeCoupon.html",controller:"DistributeCouponCtrl"}).when("/operations/banners",{templateUrl:"pages/operation/bannerList.html",controller:"BannerListCtrl"}).when("/operations/announcements",{templateUrl:"pages/operation/announcementList.html",controller:"AnnouncementListCtrl"}).when("/comments",{templateUrl:"pages/comment/commentList.html",controller:"CommentListCtrl"}).when("/complaints",{templateUrl:"pages/comment/complaintList.html",controller:"ComplaintListCtrl"}).when("/notifications/dispatch/student",{templateUrl:"pages/notification/notifyByStudent.html",controller:"NotifyByStudentCtrl"}).when("/notifications/dispatch/import",{templateUrl:"pages/notification/notify.html",controller:"NotifyByImportCtrl"}).when("/notifications/jobs",{templateUrl:"pages/notification/notifyJobList.html",controller:"NotifyJobListCtrl"}).when("/users/phone",{templateUrl:"pages/userPhone.html",controller:"UserPhoneCtrl"}).when("/user-lists/:listKey?",{templateUrl:"pages/userListEdit.html",controller:"UserListEditCtrl"}).when("/feedbacks",{templateUrl:"pages/feedback.html",controller:"FeedbackListCtrl"}).when("/operations/linking-with-lectures",{templateUrl:"pages/operation/linkingWithLectureList.html",controller:"LinkingWithLectureListCtrl"}).when("/operations/linking-with-lectures/new",{templateUrl:"pages/operation/linkingWithLectureEdit.html",controller:"LinkingWithLectureEditCtrl"}).when("/operations/splashes",{templateUrl:"pages/operation/splashList.html",controller:"SplashListCtrl"}).when("/operations/splashes/new",{templateUrl:"pages/operation/splashEdit.html",controller:"SplashEditCtrl"}).otherwise({redirectTo:"/teachers"})}]);
"use strict";app.config(["$compileProvider",function(i){i.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|blob|chrome-extension):/)}]);
"use strict";app.constant("COMMENT_HIDE_STATUS",[{value:"hidden",name:""},{value:"not_hide",name:""}]),app.constant("LECTURE_COMMENT_HIDE_STATUS",[{value:"true",name:""},{value:"false",name:""}]),app.constant("COMMENT_COMPLAINT_STATUS",[{value:"complained",name:""},{value:"init",name:""}]),app.constant("COMMENT_TYPE",[{value:"good",name:""},{value:"medium",name:""},{value:"inferior",name:""}]),app.constant("COMPLAINT_PROCESS_STATUS",[{value:"init",name:""},{value:"processed",name:""}]),app.constant("COMPLAINT_HIDE_STATUS",[{value:"hidden",name:""},{value:"not_hide",name:""}]);
"use strict";app.constant("COUPON_STATUS",[{value:"expired",name:""},{value:"valid",name:""},{value:"used",name:""}]);
"use strict";app.constant("PHASE",[{value:"chuzhong",name:""},{value:"gaozhong",name:""}]),app.constant("GRADE",{7:"",8:"",9:"",10:"",12:""}),app.constant("ALL_GRADE",{7:"",8:"",9:"",10:"",11:"",12:""}),app.constant("MAJOR",[{id:0,value:"all",name:""},{id:1,value:"wenke",name:""},{id:2,value:"like",name:""}]),app.constant("ALL_GRADE_NORMAL",{chuzhong:{7:"",8:"",9:""},gaozhong:{10:"",11:"",12:""}});
"use strict";app.constant("DIFFICULTY",[{value:"easy",name:""},{value:"normal",name:""},{value:"hard",name:""}]),app.constant("GRADE",{7:"",8:"",9:"",10:"",12:""}),app.constant("ALL_GRADE",{7:"",8:"",9:"",10:"",11:"",12:""}),app.constant("MAJOR",[{value:"wenke",name:""},{value:"like",name:""}]),app.constant("ALL_GRADE_NORMAL",{chuzhong:{7:"",8:"",9:""},gaozhong:{10:"",11:"",12:""}});
"use strict";app.constant("SHEET_REQUIRED_TYPE",[{value:"notRequired",name:""},{value:"required",name:""}]),app.constant("NEED_MATERIAL",[{value:!1,name:""},{value:!0,name:""}]);
"use strict";app.constant("EPISODE_SCORE",[{rank:"96-100",name:"",desc:""},{rank:"80-95",name:"",desc:""},{rank:"60-79",name:"",desc:""},{rank:"0-59",name:"",desc:""}]),app.constant("EPISODE_STATUS",{tutorial:[{value:"normal",name:""},{value:"failure",name:""},{value:"amend",name:""},{value:"refund",name:""}],lecture:[{value:"new",name:""},{value:"completed",name:""},{value:"cancelled",name:""},{value:"failed",name:""}]}),app.constant("EPISODE_TYPE",[{value:"tutorial",name:"11"},{value:"serial",name:"11"},{value:"lecture",name:""},{value:"season",name:""}]),app.constant("TUTORIAL_CATEGORY",[{value:"tutorial",name:"11"},{value:"serial",name:""}]);
"use strict";app.constant("EPISODE_INCOME_FLOW_TYPE",[{value:"reviewing",name:""},{value:"pending",name:""},{value:"settled",name:""},{value:"abnormal",name:""}]);
"use strict";var ForbiddenException=function(){Error.apply(this,arguments)};ForbiddenException.prototype=new Error,app.constant("ForbiddenException",ForbiddenException);
"use strict";app.constant("HOUR",[{value:0,label:"00:00"},{value:1,label:"01:00"},{value:2,label:"02:00"},{value:3,label:"03:00"},{value:4,label:"04:00"},{value:5,label:"05:00"},{value:6,label:"06:00"},{value:7,label:"07:00"},{value:8,label:"08:00"},{value:9,label:"09:00"},{value:10,label:"10:00"},{value:11,label:"11:00"},{value:12,label:"12:00"},{value:13,label:"13:00"},{value:14,label:"14:00"},{value:15,label:"15:00"},{value:16,label:"16:00"},{value:17,label:"17:00"},{value:18,label:"18:00"},{value:19,label:"19:00"},{value:20,label:"20:00"},{value:21,label:"21:00"},{value:22,label:"22:00"},{value:23,label:"23:00"}]);
"use strict";app.constant("LECTURE_TOP_STATUS",[{value:"not_normal_topped",name:""},{value:"normal_topped",name:""}]),app.constant("LECTURE_SELECT_STATUS",[{value:"selected",name:""},{value:"not_selected",name:""}]),app.constant("LECTURE_STATUS",[{value:"published",name:""},{value:"closed",name:""}]),app.constant("KEYNOTE_STATUS",[{value:"set",name:""},{value:"not_set",name:""}]),app.constant("LECTURE_TYPE",[{value:"crm",name:""},{value:"teacher",name:""}]);
"use strict";app.constant("LINKING_WITH_LECTURE_STATUS",[{name:"",value:"init"},{name:"",value:"invalid"},{name:"",value:"cancelled"}]);
"use strict";app.constant("NOTIFICATION_CHANNEL",[{value:"push",name:"PUSH"},{value:"im",name:"IM"},{value:"sms",name:" ()"},{value:"marketingSms",name:""}]),app.constant("PUSH_TYPE",[{value:"push",name:"PUSH"},{value:"im",name:"IM"},{value:"sms",name:""}]),app.constant("PUSH_PEOPLE",[{value:"teacher",name:""},{value:"student",name:""}]);
"use strict";app.constant("SOURCE_TYPE",[{value:"csv",name:"csv"},{value:"totalAmountStudents",name:""},{value:"inputUserId",name:"id"}]);
"use strict";app.constant("PAY_STATUS",{valid:"",cancelled:""}),app.constant("PAY_TYPE",[{value:"free",name:""},{value:"full",name:""},{value:"half",name:""}]);
"use strict";app.constant("PRODUCT",[{value:"lesson",name:""},{value:"tutorial",name:""}]);
"use strict";app.constant("QUESTION_TYPE",{1:"",2:"",3:"",5:"",6:"(75)",11:"",12:"",13:"",14:"",15:"",16:"",50:"",61:"",63:"",64:"",10001:""}),app.constant("QUESTION_ORIGIN",[{value:"model",name:""},{value:"real",name:""}]);
"use strict";app.constant("SEASON_PRICE",199),app.constant("SEASON_PROTOTYPE_STATUS",[{value:"notArranged",name:""},{value:"arranged",name:""},{value:"expired",name:""}]),app.constant("SEASON_TYPE_MAP",{yuXiBan:1,tiGaoBan:2,jianZiBan:3,teXunYing:4}),app.constant("SEASON_STATUS",[{value:"toBeOnShelf",name:""},{value:"onShelf",name:""},{value:"offShelf",name:""},{value:"complete",name:""}]),app.constant("SEASON_RECOMMENDATION_STATUS",[{value:"recommended",name:""},{value:"not_recommend",name:""}]),app.constant("TRANSFER_SEASON_STATUS","transferable"),app.constant("SEASON_TRADE_TRANSFER_STATUS",[{value:"new",name:""},{value:"target",name:""},{value:"source",name:""},{value:"through",name:""},{value:"refunded",name:""}]),app.constant("SEASON_QQGROUP_STATUS",[{value:"new",name:""},{value:"allocated",name:""}]),app.constant("SEASON_POST_DELIVER_STATUS",[{value:"not_delivered",name:""},{value:"delivered",name:""}]),app.constant("SEASON_POST_ORDER_STATUS",[{value:"paid",name:""},{value:"refunded",name:""}]),app.constant("SEASON_GIFT_TYPE",[{value:"textbook",name:""},{value:"stationery",name:""},{value:"keynote",name:""},{value:"inventory",name:""}]),app.constant("SEASON_QUESTION_ORIGIN",[{value:"model",name:""},{value:"real",name:""}]),app.constant("SEASON_SUBJECT_GRADE_MAP",[{id:1,value:"yuwen",name:"",grades:[{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:""},{id:12,name:""}]},{id:2,value:"shuxue",name:"",grades:[{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:""},{id:12,name:""}]},{id:4,value:"wuli",name:"",grades:[{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:""},{id:12,name:""}]},{id:5,value:"huaxue",name:"",grades:[{id:9,name:""},{id:10,name:""},{id:11,name:""},{id:12,name:""}]},{id:3,value:"yingyu",name:"",grades:[{id:7,name:""},{id:8,name:""},{id:9,name:""},{id:10,name:""},{id:11,name:""},{id:12,name:""}]},{id:6,value:"shengwu",name:"",grades:[{id:10,name:""},{id:11,name:""},{id:12,name:""}]}]);
"use strict";app.constant("SERIAL_STATUS",[{value:"starting",name:"",filters:{status:"appointed"}},{value:"complete",name:"",filters:{status:"appointed",timePhase:"after"}},{value:"refunded",name:"",filters:{status:"refunded"}},{value:"offShelf",name:"",filters:{status:"closed"}},{value:"expired",name:"",filters:{status:"expired"}}]),app.constant("SERIAL_SALE_STATUS",[{value:"noAppointed",name:"",filters:{status:"new"}},{value:"appointed",name:"",filters:{status:"appointed"}},{value:"endSale",name:"",filters:{salePhase:"after"}}]),app.constant("SERIAL_POST_STATUS",[{value:"unsent",name:""},{value:"sent",name:""}]),app.constant("SERIAL_PURCHASE_STATUS",[{value:"paid",name:""},{value:"refunded",name:"()"}]),app.constant("SERIAL_PROTOTYPE_TYPE",[{value:"spring",name:""},{value:"lateSpring",name:""},{value:"summer",name:""},{value:"autumn",name:""},{value:"lateAutumn",name:""},{value:"winter",name:""}]),app.constant("SERIAL_PROTOTYPE_OUTLINE_FILTER",[{value:"shuxue",name:"",grades:[{value:7,textbookSuite:!0,name:""},{value:8,textbookSuite:!0,name:""},{value:9,textbookSuite:!0,name:""},{value:10,textbookSuite:!0,name:""},{value:11,major:!0,textbookSuite:!0,name:""},{value:12,major:!0,region:!0,name:""}]},{value:"wuli",name:"",grades:[{value:8,textbookSuite:!0,name:""},{value:9,textbookSuite:!0,name:""},{value:10,textbookSuite:!0,name:""},{value:11,textbookSuite:!0,name:""},{value:12,region:!0,name:""}]},{value:"huaxue",name:"",grades:[{value:9,textbookSuite:!0,name:""},{value:10,textbookSuite:!0,name:""},{value:11,textbookSuite:!0,name:""},{value:12,region:!0,name:""}]},{value:"yingyu",name:"",grades:[{value:7,textbookSuite:!0,name:""},{value:8,textbookSuite:!0,name:""},{value:9,textbookSuite:!0,name:""},{value:10,textbookSuite:!0,name:""},{value:11,textbookSuite:!0,name:""},{value:12,region:!0,name:""}]}]);
"use strict";app.constant("STRATEGY",[{value:999,name:""},{value:1,name:"1"}]);
"use strict";app.constant("TAG_TYPE",{EPISODE_TAG:"episode_tag",EPISODE_TEMPLATE_TAG:"EpisodeTemplateTag"});
"use strict";app.constant("USER_TYPE",[{value:"teacher",name:""},{value:"student",name:""}]),app.constant("GENDER",{male:"",female:""}),app.constant("DEGREE",{doctor:"",master:"",undergraduate:"",juniorCollege:"",other:""}),app.constant("RATING",[{value:1,name:"L1"},{value:2,name:"L2"}]),app.constant("TEACHER_STATUS",[{value:"activated",name:""},{value:"init",name:""},{value:"fired",name:""}]),app.constant("TEACHER_HIDE_STATUS",[{value:"hidden",name:""},{value:"visible",name:""}]),app.constant("TRIAL_STATUS",[{value:"noTrial",name:""},{value:"failed",name:""},{value:"pending",name:""},{value:"success",name:""}]);
"use strict";app.controller("CommentListCtrl",["$scope","$location","Reset","Pager","Comment","EPISODE_TYPE","COMMENT_TYPE","COMMENT_COMPLAINT_STATUS","COMMENT_HIDE_STATUS",function(e,t,m,a,n,o,s,c,i){e.commentTypeList=s,e.commentComplaintStatusList=c,e.commentHideStatusList=i,e.episodeTypeList=o,e.temp={commentIdMap:{},selectedCommentIds:[]},e.formData=t.search(),e.isSelectHidden="true"===e.formData.hideStatus;var r=moment().startOf("day");_.defaults(e.formData,{startTime:r.valueOf(),endTime:r.add(1,"d").subtract(1,"ms").valueOf(),rate:"",complaintStatus:"",hideStatus:"",account:""});var d=_.clone(t.search());e.comments=n.query(d),e.loadingPromise=e.comments.$promise.then(function(t){_.each(t,function(t){e.temp.commentIdMap[t.id]=t})}),a.setPageInfo(e.comments.$promise,e),e.search=function(){delete e.formData.page,e.formData.searchContent||delete e.formData.searchContent,t.search(e.formData)},e.reset=m,e.hide=function(t){e.hideComments=[t]},e.cancelHide=function(){e.hideComments=null},e.batchHideComments=function(){e.hideComments=_.map(e.temp.selectedCommentIds,function(t){return e.temp.commentIdMap[t]})}}]);
"use strict";app.controller("ComplaintListCtrl",["$scope","$location","Pager","Complaint","Reset","EPISODE_TYPE","COMMENT_TYPE","COMPLAINT_PROCESS_STATUS","COMPLAINT_HIDE_STATUS",function(e,t,s,o,a,n,c,i,m){e.episodeTypeList=n,e.commentTypeList=c,e.complaintProcessStatusList=i,e.complaintHideStatusList=m,e.temp={commentIdMap:{},selectedCommentIds:[]},e.formData=t.search(),e.isSelectProcessed="true"===e.formData.processStatus;var r=moment().startOf("day");_.defaults(e.formData,{startTime:r.valueOf(),endTime:r.add(1,"d").subtract(1,"ms").valueOf(),processStatus:"init",hideStatus:""});var p=function(t){_.each(t,function(t){e.temp.commentIdMap[t.id]=t})};e.complaints=o.query(_.clone(t.search())),e.loadingPromise=e.complaints.$promise.then(p),s.setPageInfo(e.complaints.$promise,e),e.search=function(){delete e.formData.page,t.search(e.formData)},e.reset=a,e.process=function(t){e.processComplaints=[t]},e.cancelProcess=function(){e.processComplaints=null},e.batchProcessComplaints=function(){e.processComplaints=_.map(e.temp.selectedCommentIds,function(t){return e.temp.commentIdMap[t]})},e.loadAll=function(){var a=_.extend({},t.search(),{page:0,pageSize:999999999});return e.complaints=o.query(a),e.loadingPromise=e.complaints.$promise.then(p),s.setPageInfo(e.complaints.$promise,e),e.complaints.$promise}}]);
"use strict";app.controller("CouponListCtrl",["$scope","$location","$q","Coupon","Pager","Reset","COUPON_STATUS",function(a,o,t,e,s,r,n){a.statuses=n,a.statusInfo={},_.each(n,function(o){a.statusInfo[o.value]=o.name}),a.operators=e.operator(),a.formData=o.search();var u=moment().startOf("day");_.defaults(a.formData,{startTime:u.valueOf(),endTime:u.add(1,"d").subtract(1,"ms").valueOf(),minPrice:1,maxPrice:150,status:""}),a.coupons=e.query(a.formData),a.loadingPromise=t.all([a.operators.$promise,a.coupons.$promise]),a.search=function(){o.search(_.omit(a.formData,"page"))},a.reset=r,s.setPageInfo(a.coupons.$promise,a)}]);
"use strict";app.controller("DistributeCouponCtrl",["$scope","$location","Coupon","Toast",function(n,t,o,e){function r(n){var t;return"string"==typeof n&&(t=n.split("\n")),_.uniq(t)}function u(n){for(var t=n.length,o=[],e=[],r=/[0-9]{11}/,u=0;t>u;u++)r.test(n[u])?e.push(n[u]):-1!==n[u].indexOf("@")&&o.push(n[u]);return _.union(o,e)}n.submit=function(){if(n.userAccounts&&"string"==typeof n.userAccounts){var t=r(n.userAccounts),s=u(t),c=o.identity({accounts:s}).$promise;c.then(function(r){var u=[],s=[];if(_.forEach(r,function(n){u.push(n.id),s.push(n.identity)}),u.length>0){var c=_.clone(n.formData);c.userIds=u,o.save(c,null).$promise.then(function(){e.success("");var o=_.difference(t,s);o.length&&e.error(""),n.userAccounts=o.join("\n")})}else e.error("")})}},n.cancel=function(){t.path("/coupons")}}]);
"use strict";app.controller("EPCreateCtrl",["$scope","$location","$routeParams","$q","Course","PHASE","Toast","Account","Teacher","EP","Tag","TAG_TYPE",function(t,a,e,n,i,o,r,s,f,c,u,d){function m(){t.formData.epList.push(new c),t.formData.timeManager.push({}),t.formData.calendarOptions.push({}),t.formData.validInfo.push({teacherWithNull:!0,teacherWithWrongSubjectOrPhase:!1,isCreated:!1,createdInfo:""})}function h(t){_.range(t).forEach(function(){m()})}function l(a){var e=t.formData.epList[a].teacher;void 0!==e&&null!==e&&void 0!==e.subject?e.subject.id!==t.formData.subjectId||e.phase!==t.formData.studyPhase?(t.formData.validInfo[a].teacherWithWrongSubjectOrPhase=!0,t.formData.validInfo[a].teacherWithNull=!1):(t.formData.validInfo[a].teacherWithWrongSubjectOrPhase=!1,t.formData.validInfo[a].teacherWithNull=!1):(t.formData.validInfo[a].teacherWithWrongSubjectOrPhase=!1,t.formData.validInfo[a].teacherWithNull=!0)}function p(a,e,n){t.formData.validInfo[a].isCreated=e,t.formData.validInfo[a].createdInfo=n}function D(a){return!t.formData.validInfo[a].isCreated}t.tagType=d.EPISODE_TAG,t.subjectList=i.getAllSubjects(),t.studyPhaseList=o,t.studyPhaseMap={},_.forEach(t.studyPhaseList,function(a){t.studyPhaseMap[a.value]=a.name}),t.loadingPromise=n.all([t.subjectList.$promise]),t.formData={subjectId:"",studyPhase:"",tags:[],epList:[],timeManager:[],calendarOptions:[],validInfo:[]},t.isValid=!0,m(),t.getTeacher=function(a){var e=t.formData.epList[a].teacherId;e?(t.formData.epList[a].teacher=f.get({teacherId:e}),t.formData.epList[a].teacher.$promise.then(function(e){t.formData.epList[a].subject=_.clone(e.subject),t.formData.epList[a].phase=_.clone(e.phase),l(a)},function(t){t.processed(404),t.processed(400)})):(t.formData.epList[a].teacher=null,l(a))},t.$watchGroup(["formData.subjectId","formData.studyPhase"],function(){_.range(t.formData.epList.length).forEach(function(t){l(t)})}),t.ids=[],t.submit=function(){var e=[],i=t.formData.epList.length,o=t.formData.epList;_.range(i).forEach(function(a){D(a)&&e.push(c.save(o[a]).$promise.then(function(e){t.ids.push(e.id),p(a,!0,""+(a+1)+"EP."),u.attach(t.tagType,e.id,t.formData.tags)},function(t){p(a,!1,t.data.message)}))}),n.all(e).then(function(){t.ids.length===t.formData.epList.length&&(r.success(""+t.ids.length+"EP!"),a.url("/eps?ids="+t.ids.join(",")))})},t.queryUsers=function(t){return s.search({accounts:t}).$promise},t.formatUser=function(t){return t?"number"==typeof t?t:"string"==typeof t?t:(t.label=t.nickname+"("+t.identity+")",t.label):t},t.isAddEP=!1,t.addEP=function(){t.isAddEP=!0,t.config={}},t.hideAddEP=function(){t.isAddEP=!1},t.addEPComplete=function(a){var e=t.formData.epList.length-1;h(a.epNum),t.postpone(e,a.postponeType,a.postponeInterval)},t.remove=function(a){a>t.formData.epList.length-1||0===a||(t.formData.epList.splice(a,1),t.formData.timeManager.splice(a,1),t.formData.calendarOptions.splice(a,1),t.formData.validInfo.splice(a,1))};var g=72e5;t.onStartTimeChange=function(a){var e=t.formData.epList;a>e.length-1||e[a].endTime||(e[a].endTime=e[a].startTime+g)},t.postpone=function(a,e,n){var i=t.formData.epList;if(!(a>i.length-1)){var o=0;n?o=24*n*36e5:"week"===e?o=6048e5:"day"===e&&(o=864e5),o&&_.range(a+1,i.length).forEach(function(a){i[a].startTime=i[a-1].startTime+o,i[a].endTime=i[a-1].endTime+o,t.formData.timeManager[a].date=moment(i[a].startTime).startOf("day").valueOf(),t.formData.calendarOptions[a].defaultDate=t.formData.timeManager[a].date})}},t.isEditTag=!1,t.editTag=function(){t.isEditTag=!0},t.hideEditTag=function(){t.isEditTag=!1},t.editTagComplete=function(){}}]);
"use strict";app.controller("EPEditCtrl",["$scope","$location","$routeParams","$q","$http","$route","Course","PHASE","SHEET_REQUIRED_TYPE","NEED_MATERIAL","Toast","Account","Teacher","EP","CmsContent","Tag","TAG_TYPE",function(e,t,a,i,s,n,o,p,d,r,c,l,u,m,h,T,g){function f(t,a,i,s){e.validateInfo.contentWithNull=t,e.validateInfo.contentWithWrongSubjectOrStudyPhase=a,e.validateInfo.contentWithWrongStrategy=i,e.validateInfo.contentWithWrongMaterialConfig=s}function I(){e.ep=m.get(e.ep.id)}function E(){(void 0===e.tempParams.teacherId||""===e.tempParams.teacherId)&&(e.isTeacherInvalid=!0),void 0!==e.ep.teacher&&null!==e.ep.teacher&&void 0!==e.ep.teacher.subject&&e.ep.teacher.subject.id===e.ep.subject.id&&e.ep.teacher.phase===e.ep.phase?e.isTeacherInvalid=!1:e.isTeacherInvalid=!0}function P(t,a){e.isSubjectPhaseInvalid=!1,e.tempParams.episodeTemplateId&&null!==e.ep.episodeTemplate&&void 0!==e.ep.episodeTemplate.subject&&(e.ep.episodeTemplate.subject.id!==t||e.ep.episodeTemplate.phase!==a)&&(e.isSubjectPhaseInvalid=!0)}function v(t,a){return void 0===e.tempParams.episodeTemplateId||""===e.tempParams.episodeTemplateId?!0:null===a||void 0===a.subject?(f(!0,!1,!1,!1),!1):null===a.content||""===a.content.catalogId||a.content.keynoteId<=0?(f(!0,!1,!1,!1),!1):void 0!==a.subject&&a.subject.id!==t.subject.id||a.phase!==t.phase?(f(!1,!0,!1,!1),!1):(f(!1,!1,!1,!1),!0)}e.tagType=g.EPISODE_TAG,e.subjectList=o.getAllSubjects(),e.studyPhaseList=p,e.studyPhaseMap={},_.forEach(e.studyPhaseList,function(t){e.studyPhaseMap[t.value]=t.name}),e.sheetRequiredTypeList=d,e.needMaterialList=r,e.ep=a.epId?m.get({epId:a.epId}):new m,e.tempParams={},e.hasSeasons=!1,e.isEpisodeTemplateInvalid=!1,e.validateInfo={contentWithNull:!0,contentWithWrongSubjectOrStudyPhase:!1,contentWithWrongStrategy:!1,contentWithWrongMaterialConfig:!1},e.originEpisodeTemplateId="",e.isContentStrategyEditDisabled=!0,e.originTags=null,e.loadingPromise=i.all([e.ep.$promise]),e.queryUsers=function(e){return l.search({accounts:e}).$promise},e.formatUser=function(e){return e?"number"==typeof e?e:"string"==typeof e?e:(e.label=e.nickname+"("+e.identity+")",e.label):e},e.formatContent=function(e){return e&&"object"==typeof e?e.name+" ("+e.oldEpisodeTemplateId+")":e};var S=function(e){var t=/^[0-9]+$/;return t.test(e)};e.getContentSuggest=function(t){var a={subjectId:e.ep.subject.id,studyPhase:e.ep.phase};return S(t)?a.oldEpisodeTemplateId=t:a.name=t,h.query(a).$promise},e.isSetSeasons=!1,e.setSeasons=function(){e.isSetSeasons=!0},e.hideSetSeasons=function(){e.isSetSeasons=!1},e.setSeasonsComplete=function(){I()},e.$watch("ep.id",function(){e.tempParams.teacherId=e.ep.teacher?e.ep.teacher.id:"",e.tempParams.episodeTemplateId=e.ep.episodeTemplate?e.ep.episodeTemplate.id:"",e.tempParams.startDate=e.ep.startTime?moment(e.ep.startTime).startOf("day").valueOf():"",e.tempParams.calendarOptions={defaultDate:e.tempParams.startDate},e.hasSeasons=e.ep.seasons?e.ep.seasons.length>0:!1,e.originEpisodeTemplateId=e.ep.episodeTemplate?e.ep.episodeTemplate.id:"",e.originTags=e.ep.tags?_.clone(e.ep.tags):null}),e.$watch("tempParams.teacherId",function(t){return t?(e.ep.teacher=u.get({teacherId:t}),void e.ep.teacher.$promise.then(function(){E()},function(e){e.processed(404),e.processed(400)})):void(e.ep.teacher=null)}),e.$watchGroup(["ep.subject.id","ep.phase"],function(e){E(),P(e[0],e[1])});var y=function(e){var t={};return _.extendOwn(t,e),t.id=e.oldEpisodeTemplateId,t.contentId=e.id,t.content={id:e.id,createdTime:e.createdTime,updatedTime:e.updatedTime,catalogId:e.catalogId,keypointIds:e.keypointIds,difficulty:e.difficulty,materialResourceIds:e.materialResourceIds,keynoteId:e.keynoteId,postClassSheetId:e.postClassSheetId},t.tags=[],delete t.videoResourceIds,delete t.catalogId,delete t.keypointIds,delete t.difficulty,delete t.materialResourceIds,delete t.keynoteId,delete t.postClassSheetId,t};e.$watch("tempParams.episodeTemplateId",function(t){return t===e.originEpisodeTemplateId||parseInt(t)===e.originEpisodeTemplateId?e.isContentStrategyEditDisabled=!0:e.isContentStrategyEditDisabled=!1,t?S(t)?(e.ep.episodeTemplate=null,void h.query({oldEpisodeTemplateId:t}).$promise.then(function(t){t&&1===t.length&&(e.ep.episodeTemplate=y(t[0]),e.isEpisodeTemplateInvalid=!v(e.ep,e.ep.episodeTemplate))},function(e){e.processed(404),e.processed(400)})):void(e.isEpisodeTemplateInvalid=!0):(e.ep.episodeTemplate=null,f(!0,!1,!1,!1),void(e.isEpisodeTemplateInvalid=!1))}),e.$watch("ep.postSheetRequiredType",function(){e.isEpisodeTemplateInvalid=!v(e.ep,e.ep.episodeTemplate)}),e.$watch("ep.needMaterial",function(){e.isEpisodeTemplateInvalid=!v(e.ep,e.ep.episodeTemplate)}),e.isEditTag=!1,e.editTag=function(){e.isEditTag=!0},e.hideEditTag=function(){e.isEditTag=!1},e.editTagComplete=function(){if(e.ep.id){var t=[];null!==e.originTags&&e.originTags!==[]&&t.push(T.detach(e.tagType,e.ep.id,e.originTags).$promise),i.all(t).then(function(){T.attach(e.tagType,e.ep.id,e.ep.tags).$promise.then(function(){e.originTags=_.clone(e.ep.tags),c.success("Tag!"),n.reload()})})}else c.error("EP id .")},e.updateEPWithSeasons=function(){var t=window.prompt(":",e.ep.name),a=e.ep.name;t&&(e.ep.name=t,e.loadingPromise=e.ep.$updateEPWithSeasons().then(function(){c.success("EP!"),n.reload()},function(){e.ep.name=a}))},e.updateEPWithoutSeasons=function(){e.loadingPromise=e.ep.$updateEPWithoutSeasons().then(function(){c.success("EP!"),e.ep.teacher=u.get({teacherId:e.ep.teacher.id}),n.reload()})},e.updateEPEpisodeTemplate=function(){e.ep.needMaterial=!0,e.ep.postSheetRequiredType="notRequired",e.loadingPromise=e.ep.$updateEPEpisodeTemplate().then(function(){c.success("EP!"),n.reload()})},e.cmsUrl=(s.defaults.headers.Origin+location.pathname).replace("crm","cms")}]);
"use strict";app.controller("EPEpisodeDetailCtrl",["$scope","$routeParams","Episode","EPISODE_SCORE",function(e,o,t,r){e.loadingPromise=t.get({episodeId:o.episodeId}).$promise.then(function(r){return console.log(o.episodeId),e.episode=r,console.log(r),e.episodeScore=t.score({roomId:r.id}),e.episodeScore.$promise.then(function(o){o.hasOwnProperty("roomId")||(o.scoreInSum="",o.interactionRate={integrity:"",stability:""},o.studentTransportRate=o.teacherTransportRate={quality:"",stability:""},e.episodeScore=o)})}),e.scoreRanks=" "+_.map(r,function(e){return e.rank+""+e.desc}).join("")+""}]);
"use strict";app.controller("EPListCtrl",["$scope","$location","$q","Course","PHASE","Pager","Account","Teacher","Toast","Reset","EP","Tag","TAG_TYPE",function(e,t,s,r,a,o,c,n,i,u,f){e.subjectList=r.getAllSubjects(),e.studyPhaseList=a,e.formData=t.search(),_.defaults(e.formData,{subjectId:"",studyPhase:"",tagIds:""});var l=_.clone(t.search());e.eps=f.query(l),e.loadingPromise=s.all([e.subjectList.$promise,e.eps.$promise]),o.setPageInfo(e.eps.$promise,e),e.search=function(){delete e.formData.page,t.search(e.formData)},e.reset=u,e.queryUsers=function(e){return c.search({accounts:e}).$promise},e.formatUser=function(e){return e?"number"==typeof e?e:"string"==typeof e?e:(e.label=e.nickname+"("+e.identity+")",e.label):e},e.$watch("formData.teacherId",function(t){if(t){var s=n.get({teacherId:t});s.$promise.then(function(t){e.teacher=t},function(e){e.processed(404),e.processed(400)})}})}]);
"use strict";app.controller("EpisodeCommentCtrl",["$scope","$routeParams","$location","Pager","Episode","Reset","COMMENT_TYPE","LECTURE_COMMENT_HIDE_STATUS",function(e,t,o,a,m,n,s,c){e.type=t.type,e.commentTypeList=s,e.commentTypeListShow={},_.each(s,function(t){e.commentTypeListShow[t.value]=t.name}),e.commentHideStatusList=c,e.formData=_.clone(o.search()),_.defaults(e.formData,{rate:"",hideStatus:""});var i=_.clone(e.formData);i.episodeId=t.episodeId,e.comments=m.comments(i),a.setPageInfo(e.comments.$promise,e),e.search=function(){delete e.formData.page,o.search(e.formData)},e.reset=n,e.hide=function(t){e.hideComments=[t]},e.cancelHide=function(){e.hideComments=null}}]);
"use strict";app.controller("EpisodeDetailCtrl",["$scope","$routeParams","$q","Episode","Confirm","Toast","EPISODE_SCORE","KeynoteInfo",function(e,o,n,t,s,i,r,p){e.type=o.type?o.type:"tutorial",e.episode=t.get({episodeId:o.episodeId}),e.episode.$promise.then(function(e){e.logs.forEach(function(e){e.processedContent=e.content.split("UDID:"),-1!==e.content.indexOf("UDID:")?(e.type="UDID",e.processedContent=e.content.split("UDID:"),e.processedContent[1]=e.processedContent[1].replace(/ /g,"")):-1!==e.content.indexOf(":")&&(e.type="workOrder",e.processedContent=e.content.split(":"),e.processedContent[1]=e.processedContent[1].replace(/ /g,""))})}),e.keynote=p.get({episodeId:o.episodeId}),e.keynote.$promise["catch"](function(e){e.processed(404)}),e.currentTime=Date.now(),e.episodeScore=t.score({roomId:o.episodeId}),e.episodeScore.$promise.then(function(o){o.hasOwnProperty("roomId")||(o.scoreInSum="",o.interactionRate={integrity:"",stability:""},o.studentTransportRate=o.teacherTransportRate={quality:"",stability:""},e.episodeScore=o)}),e.loadingPromise=n.all([e.episode.$promise,e.episodeScore.$promise,e.keynote.$promise]),e.scoreRanks=" "+_.map(r,function(e){return e.rank+""+e.desc}).join("")+"",e.refund=function(){e.refundEpisode=e.episode},e.cancelRefund=function(){e.refundEpisode=null},e.amend=function(){e.amendEpisode=e.episode},e.cancelAmend=function(){e.amendEpisode=null}}]);
"use strict";app.controller("EpisodePurchaseCtrl",["$scope","$routeParams","$location","LectureEpisode","Pager","PAY_STATUS",function(e,a,r,t,o,s){e.PAY_STATUS=s;var i=_.clone(r.search());i.episodeId=a.episodeId,e.tradeDetails=t.tradeDetail(i),o.setPageInfo(e.tradeDetails.$promise,e)}]);
"use strict";app.controller("EpisodePushCtrl",["$scope","$routeParams","$location","Toast","Episode","LectureEpisode","PUSH_TYPE",function(e,o,s,t,i,a,c){e.pushTypeList=c;var n=o.episodeId;e.episode=i.get({episodeId:n}),e.formData={},e.submit=function(){var o=_.clone(e.formData);o.episodeId=n,a.notify(o,null).$promise.then(function(){t.success(""),e.formData={}})},e.cancel=function(){s.path("/episodes/lecture/"+n)}}]);
"use strict";app.controller("EpisodeRouterCtrl",["$scope","$routeParams","$location","$timeout","$window","Episode","Serial","Lecture","Season",function(e,t,s,o,a,c,n,r,i){function u(c,n){e.pageInfo={type:"danger",content:n.join(c)},c?o(function(){c--,u(c,n)},1e3):(t._history?s.url(t._history):a.history.back(),s.replace())}function l(e){switch(e){case"tutorial":case"serial":case"lecture":s.path("/episodes/"+e+"/"+d),s.replace();break;case"season":break;default:u(5,["tutoriallectureseason",""])}}function p(e){switch(e){case"serial":s.path("/serials/"+d),s.replace();break;case"lecture":s.path("/lectures/"+d),s.replace();break;case"season":s.path("/seasons/"+d),s.replace();break;default:u(5,["tutoriallectureseason",""])}}e.pageInfo={type:"info",content:"..."};var d=t.episodeId,f=t.type;f?l(f):c.get({episodeId:d},function(e){l(e.category)},function(e){e.processed(404),r.get({lectureId:d},function(){p("lecture")},function(e){e.processed(404),n.get({serialId:d},function(){p("serial")},function(e){e.processed(404),i.get({seasonId:d},function(){p("season")},function(e){e.processed(404),u(5,["episodeId",""])})})})})}]);
"use strict";app.controller("KeynoteDetailCtrl",["$scope","$routeParams","KeynoteInfo","API_SERVER",function(e,o,n,t){n.get({episodeId:o.episodeId,withResourceInfo:!0},null).$promise.then(function(o){e.totalSize=0,e.resources=o.resourceInfo.resourceIdAndLengths.map(function(o){var n=Math.round(o.second/1024);return e.totalSize+=n,{id:o.first,size:n}})}),e.downloadLink=t.cms+"api/episodes/"+o.episodeId+"/keynote-download"}]);
"use strict";app.controller("TutorialEpisodeListCtrl",["$scope","$location","$routeParams","$q","Pager","Confirm","Toast","Reset","Episode","EpisodePrice","EPISODE_SCORE","PAY_TYPE","EPISODE_STATUS","TUTORIAL_CATEGORY",function(e,o,r,s,t,a,i,n,c,u,d,p,m,f){e.scores=d,e.episodePrice=u.query(),e.payTypes=p,e.tutorialCategory=f,e.episodeStatuses=m.tutorial,e.formData=o.search(),e.currentTime=Date.now();var l=moment().startOf("day");_.defaults(e.formData,{startTime:l.valueOf(),endTime:l.add(1,"d").subtract(1,"ms").valueOf(),price:"",payType:"",status:"",category:""});var P=_.clone(o.search());if(P.score){var y=P.score.split("-");P.minRate=y[0],P.maxRate=y[1]}e.episodes=c.query(P);var h=e.episodes.$promise.then(function(o){return s.all(_.map(o,function(o,r){var s=c.score({roomId:o.id});return s.$promise.then(function(o){o.hasOwnProperty("roomId")?e.episodes[r].score=o.scoreInSum:e.episodes[r].score=""})}))});e.loadingPromise=s.all([e.phaseSubjectPromise,e.episodePrice.$promise,h]),t.setPageInfo(e.episodes.$promise,e),e.search=function(){delete e.formData.page,e.formData.score||delete e.formData.score,o.search(e.formData)},e.reset=n,e.refund=function(o){e.refundEpisode=o},e.cancelRefund=function(){e.refundEpisode=null},e.amend=function(o){e.amendEpisode=o,e.type=o.category},e.cancelAmend=function(){e.amendEpisode=null},e.checkAllStatuses=function(){e.formData.status=e.episodeStatuses.map(function(e){return e.value})},e.$watch("formData.category",function(o){_.isUndefined(o)||(e.isTutorial=""===o||"tutorial"===o)}),e.loadAll=function(){var r=_.extend({},o.search(),{page:0,pageSize:999999999});e.episodes=c.query(r),e.loadingPromise=e.episodes.$promise;var a=e.episodes.$promise.then(function(o){return s.all(_.map(o,function(o,r){var s=c.score({roomId:o.id});return s.$promise.then(function(o){o.hasOwnProperty("roomId")?e.episodes[r].score=o.scoreInSum:e.episodes[r].score=""})}))});return t.setPageInfo(e.episodes.$promise,e),a}}]);
"use strict";app.controller("FeedbackListCtrl",["$scope","Feedback","$routeParams",function(e,t,a){var m=a.dayTime?parseInt(a.dayTime):Date.now(),r=moment(m).startOf("day").toDate().getTime(),d=moment(m).endOf("day").toDate().getTime();e.feedbacks=t.query({startTime:r,endTime:d}),e.dayTime=m,e.days=_.range(7)}]);
"use strict";app.controller("InterviewListCtrl",["$scope","Course","$location","Interview","$q","Pager",function(e,r,t,i,s,a){e.formData=t.search(),e.subjectList=r.getAllSubjects();var n=moment().startOf("day");_.defaults(e.formData,{startTime:n.valueOf(),endTime:n.add(1,"d").subtract(1,"ms").valueOf(),subject:""});var o=_.clone(t.search());e.interviews=i.query(o),e.loadingPromise=s.all([e.subjectList.$promise,e.interviews.promise]),e.reserveInterview=function(){e.interviewReserved="true"},e.onCancelReserve=function(){e.interviewReserved=null},a.setPageInfo(e.interviews.$promise,e),e.search=function(){delete e.formData.page,t.search(e.formData)},e.verifyEpisodeId=null,e.verify=function(r){e.verifyEpisodeId=r.episodeId,e.verifyTeacherId=r.teacherId},e.cancelVerify=function(){e.verifyEpisodeId=null}}]);
"use strict";app.controller("KeynoteEditCtrl",["$scope","$routeParams","$q","Keypoint","Keynote","Toast","Content","$location",function(t,e,n,o,i,c,s,a){var r=e["keypointIds[]"];"string"==typeof r&&(r=[r]);var d=e.catalogId;t.contentId=e.contentId,e.keynoteId?t.keynote=i.get({keynoteId:e.keynoteId}):t.keynote=i.save({catalogId:d,keypointIds:r,title:e.title}),t.save=function(){if(window.confirm("")){var o=[];t.keynote.title=e.title;var i=t.keynote.$save();if(o.push(i),e.contentId){var r=s.get({contentId:e.contentId}),d=r.$promise.then(function(){return i}).then(function(){return r.keynoteId=t.keynote.id,r.$save()}).then(function(){c.success("")});o.push(d)}t.loadingPromise=n.all(o).then(function(){c.success(""),a.path("/keynotes/"+t.keynote.id),a.replace()})}}}]);
"use strict";app.controller("KeynotePreviewCtrl",["$scope","$routeParams","Keynote",function(e,t,o){e.keynote=o.get({keynoteId:t.keynoteId}),e.back=function(){history.back()}}]);
"use strict";app.controller("LectureDetailCtrl",["$scope","$routeParams","$route","Lecture","Utils","Toast","LectureEpisode",function(e,t,n,a,o,c,r){var m=t.lectureId,l={name:"",content:"",imageIds:[]};e.formData=angular.copy(l),e.lecture=r.lecture({lectureId:m}),e.lecture.$promise.then(function(t){t.imageIds||(t.imageIds=[]),e.formData=angular.copy(t),l=angular.copy(t),e.lecture.content=t.content.replace(/\n/g,"<br/>"),e.lecture.content=t.content.replace(/\s/g,"&nbsp;")}),e.contentLength=2e3,e.$watch("formData.content",function(t){var n=0;t&&(n=t.length),n>e.contentLength&&(e.exceedNumber=n-e.contentLength)}),e.temp={uploadImageUrl:null,uploadImageId:null},e.removeImage=function(t){e.formData.imageIds.splice(t,1)},e.changeImage=function(t){e.changeImageIndex=t},e.insertImage=function(){e.changeImageIndex=e.formData.imageIds.length},e.$watch("temp.uploadImageId",function(t){t&&(e.changeImageIndex===e.formData.imageIds.length?e.formData.imageIds.push(t):e.formData.imageIds.splice(e.changeImageIndex,1,t),e.temp.uploadImageUrl=null)}),e.onUploadError=function(){e.temp.uploadImageUrl=null},e.submit=function(){var t=_.clone(e.formData);t.lectureId=m,e.loadingPromise=a.modify({lectureId:m},t).$promise.then(function(){c.success(""),n.reload()})},e.cancel=function(){e.editMode=!1},e.edit=function(){e.editMode=!0};var u=_.debounce(function(){o.checkPristine(l,e.formData,["name","content","imageIds"])?e.form.$setPristine():e.form.$setDirty(),e.$apply()},100);e.$watch("formData",function(){u()},!0)}]);
"use strict";app.controller("LectureEpisodeCreateCtrl",["$scope","$location","$routeParams","$q","Pager","Confirm","Toast","Lecture","ALL_GRADE_NORMAL","Teacher","Subject","Account",function(e,t,a,r,o,s,i,n,u,m,c,l){function d(e){var t=/^[0-9]{1,11}$/;return t.test(e)}function f(t){d(t)&&(e.teacher=m.get({teacherId:t}),e.teacher.$promise.then(function(a){e.formData.subjectId=a.subject.id,e.formData.phase=h[a.phase],e.grades=_.map(u[a.phase],function(e,t){return{value:t,desc:e}});var r={value:0,desc:""};e.grades.unshift(r),c.byPhase({phase:a.phase}).$promise.then(function(t){e.subjectsIdNameMap={},_.each(t,function(t){e.subjectsIdNameMap[t.id]=t.name})},function(){i.error("! teacherId: "+a.id+" phase: "+a.phase)}),e.regionsPromise=n.regions({teacherId:t}).$promise,e.regionsPromise.then(function(t){e.regions=_.map(t,function(e){var t={value:e.id,desc:e.name};return e.subRegions&&e.subRegions.length&&(t.classes=["block"],t.postfix=_.map(e.subRegions,function(e){return e.name}).join(""),t.postfix=""+t.postfix+""),t}),e.regions.unshift(r)}),e.textbookSuitesPromise=n.textbookSuites({teacherId:t}).$promise,e.textbookSuitesPromise.then(function(t){e.textbookSuites=_.map(t,function(e){return{value:e.catalogId,desc:e.name}}),e.textbookSuites.unshift(r)})},function(e){e.processed(404),e.processed(400)}))}var p={value:0,desc:""};a.lectureId?e.type="edit":e.type="create",console.log(e.type),e.formData={};var I=moment().startOf("day"),T={STANDARD:"standard",CUSTOMIZE:"customize"};e.SALE_TIME_TYPE=T;var D={INFINITE:"infinite",FINITE:"finite"},h={chuzhong:1,gaozhong:2};e.LIMIT_TYPE=D,_.defaults(e.formData,{name:null,price:null,studentLimit:0,limitType:D.INFINITE,startSaleType:T.STANDARD,startSaleTime:null,subjectId:null,gradeId:0,regionId:0,textbookSuiteId:0,content:null,teacherId:null,startTime:I.valueOf(),endTime:I.valueOf()}),e.LIMIT_TYPE=D,e.tempDates={startSaleDate:null,startDate:null},e.$watch("formData.limitType",function(t){t===D.INFINITE&&(e.formData.studentLimit=null)}),e.$watch("formData.startSaleType",function(t){t===T.STANDARD&&(e.formData.startSaleTime=null)}),e.$watch("formData.teacherId",function(t){"edit"!==e.type&&t&&f(t)}),e.pricesPromise=n.prices().$promise,e.pricesPromise.then(function(t){e.prices=_.map(t,function(e){return{value:e.price,desc:e.price+""}})}),e.isTextbookSuitesExpanded=!1,e.expandTextbookSuites=function(){e.isTextbookSuitesExpanded=!0},"create"===e.type?e.loadingPromise=r.all([e.textbookSuitesPromise,e.regionsPromise,e.pricesPromise]):e.loadingPromise=n.get({lectureId:a.lectureId}).$promise.then(function(t){e.formData=_.clone(t),e.formData.regionId||(e.formData.regionId=0),e.formData.textbookSuiteId||(e.formData.textbookSuiteId=0);var a=moment(t.startTime).startOf("day").valueOf();if(e.tempDates.startDate=a,0===t.studentLimit?(e.formData.limitType=e.LIMIT_TYPE.INFINITE,e.formData.studentLimit=null):e.formData.limitType=e.LIMIT_TYPE.FINITE,0===t.startSaleTime)e.formData.startSaleType=e.SALE_TIME_TYPE.STANDARD,e.formData.startSaleTime=null;else{e.formData.startSaleType=e.SALE_TIME_TYPE.CUSTOMIZE;var r=moment(t.startSaleTime).startOf("day").valueOf();e.tempDates.startSaleDate=r}e.grades=_.map(u[1===t.phase?"chuzhong":"gaozhong"],function(e,t){return{value:t,desc:e}}),e.grades.unshift(p),f(t.teacherId),0!==t.gradeId&&(e.formData.gradeId=t.gradeId.toString()),console.log(e.formData.gradeId);var o=Date.now();e.UNPUBLISHED=1===t.status&&t.startSaleTime>o,e.PUBLISHED=1===t.status&&t.startSaleTime<o,e.FINISHED=t.endTime<o,e.RETIRED=-1===t.status,e.temp={},e.temp.startSaleTime=t.startSaleTime,e.temp.startTime=t.startTime,e.temp.endTime=t.endTime,e.formData.imageIds||(e.formData.imageIds=[])},function(){i.error("!")}),e.submit=function(){var a=_.clone(e.formData);n.create(a).$promise.then(function(){i.success("!"),t.path("/episodes/lecture")},function(){i.error("!")})},e.save=function(){var a=_.clone(e.formData);e.UNPUBLISHED||(a.startTime=e.temp.startTime,a.endTime=e.temp.endTime,a.startSaleTime=e.temp.startSaleTime),n.update({lectureId:e.formData.id},a).$promise.then(function(){i.success("!"),t.path("/episodes/lecture")},function(){i.error("!")})},e.queryUsers=function(e){return l.search({accounts:e}).$promise},e.formatUser=function(e){return e?"number"==typeof e?e:(e.label=e.nickname+"("+e.identity+")",e.label):e}}]);
"use strict";app.controller("LectureEpisodeDetailCtrl",["$scope","$routeParams","$q","Episode","LectureEpisode","Lecture","Confirm","Toast","EPISODE_SCORE","KeynoteInfo","API_SERVER",function(e,t,o,n,i,s,r,d,c,a,p){e.episode=i.get({episodeId:t.episodeId}),e.API_SERVER=p;var l=e.episode.$promise.then(function(t){return t.logs.forEach(function(e){e.processedContent=e.content.split("UDID:"),-1!==e.content.indexOf("UDID:")?(e.type="UDID",e.processedContent=e.content.split("UDID:"),e.processedContent[1]=e.processedContent[1].replace(/ /g,"")):-1!==e.content.indexOf(":")&&(e.type="workOrder",e.processedContent=e.content.split(":"),e.processedContent[1]=e.processedContent[1].replace(/ /g,""))}),s.isShouldManualSettle({lectureId:t.lecture.id}).$promise.then(function(t){e.isShouldManualSettle="true"===t.data?!0:!1})});e.temp={uploadFileUrl:null,uploadFileId:null},e.keynote=a.get({episodeId:t.episodeId}),e.keynote.$promise["catch"](function(e){e.processed(404)}),e.hasKeynotePromise=s.hasKeynote({episodeId:t.episodeId}).$promise.then(function(t){e.hasKeynote=t.hasKeynote,console.log(e.hasKeynote)},function(){d.error("keynote!episodeId:"+t.episodeId)}),e.currentTime=Date.now(),e.episodeScore=n.score({roomId:t.episodeId}),e.episodeScore.$promise.then(function(t){t.hasOwnProperty("roomId")||(t.scoreInSum="",t.interactionRate={integrity:"",stability:""},t.studentTransportRate=t.teacherTransportRate={quality:"",stability:""},e.episodeScore=t)}),e.loadingPromise=o.all([l,e.episodeScore.$promise,e.hasKeynotePromise]),e.scoreRanks=" "+_.map(c,function(e){return e.rank+""+e.desc}).join("")+"",e.retire=function(){e.retireLectureId=e.episode.lecture.id},e.cancelRetire=function(){e.retireLectureId=null},e.pin=function(){var t='<span class="label label-warning">'+e.episode.name+"</span>";r.show({title:"",text:t,confirmText:""}).then(function(){i.top({episodeId:e.episode.id},null).$promise.then(function(){d.success(""),e.episode=i.get({episodeId:e.episode.id})})})},e.cancelPin=function(){var t='<span class="label label-warning">'+e.episode.name+"</span>";r.show({title:"",text:t}).then(function(){i.cancelTop({episodeId:e.episode.id},null).$promise.then(function(){d.success(""),e.episode=i.get({episodeId:e.episode.id})})})},e.addRemark=function(){e.remarkEpisodeId=e.episode.id},e.cancelRemark=function(){e.remarkEpisodeId=null},e.manualSettle=function(){e.manualSettleLectureId=e.episode.lecture.id},e.cancelManualSettle=function(){e.manualSettleLectureId=null},e.setTarget=function(){e.uploadTarget=p.cms+"tutor-crm-lecture/api/lectures/"+e.episode.id+"/teachers/"+e.episode.teacher.id+"/keynote/upload"},e.onSelected=function(t){e.temp.uploadFile=t},e.onUploaded=function(){d.success("!"),location.reload()}}]);
"use strict";app.controller("LectureEpisodeListCtrl",["$scope","$location","$routeParams","$q","Pager","Confirm","Toast","Reset","Lecture","EPISODE_STATUS","LECTURE_TOP_STATUS","LECTURE_SELECT_STATUS","LECTURE_STATUS","EPISODE_INCOME_FLOW_TYPE","KEYNOTE_STATUS","LECTURE_TYPE",function(e,t,a,o,n,c,s,l,r,u,i,p,m,f,T,d){e.episodeIncomeFlowTypes=f,e.episodeStatuses=u.lecture,e.lectureStatuses=m,e.lectureSelectStatuses=p,e.lectureTopStatuses=i,e.keynoteStatuses=T,e.lectureTypes=d,e.formData=t.search(),e.currentTime=_.now();var S=moment().startOf("day");_.defaults(e.formData,{account:"",attendStartTime:e.formData.isNoSetDefault?e.formData.attendStartTime:S.valueOf(),attendEndTime:e.formData.isNoSetDefault?e.formData.attendEndTime:S.add(1,"d").subtract(1,"ms").valueOf(),status:"",episodeStatus:"",topStatus:"",selectStatus:"",episodeIncomeFlowTypes:"",lectureType:"",keynoteStatus:""}),e.lectures=r.query(_.clone(t.search())),e.loadingPromise=o.all([e.phaseSubjectPromise,e.lectures.$promise]),n.setPageInfo(e.lectures.$promise,e),e.search=function(){delete e.formData.page,e.formData.isNoSetDefault=!0,t.search(e.formData)},e.reset=l,e.retire=function(t){e.retireLectureId=t.id},e.cancelRetire=function(){e.retireLectureId=null},e.select=function(e){var t=""+e.name+'<span class="text-danger"></span>';c.show({title:"",text:t}).then(function(){r.select({lectureId:e.id,selectAction:"select"},null).$promise.then(function(){s.success(""),e.$fetch()})})},e.cancelSelect=function(e){var t=""+e.name+'<span class="text-danger"></span>';c.show({title:"",text:t}).then(function(){r.cancelSelect({lectureId:e.id,selectAction:"cancel_select"},null).$promise.then(function(){s.success(""),e.$fetch()})})},e.top=function(e,t){var a=t?"":"",o=""+e.name+'<span class="text-danger">'+a+"</span>";c.show({title:a,text:o,confirmText:""}).then(function(){r.top({lectureId:e.id,globalTopAction:"cancel_global_top",normalTopAction:t?"normal_top":"normal_topped"===e.topStatus?"normal_top":"cancel_normal_top",isNormalTop:t},null).$promise.then(function(){s.success(""),e.$fetch()})})},e.cancelTop=function(e,t){var a=t?"":"",o=""+e.name+'<span class="text-danger">'+a+"</span>";c.show({title:""+a,text:o}).then(function(){r.cancelTop({lectureId:e.id,globalTopAction:"cancel_global_top",normalTopAction:t?"cancel_normal_top":"normal_topped"===e.topStatus?"normal_top":"cancel_normal_top",isNormalTop:t},null).$promise.then(function(){s.success(""),e.$fetch()})})},e.loadAll=function(){var a=_.extend({},t.search(),{page:0,pageSize:999999999});return e.lectures=r.query(a),e.loadingPromise=e.lectures.$promise,n.setPageInfo(e.lectures.$promise,e),e.lectures.$promise}}]);
"use strict";app.controller("NotifyByImportCtrl",["$scope","Toast","NOTIFICATION_CHANNEL","USER_TYPE","API_SERVER","SOURCE_TYPE","PHASE","Notification","Confirm",function(t,e,o,i,n,l,a,u,r){t.userTypeList=i,t.sourceTypes=l,t.studyPhases=a,t.channelList=o,t.formData={userType:_.first(t.userTypeList).value,channel:[]},t.$watch("temp.uploadFileUrl",function(e){if(e){t.uploadTarget=n.cms+"tutor-crm-notify/api/notifications/importCSV";var o=t.formData,i=[];if(_.each(o,function(t,e){(t||"0"===t)&&i.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),i.length){var l=i.join("&");t.uploadTarget+="?"+l}t.isSubmit=!0}}),t.temp={uploadFileUrl:null,uploadFileId:null,uploadFile:null},t.onSelected=function(e){t.temp.uploadFile=e},t.onUploadError=function(){t.isSubmit=!1},t.onUploaded=function(o){t.temp.uploadFileUrl=null,t.isSubmit=!1,t.fileId=o,e.success("")},t.submit=function(){_.extend(t.formData,{fileId:t.fileId}),t.createPromise=u.createJob(null,$.param(t.formData)).$promise.then(function(t){var o=t.targetUserIds,i=[];i.push(""+o.length+"?"),r.show({title:"",text:i}).then(function(){u.startJob({id:t.id}).$promise.then(function(){e.success("")})})})}}]);
"use strict";app.controller("NotifyByStudentCtrl",["$scope","$q","Notification","NOTIFICATION_CHANNEL","PHASE","USER_TYPE",function(t,s,i,n,e,a){t.userTypeList=a,t.channelList=n,t.studyPhaseList=e,t.formData={channel:_.first(t.channelList).value,studyPhase:""},t.submit=function(){}}]);
"use strict";app.controller("NotifyJobListCtrl",["$scope","$location","Pager","Notification","NOTIFICATION_CHANNEL","API_SERVER",function(o,i,n,t,s,e){function a(i,s){return i=i||0,s=s||20,o.jobs=t.jobs({page:i,pageSize:s}),n.setPageInfo(o.jobs.$promise,o),o.jobs.$promise}o.channelList=s,o.downloadLinkPrefix=e.cms+"tutor-crm-notify/api/notifications/jobs/",o.load=function(i,n){o.loadingPromise=a(i,n)},o.loadingPromise=a()}]);
"use strict";app.controller("AnnouncementListCtrl",["$scope","$route","Announcement","Confirm","Toast",function(n,e,t,o,a){function c(){n.announcementMap[n.phase].length?n.announcement=n.announcementMap[n.phase][0]:n.announcement=null}function u(){return t.query().$promise.then(function(e){n.announcementMap={chuzhong:[],gaozhong:[]},_.each(e,function(e){n.announcementMap[e.phase].push(e)}),c()})}n.phase="chuzhong",n.editMode=!1,n.loadingPromise=u(),n.changeType=function(e){n.phase=e,n.editMode=!1,c()},n.publish=function(){var c=n.formData.content;o.show({title:"",text:["",'<span class="text-danger">'+c+"</span>"],confirmText:""}).then(function(){n.formData.phase=n.phase,t.save(n.formData,function(){a.success(""),e.reload()})})},n.cancel=function(){n.editMode=!1},n.edit=function(){n.formData=n.announcement?angular.copy(n.announcement):{},n.editMode=!0}}]);
"use strict";app.controller("BannerListCtrl",["$scope","$routeParams","$route","$q","$location","Utils","Toast","Banner","HOUR","PHASE","PRODUCT",function(e,t,n,r,a,o,i,m,s,u,l){var c=function(e,t,n,r,a,o,i,m){return{startDate:e||moment().startOf("day").valueOf(),startHour:t||0,endDate:n||moment().startOf("day").valueOf(),endHour:r||23,imageId:a||"",title:o||"",link:i||"",shareDescription:m||"",phase:"",productType:""}};e.HOURS=s,e.PHASES=u,e.PRODUCTS=l,e.editMode=!1;var f=m.query(),d={},p=[];e.loadingPromise=f.$promise.then(function(e){f=_.map(e,function(e){return e.startDate=moment(e.startTime).startOf("day").valueOf(),e.startHour=moment(e.startTime).get("hour"),e.endDate=moment(e.endTime).startOf("day").valueOf(),e.endHour=moment(e.endTime).get("hour"),e}),d.entries=angular.copy(f);var t=(new Date).getTime();p=_.map(f,function(e){return t<e.startTime?"unbegin":t>=e.startTime&&t<=e.endTime?"displaying":t>e.endTime?"expired":void 0})})["catch"](function(e){return e.status||i.error(""),404!==e.status?r.reject(e):f}),e.formData={entries:f},e.dateInfo=function(e,t){return p[e]===t},e.removeBanner=function(t){e.formData.entries.splice(t,1)},e.addBanner=function(){e.formData.entries.push(c())},e.moveUpBanner=function(t){var n=e.formData.entries[t];e.formData.entries.splice(t,1),e.formData.entries.splice(t-1,0,n)},e.moveDownBanner=function(t){var n=e.formData.entries[t];e.formData.entries.splice(t,1),e.formData.entries.splice(t+1,0,n)},e.removeBannerShareImage=function(t){e.formData.entries[t].shareImageId=null},e.cancel=function(){e.formData.entries=f,e.editMode=!1},e.edit=function(){e.formData.entries=angular.copy(f),e.editMode=!0},e.submit=function(){var t=_.map(e.formData.entries,function(e){return e.startTime=e.startDate+36e5*e.startHour,e.endTime=e.endDate+36e5*e.endHour,e});e.loadingPromise=m.save(t).$promise.then(function(){i.success("banner"),n.reload()})["catch"](function(e){e.status||i.error("")})};var D=_.debounce(function(){o.checkPristine(d,e.formData,["entries"])?e.form.$setPristine():e.form.$setDirty(),e.$apply()},100);e.$watchCollection("formData.entries",function(){D()})}]),app.controller("SingleBannerCtrl",["$scope",function(e){e.temp={uploadImageUrl:null,uploadShareImageUrl:null},e.$watch("banner",function(t){t.imageId&&(e.temp.uploadImageUrl=null),t.shareImageId&&(e.temp.uploadShareImageUrl=null)},!0),e.onUploadError=function(){e.temp.uploadImageUrl=null},e.onUploadShareImageError=function(){e.temp.uploadShareImageUrl=null}}]);
"use strict";app.controller("LinkingWithLectureEditCtrl",["$scope","$routeParams","$location","LinkingWithLecture","$q","LINKING_WITH_LECTURE_STATUS","Pager","Toast","Lecture","PHASE",function(e,t,o,r,i,c,n,a,u,s){e.formData={},e.PHASE=s,e.$watch("formData.episodeId",function(t){e.lecture=null,t&&(e.lecture=u.getByEpisodeId({episodeId:t}),e.lecture.$promise["catch"](function(e){return e.processed(404)}),e.lecture.$promise.then(function(t){e.formData.subject=t.subject,e.formData.phase=t.phase,e.formData.lectureId=t.id})["catch"](function(){e.lecture=null}))}),e.submit=function(){e.loadingPromise=r.save(e.formData).$promise,e.loadingPromise.then(function(){a.success(""),o.url("/operations/linking-with-lectures")})}}]);
"use strict";app.controller("LinkingWithLectureListCtrl",["$scope","$routeParams","$location","LinkingWithLecture","$q","LINKING_WITH_LECTURE_STATUS","Pager","PHASE","Toast","Reset",function(e,t,i,n,r,c,a,s,o,u){e.formData=_.clone(i.search()),e.PHASE=s,e.linkingWithLectureStatuses=c,e.linkingWithLectures=n.query(e.formData),e.loadingPromise=r.all([e.phaseSubjectPromise,e.linkingWithLectures.$promise]),e.search=function(){delete e.formData.page,i.search(e.formData)},e.reset=u,e.cancel=function(e){window.confirm("? ")&&e.$cancel().then(function(){o.success("")})},a.setPageInfo(e.linkingWithLectures.$promise,e)}]);
"use strict";app.controller("SplashEditCtrl",["$scope","$routeParams","$location","$q","Pager","Toast","STRATEGY","Splash",function(a,e,i,o,t,s,r,d){a.formData={},a.temp={},a.dailyDisplayLimits=r,a.onUploadError=function(){},a.onUploaded=function(){s.success("!")},a.submit=function(){var e={imageId:a.temp.imageId1,ratio:"16:9",device:"android"},o={imageId:a.temp.imageId2,ratio:"4:3",device:"android"},t={imageId:a.temp.imageId3,ratio:"16:9",device:"iphone"},r={imageId:a.temp.imageId4,ratio:"3:2",device:"iphone"};a.formData.splashImages=[e,o,t,r],a.loadingPromise=d.save(a.formData).$promise,a.loadingPromise.then(function(){s.success(""),i.url("/operations/splashes")})}}]);
"use strict";app.controller("SplashListCtrl",["$scope","Pager","Toast","Splash",function(s,e,n,o){s.splashes=o.query(),s.currentTime=_.now(),s.loadingPromise=s.splashes.$promise,s.cancel=function(s){window.confirm("? ")&&s.$cancel().then(function(){n.success(""),s.$get()})},e.setPageInfo(s.splashes.$promise,s)}]);
"use strict";app.controller("SeasonCreateCtrl",["$scope","$location","Semester","SeasonPrototype","Toast","Confirm","Course","MAJOR","SEASON_PRICE","SEASON_TYPE_MAP","SEASON_SUBJECT_GRADE_MAP","Season","Account","Episode","$routeParams","TextbookSuite","$http",function(e,a,t,o,s,r,n,i,d,l,m,c,u,f,p,D,I){function h(){_.defaults(e.formData,{name:null,price:null,repeatTime:"",durationDesc:null,content:null,displayTeacherIds:[],episodes:[],studentLimitType:x.INFINITE,preSaleType:$.NONE,startSaleType:$.STANDARD,endSaleType:$.STANDARD,endDisplayType:w.NONE,withGift:"true",groupExisted:"true",major:0,regionId:0,textbookSuiteId:0,gradeIds:[],estimatedShippingTime:null})}function T(){e.teachers=[],_.each(e.formData.displayTeacherIds,function(a){u.getTeacherInfo({userId:a}).$promise.then(function(a){e.teachers.push(a),e.teachers=_.unique(e.teachers,function(e){return e.id}),e.teachers=_.sortBy(e.teachers,function(a){var t=e.formData.displayTeacherIds.indexOf(a.id);return t})},function(){s.error("!")})})}function S(){_.each(e.formData.episodes,function(a){e.episodeDetails.push({id:a.episodeId,labelId:parseInt(a.labelId)})}),_.each(e.formData.episodes,function(a){f.fetch({episodeId:a.episodeId}).$promise.then(function(a){_.each(e.episodeDetails,function(t){t.id===a.id&&(e.episodeDetails[e.episodeDetails.indexOf(t)]=_.extend(t,{epId:a.id,name:a.name,teacherId:a.teacher.id,teacher:_.clone(a.teacher),startTime:a.startTime}))})})})}function y(a){return _.isUndefined(_.findWhere(e.episodeDetails,{teacherId:a}))}function E(){console.log("before"+e.episodeDetails);var a=_.clone(_.sortBy(e.episodeDetails,"startTime"));console.log("after"+a),e.formData.episodes=[];for(var t=0;t<a.length;t++)e.formData.episodes.push({episodeId:a[t].id,ordinal:t,labelId:a[t].labelId});e.formData.preSaleType===$.STANDARD?e.formData.startPreSaleTime=$.STANDARD_VALUE:e.formData.preSaleType===$.CUSTOMIZE?e.formData.startPreSaleTime=e.formData.startPreSaleTime:e.formData.startPreSaleTime=e.formData.startSaleTime}function g(e,a,t){var o=e[a];e.splice(a,1),e.splice(t,0,o)}function b(){e.episodeDetails=[],e.teachers=[]}function v(e){c.getV2({seasonId:e}).$promise.then(function(e){var a=_.clone(e);a.episodes=_.filter(a.episodes,function(e){return e.labelId!==N});var t=_.clone(a.displayTeacherIds);_.each(t,function(e){if(!_.any(a.episodes,function(a){return a.teacherId===e})){var t=a.displayTeacherIds.indexOf(e);t>-1&&a.displayTeacherIds.splice(t,1)}}),A(a)},function(){s.error("!")})}function A(a){if(e.formData=_.clone(a),T(),e.labelPromise.then(function(){S()}),e.formData.regionId&&"0"!==e.formData.regionId||(e.formData.regionId=0),e.formData.textbookSuiteId&&"0"!==e.formData.textbookSuiteId||(e.formData.textbookSuiteId=0),0===e.formData.studentLimit?(e.formData.studentLimitType=e.STUDENT_LIMIT_TYPE.INFINITE,e.formData.studentLimit=null):e.formData.studentLimitType=e.STUDENT_LIMIT_TYPE.FINITE,e.formData.startPreSaleTime!==e.formData.startSaleTime)if(e.formData.startPreSaleTime){e.formData.preSaleType=$.CUSTOMIZE;var t=moment(e.formData.startPreSaleTime).startOf("day").valueOf();e.tempDates.preSaleDate=t,e.calendarPreSaleDate.defaultDate=t,e.formData.startPreSaleTime=e.formData.startPreSaleTime}else e.formData.preSaleType=$.STANDARD;else e.formData.preSaleType=$.NONE;if(e.formData.startSaleTime){e.formData.startSaleType=$.CUSTOMIZE;var o=moment(e.formData.startSaleTime).startOf("day").valueOf();e.tempDates.startSaleDate=o,e.calendarStartSaleDate.defaultDate=o}else e.formData.startSaleType=$.STANDARD;if(e.formData.endSaleTime){e.formData.endSaleType=$.CUSTOMIZE;var s=moment(e.formData.endSaleTime).startOf("day").valueOf();e.tempDates.endSaleDate=s,e.calendarEndSaleDate.defaultDate=s}else e.formData.endSaleType=$.STANDARD;if(e.formData.endDisplayTime){e.formData.endDisplayType=w.CUSTOMIZE;var r=moment(e.formData.endDisplayTime).startOf("day").valueOf();e.tempDates.endDisplayDate=r,e.calendarEndDisplayDate.defaultDate=r}else e.formData.endDisplayType=w.NONE;if(e.formData.estimatedShippingTime){var n=moment(e.formData.estimatedShippingTime).startOf("day").valueOf();e.tempDates.estimatedShippingDate=n,e.calendarEstimatedShippingDate.defaultDate=n}1===e.formData.withGift?e.formData.withGift="true":e.formData.withGift="false",1===e.formData.groupExisted?e.formData.groupExisted="true":e.formData.groupExisted="true",R(e.formData.subjectId,e.formData.gradeIds)?e.showMajor=!0:e.showMajor=!1;var i=_.findWhere(M,{id:e.formData.subjectId});e.grades=_.map(i.grades,function(e){return{id:e.id,desc:e.name}}),e.formData.imageIds||(e.formData.imageIds=[])}var N=1,O=11,P=12,x={INFINITE:"infinite",FINITE:"finite"};e.currentTime=_.now();var C=a.path(),$={STANDARD:"standard",CUSTOMIZE:"customize",NONE:"none",STANDARD_VALUE:0};e.SALE_TIME_TYPE=$,e.STUDENT_LIMIT_TYPE=x,e.subjects=[],_.each(m,function(a){e.subjects.push({value:a.id,desc:a.name})}),e.selectedEpisodeIds=[],e.$watchCollection("selectedEpisodeIds",function(){console.log("selectedEpisodeIds"+e.selectedEpisodeIds),e.selectedEpisodeIds=_.unique(e.selectedEpisodeIds),_.each(e.selectedEpisodeIds,function(a){f.fetch({episodeId:a}).$promise.then(function(a){null===a||_.any(e.episodeDetails,function(e){return e.id===a.id})||(e.episodeDetails.push({id:a.id,teacherId:a.teacher.id,name:a.name,teacher:_.clone(a.teacher),startTime:a.startTime,labelId:0}),e.formData.displayTeacherIds.push(a.teacher.id),e.formData.displayTeacherIds=_.uniq(e.formData.displayTeacherIds))},function(){s.error("ep!")})})},!0),e.type="create",p.seasonId&&-1!==C.indexOf("edit")&&(e.type="edit"),p.seasonId&&-1!==C.indexOf("copy")&&(e.type="copy");var w={NONE:"none",CUSTOMIZE:"customize",NONE_VALUE:0};e.DISPLAY_TIME_TYPE=w,e.formData={},e.grades=[],e.calendarEstimatedShippingDate={defaultDate:null},h(),e.labelPromise=c.labels().$promise.then(function(a){e.labels=a,e.labels.push({id:0,name:""}),console.log("labels: "+e.labels)}),e.temp={uploadImageUrl:null,uploadImageId:null,bannerImageId:null,episode:null},e.tempDates={},e.years={},e.years.availableOptions=[];for(var j=0;20>j;j++)e.years.availableOptions.push({value:2016+j});e.temp.year={value:(new Date).getFullYear()},e.$watch("formData.preSaleType",function(a){(a===$.STANDARD||a===$.NONE)&&(e.tempDates.preSaleDate=null,e.calendarPreSaleDate={defaultDate:null},e.formData.startPreSaleTime=null,a===$.STANDARD&&(e.formData.startSaleType=$.CUSTOMIZE))}),e.$watch("formData.startSaleType",function(a){a===$.STANDARD&&(e.tempDates.startSaleDate=null,e.calendarStartSaleDate={defaultDate:null},e.formData.startSaleTime=null,e.formData.preSaleType=$.NONE)}),e.$watch("formData.endSaleType",function(a){a===$.STANDARD&&(e.tempDates.endSaleDate=null,e.calendarEndSaleDate={defaultDate:null},e.formData.endSaleTime=null)}),e.$watch("formData.endDisplayType",function(a){a===w.NONE&&(e.tempDates.endDisplayDate=null,e.calendarEndDisplayDate={defaultDate:null},e.formData.endDisplayTime=null)}),e.cancelAddEP=function(){e.AddEP=!1,e.temp.episode=null},e.submitAddEP=function(a){e.episodeDetails.push({id:a.episodeId,teacherId:a.teacher.id,name:a.name,teacher:_.clone(a.teacher),startTime:a.startTime}),e.temp.episode=null,e.AddEP=!1,-1===e.formData.displayTeacherIds.indexOf(a.teacher.id)&&e.formData.displayTeacherIds.push(a.teacher.id)},T(),e.episodeDetails=[];var M=m;e.semesters={},t.query().$promise.then(function(a){e.semesters=_.map(a,function(e){return""===e.name&&(e.name=""),e})}),n.getAllSubjects().$promise.then(function(a){var t={};e.subjectValueIdMaps={},e.rawSubjects=a,_.each(a,function(a){t[a.prefix]=a.name,e.subjectValueIdMaps[a.prefix]=a.id})}),e.majors=_.map(i,function(e){return{value:e.id,desc:e.name}}),e.showMajor=!1,e.$watch("temp.uploadImageId",function(a){a&&(e.temp.bannerImageId=a,e.temp.uploadImageUrl=null,e.formData.bannerImageId=a,console.log(e.formData.bannerImageId))});var R=function(e,a){return 2===e&&_.any(a,function(e){return e===O||e===P})},U={value:0,desc:""};e.$watchGroup(["formData.subjectId","formData.gradeIds"],function(a,t){return R(a[0],a[1])?(e.showMajor=!0,null===e.formData.major&&(e.formData.major=0)):e.showMajor=!1,console.log("new: "+a),console.log("old: "+t),console.log(null===a[1]),null===a[1]?(e.regions=null,void(e.textbookSuites=null)):void(a[0]&&a[1]&&a[1].length?(_.each(a[1],function(a){10===a||11===a||12===a?e.phase="gaozhong":e.phase="chuzhong"}),e.regionsPromise=c.regions({subjectId:a[0],phase:e.phase}).$promise,e.regionsPromise.then(function(a){e.regions=_.map(a,function(e){var a={value:e.id,desc:e.name};return e.subRegions&&e.subRegions.length&&(a.classes=["block"],a.postfix=_.map(e.subRegions,function(e){return e.name}).join(""),a.postfix=""+a.postfix+""),a}),e.regions.splice(0,0,U)}),e.textbookSuitesPromise=D.query({subjectId:e.formData.subjectId,phase:e.phase}).$promise,e.textbookSuitesPromise.then(function(a){e.textbookSuites=_.map(a,function(e){return{value:e.id,desc:e.name}}),e.textbookSuites.splice(0,0,U)})):(e.regions=null,e.textbookSuites=null))},!0),e.$watchCollection("formData.displayTeacherIds",function(){T()},!0),e.deleteEP=function(a){var t=-1;_.each(e.formData.episodes,function(o){o.episodeId===a.id&&(t=e.formData.episodes.indexOf(o))}),t>-1&&e.formData.episodes.splice(t,1),t=e.episodeDetails.indexOf(a),t>-1&&e.episodeDetails.splice(t,1);var o=a.teacher.id;t=e.formData.displayTeacherIds.indexOf(o),t>-1&&y(o)&&e.formData.displayTeacherIds.splice(t,1)},e.AddEP=!1,e.addEP=function(){return _.isNull(e.formData.subjectId)||_.isEmpty(e.formData.gradeIds)?void s.error("!"):void(e.AddEP=!0)},e.cancelAddEP=function(){e.AddEP=!1},e.$watch("formData.subjectId",function(a){if(a){var t=_.findWhere(M,{id:a});e.grades=_.map(t.grades,function(e){return{id:e.id,desc:e.name}})}}),e.$watchCollection("formData.gradeIds",function(a){if(!a||!a.length)return void(e.formData.major=null);var t=_.any(a,function(e){return 7===e||8===e||9===e}),o=_.any(a,function(e){return 10===e||11===e||12===e});t&&o&&(window.alert(""),e.formData.gradeIds=_.filter(a,function(e){return 7===e||8===e||9===e}))}),e.sortableOptions={update:function(a,t){var o=t.item,r=o.index(),n=o.data("originPosition");g(e.formData.displayTeacherIds,n-1,r-1),s.success("")},start:function(e,a){var t=a.item,o=t.index();t.data("originPosition",o)},handle:".list-item-handle",cursor:"move"},e.submitCreateCallBack=function(){E();var t=_.clone(e.formData);e.seasonCreatePromise=c.create(t).$promise.then(function(t){e.seasonId=t.seasonId,console.log("$scope.seasonId"+e.seasonId),s.success(""),a.path("/seasons")},function(e){s.error("! "+e.data.message),e.processed(400)})},e.isSubmitted=!1,e.submitCreate=function(){e.isSubmitted=!0,e.submit=e.submitCreateCallBack},e.submitAndCreate=function(){e.isSubmitted=!0,e.submit=e.submitAndCreateCallBack},e.save=function(){e.isSubmitted=!0,e.submit=e.saveCallBack},e.$watch("formData",function(){e.isSubmitted=!1},!0),e.submitAndCreateCallBack=function(){E();var a=_.clone(e.formData);c.create(a).$promise.then(function(e){s.success("");var a=e.seasonId;b(),v(a)},function(e){s.error("!"+e.data.message),e.processed(400)})},e.saveCallBack=function(){E();var t=_.clone(e.formData);c.updateV2({seasonId:p.seasonId},t).$promise.then(function(){s.success("!"),a.path("/seasons")},function(e){s.error("!"+e.message)})},"edit"===e.type&&c.getV2({seasonId:p.seasonId}).$promise.then(function(e){A(e)},function(){s.error("!")}),"copy"===e.type&&v(p.seasonId),e.onSelected=function(a){e.temp.file=a},e.cmsUrl=(I.defaults.headers.Origin+location.pathname).replace("crm","cms")}]);
"use strict";app.controller("SeasonDetailCtrl",["$http","$scope","$routeParams","$q","Season","Episode","TutorQQ","Confirm","Toast","SEASON_STATUS",function(e,s,o,n,t,a,i,r,u,c){function p(){return t.get({seasonId:o.seasonId}).$promise.then(function(e){s.season=e.season,s.season.teacherNicknames=_.pluck(e.season.teachers,"nickname").join(","),s.season.teacherIdentities=_.pluck(e.season.teachers,"identity").join(","),s.season.teacherIds=_.pluck(e.season.teachers,"id").join(","),s.seasonFee=e.seasonFee,s.seasonEpisodes=e.seasonEpisodes,s.epIdList=[],_.forEach(s.seasonEpisodes,function(e,o){a.fetch({episodeId:e.episode.id}).$promise.then(function(e){s.epIdList[o]=e.id})}),console.log(s.seasonEpisodes)})}function d(){return i.getSeasonQQGroups({seasonId:o.seasonId})}s.currentTime=Date.now(),s.qqgroups=d(),s.logs=t.getLogs({seasonId:o.seasonId});var l=p();s.loadingPromise=n.all([s.qqgroups.$promise,s.logs.$promise,l]),s.seasonStatus={},c.forEach(function(e){s.seasonStatus[e.value]=e.name}),s.distributeQqgroupDialog=!1,s.formData={},s.showDistributeQqgroupDialog=function(){s.creators=i.creator(),s.distributeQqgroupDialog=!0},s.hideDistributeQqgroupDialog=function(){s.distributeQqgroupDialog=!1},s.onCreatorChanged=function(){s.newQQGroups=i.query({status:"new",creator:s.formData.creator,pageSize:999999999}),s.formData.qqgroup=[],s.loadingPromiseDistribute=s.newQQGroups.$promise},s.distribute=function(){var e={seasonId:o.seasonId,qqGroupIds:s.formData.qqgroup};s.loadingPromiseDistribute=i.allocateQqgroup(e,null).$promise.then(function(){u.success("QQ"),s.distributeQqgroupDialog=!1,s.qqgroups=d()})},s.topSeason=function(){r.show({title:"",text:"",confirmText:""}).then(function(){t.top({seasonId:o.seasonId}).$promise.then(function(){u.success(""),s.loadingPromise=p()})})},s.cancelTopSeason=function(){r.show({title:"",text:""}).then(function(){t.cancelTop({seasonId:o.seasonId}).$promise.then(function(){u.success(""),s.loadingPromise=p()})})},s.cmsUrl=(e.defaults.headers.Origin+location.pathname).replace("crm","cms")}]);
"use strict";app.controller("SeasonEpisodeDetailCtrl",["$scope","$routeParams","Season","Episode","EPISODE_SCORE",function(e,o,r,t,s){var i={seasonId:o.seasonId,ordinal:o.ordinal};e.loadingPromise=r.episodeDetail(i).$promise.then(function(o){return e.episode=o,e.episodeScore=t.score({roomId:o.episodeId}),e.episodeScore.$promise.then(function(o){o.hasOwnProperty("roomId")||(o.scoreInSum="",o.interactionRate={integrity:"",stability:""},o.studentTransportRate=o.teacherTransportRate={quality:"",stability:""},e.episodeScore=o)})}),e.scoreRanks=" "+_.map(s,function(e){return e.rank+""+e.desc}).join("")+""}]);
"use strict";app.controller("SeasonKeynoteTemplateEditCtrl",["$scope","$routeParams","$q","SeasonPrototype","SeasonContentTemplate","SeasonKeynoteTemplate","SeasonTemplatePostSheet","Toast","Confirm",function(t,e,o,n,p,i,r,s,d){function a(){t.contentTemplate.$promise.then(function(e){t.keynote={sections:[{type:"title"},{type:"timeDistribution"},{type:"knowledgeDiagram"}]},e.keypoints.forEach(function(e){var o={type:"knowledgeSet",keypointId:e.id,subsections:[{type:"knowledge",keypointId:e.id},{type:"keypointDesc",keypointId:e.id}]};t.keynote.sections.push(o)}),t.keynote.sections.push({type:"summary"})})}t.ordinal=e.ordinal,t.prototypeId=e.prototypeId,t.isEdit="edit"===e.action,t.seasonPrototype=n.get({prototypeId:e.prototypeId}),t.keynote=i.get({prototypeId:e.prototypeId,outlineItemOrdinal:e.ordinal}),t.contentTemplate=p.get({prototypeId:e.prototypeId,outlineItemOrdinal:e.ordinal}),t.keynote.$promise["catch"](function(t){t.processed(404)&&a()}),t.keynoteContext={prototypeId:e.prototypeId,outlineItemOrdinal:e.ordinal},t.postSheet=r.get({prototypeId:e.prototypeId,outlineItemOrdinal:e.ordinal}),t.postSheet.$promise["catch"](function(t){return t.processed(404)}),t.save=function(){d.show({title:"",text:""}).then(function(){t.loadingPromise=n.updateKeynote({prototypeId:e.prototypeId,outlineItemOrdinal:e.ordinal},t.keynote).$promise.then(function(){s.success("")})})}}]);
"use strict";app.controller("SeasonKeynoteTemplatePreviewCtrl",["$scope","$routeParams","$q","SeasonPrototype","SeasonContentTemplate","SeasonKeynoteTemplate",function(e,t,o,p,n,r){e.ordinal=t.ordinal,e.prototypeId=t.prototypeId,e.seasonPrototype=p.get({prototypeId:t.prototypeId}),e.keynote=r.get({prototypeId:t.prototypeId,outlineItemOrdinal:t.ordinal}),e.contentTemplate=n.get({prototypeId:t.prototypeId,outlineItemOrdinal:t.ordinal})}]);
"use strict";app.controller("SeasonListCtrl",["$scope","$route","$routeParams","$location","$q","Semester","Season","SeasonPrototype","Pager","Confirm","Toast","Reset","Account","SEASON_STATUS","SEASON_RECOMMENDATION_STATUS","SEASON_QQGROUP_STATUS","SEASON_TRADE_TRANSFER_STATUS","API_SERVER",function(e,n,t,s,o,a,r,c,u,i,f,d,m,l,p,S,h,T){e.accountType=t.accountType,e.accountId=t.accountId,e.seasonTypes=c.types();var I=a.query().$promise.then(function(n){e.semesters=_.map(n,function(e){return""===e.name&&(e.name=""),e})});e.statuses=[],_.each(l,function(n){"toBeOnShelf"!==n.value&&e.statuses.push(n)}),e.recommendStatusList=p,e.qqGroupStatusList=S,e.tradeStatusList=h,e.formData=s.search(),_.defaults(e.formData,{seasonTypeId:"",semesterId:"",filterStatus:"",recommendStatus:"",qqGroupStatus:""});var y=_.clone(s.search());e.seasons=r.query(y);var $=e.seasons.$promise;$.then(function(e){_.each(e,function(e){e.displayTeacherNames=_.pluck(e.displayTeachers,"nickname").join(),e.displayTeacherIdentities=_.pluck(e.displayTeachers,"identity").join()})},function(){}),"student"===e.accountType&&($=e.seasons.$promise.then(function(n){return o.all(_.map(n,function(n){return r.tradeDetailForStudent({seasonId:n.id,userId:e.accountId},function(e){"none"===e.transferStatus||"refunded"===e.tradeStatus?e.status=e.tradeStatus:e.status=e.transferStatus,n.trade=e})}))})),e.loadingPromise=o.all([e.gradeSubjectPromise,e.seasonTypes.$promise,I,$]).then(function(){e.exportLink=T.cms+"/tutor-crm-season/api/seasons/export";var n=y,t=[];if(_.each(n,function(e,n){void 0!==e&&null!==e&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.length){var s=t.join("&");e.exportLink+="?"+s}}),u.setPageInfo(e.seasons.$promise,e),e.search=function(){delete e.formData.page,m.getAccountInfo({account:(e.formData.name||"").trim()},function(n){e.formData.accountType=n.userType,e.formData.accountId=n.id,s.search(e.formData)},function(n){n.processed(400),n.processed(404),delete e.formData.accountType,delete e.formData.accountId,s.search(e.formData)})},e.reset=d,e.recommend=function(e){var n=""+e.name+"";i.show({title:"",text:n,confirmText:""}).then(function(){r.recommend({seasonId:e.id},null).$promise.then(function(){f.success(""),e.$fetch()})})},e.cancelRecommend=function(e){var n=""+e.name+"";i.show({title:"",text:n}).then(function(){r.cancelRecommend({seasonId:e.id},null).$promise.then(function(){f.success(""),e.$fetch()})})},e.transfer=_.debounce(function(n,t){r.get({seasonId:n},function(n){e.transferSeason=n.season,e.transferSeason.seasonPrototype=c.get({prototypeId:n.season.prototypeId},function(){e.transferTrade=t})})},500,!0),e.cancelTransfer=function(){e.transferSeason=null,e.transferTrade=null},e.refund=function(n,t){e.refundSeason=n,e.refundTrade=t},e.cancelRefund=function(){e.refundSeason=null,e.refundTrade=null},e.publish=function(e){var t=" id="+e+"";i.show({title:"",text:t,confirmText:""}).then(function(){r.publish({seasonId:e},null).$promise.then(function(){f.success("!"),n.reload()},function(e){f.error("!"+e.message)})})},e.retire=function(e){var t=" id="+e+"";i.show({title:"",text:t,confirmText:""}).then(function(){r.retire({seasonId:e},null).$promise.then(function(){f.success(""),n.reload()},function(e){f.error("!"+e.message)})})}}]);
"use strict";app.controller("SeasonPostListCtrl",["$scope","$location","$q","$filter","Pager","Confirm","Reset","SeasonPost","SEASON_POST_DELIVER_STATUS","SEASON_POST_ORDER_STATUS","SEASON_GIFT_TYPE","API_SERVER","Toast","$route",function(e,s,t,o,n,r,a,i,l,d,p,u,c,m){function f(e,s,t){_.isArray(e[s])?e[s].push(t):e[s]=[t]}function S(e){_.each(e,function(e){_.each(e.gifts,function(s){if("stationery"!==s.type){f(e,"_orderIds",s.orderId),f(e,"_createdTimes",o("date")(s.createdTime,"yyyy.MM.dd HH:mm"));var t=[s.seasonName,s.subjectName,s.gradeName];f(e,"_seasonInfos",t.join("&nbsp;")),"inventory"===s.type?f(e,"_giftTypes",s.inventory.name):f(e,"_giftTypes",o("nameInArray")(s.type,p,"value"));var n=[o("postTradeStatus")(s.orderDesc),s.sourceSeasonName||""];f(e,"_orderDescAndSourceSeasonNames",n.join("&nbsp;"))}});var s=e._orderIds,t=_.uniq(s);1===t.length&&(e._orderIds=t,e._createdTimes=_.uniq(e._createdTimes),e._seasonInfos=_.uniq(e._seasonInfos),e._orderDescAndSourceSeasonNames=_.uniq(e._orderDescAndSourceSeasonNames))})}e.deliverStatusList=l,e.orderStatusList=d,e.giftTypeList=_.filter(p,function(e){return"stationery"!==e.value}),e.formData=s.search();var h=moment().startOf("day");_.defaults(e.formData,{startTime:h.valueOf(),endTime:h.add(1,"d").valueOf(),deliverStatus:"",orderStatus:"",types:"",semesterId:"",ordinal:""});var g=_.clone(s.search());e.posts=i.query(g);var v=e.posts.$promise.then(S);e.loadingPromise=t.all([e.gradeSubjectPromise,v]),n.setPageInfo(e.posts.$promise,e),e.search=function(){delete e.formData.page,s.search(e.formData)},e.reset=a,e.editPost=function(s){e.post=s},e.cancelEditPost=function(){e.post=null};var I=t.defer();e.isSelect=I.promise,e["import"]=function(){r.show({title:"",text:["",""],confirmText:""}).then(function(){e.uploadTarget=u.cms+"tutor-crm-shipment/api/import",I.resolve()},function(){I.reject()})["finally"](function(){I=t.defer(),e.isSelect=I.promise})},e.importDelivered=function(){e.uploadDeliveredTarget=u.cms+"tutor-crm-shipment/api/deliveredImport"},e.temp={uploadFileUrl:null,uploadFileId:null,uploadDeliveredFileUrl:null,uploadDeliveredFileId:null},e.onUploadDeliveredError=function(){e.temp.uploadFileUrl=null},e.onDeliveredUploaded=function(){c.success(""),m.reload()},e.onUploadError=function(){e.temp.uploadFileUrl=null,c.error("!"),m.reload()},e.onUploaded=function(t){var o=[];o.push('<span class="label label-danger">id<span>'),o.push(t.missingShipmentIds.length?t.missingShipmentIds.join(""):""),o.push('<span class="label label-warning">id<span>'),o.push(t.ignoredShipmentIds.length?t.ignoredShipmentIds.join(""):""),o.push('<span class="label label-success">id<span>'),o.push(t.updatedShipmentIds.length?t.updatedShipmentIds.join(""):""),r.show({title:"",text:o,isAlert:!0,confirmText:""}).then(function(){var t=_.clone(s.search());e.posts=i.query(t),e.loadingPromise=e.posts.$promise.then(S)})},e.loadAll=function(){var t=_.extend({},s.search(),{page:0,pageSize:999999999});return e.posts=i.query(t),e.loadingPromise=e.posts.$promise.then(S),n.setPageInfo(e.posts.$promise,e),e.posts.$promise}}]);
"use strict";app.controller("SeasonPrototypeBeginCtrl",["$scope","$location","Semester","SeasonPrototype","Toast","Confirm","Course","MAJOR","SEASON_PRICE","SEASON_TYPE_MAP","SEASON_PROTOTYPE_FILTER",function(e,a,t,n,r,o,s,i,u,f,l){function m(){if(e.formData.grades&&e.formData.grades.length){var a=_.findWhere(g,{value:e.formData.subject});return _.any(e.formData.grades,function(e){return Boolean(_.findWhere(a.grades,{value:e.value}).major)})}return!1}function d(){if(e.formData.grades&&e.formData.grades.length>1)return!1;if(e.formData.season){var a=_.findWhere(g,{value:e.formData.subject});return _.any(e.formData.grades,function(t){var n=_.findWhere(a.grades,{value:t.value}),r=e.formData.season.split("/")[0],o=_.findWhere(n.semesters,{name:r});return Boolean(o.region)})}return!1}function c(){if(e.formData.grades&&e.formData.grades.length>1)return!1;if(e.formData.season){var a=_.findWhere(g,{value:e.formData.subject});return _.any(e.formData.grades,function(t){var n=_.findWhere(a.grades,{value:t.value}),r=e.formData.season.split("/")[0],o=_.findWhere(n.semesters,{name:r});return Boolean(o.textbookSuite)})}return!1}var g=l,v={value:"",desc:""},D="noMajor",p={};t.query().$promise.then(function(e){p=_.map(e,function(e){return""===e.name&&(e.name=""),e})}),e.formData={name:"",price:u,withGift:"1",needMaterial:"1",outline:[""],grades:[]},e.step="first",s.getAllSubjects().$promise.then(function(a){var t={};_.each(a,function(e){t[e.prefix]=e.name}),e.subjects=_.map(g,function(e){return{value:e.value,desc:t[e.value]}})}),s.getAllGrades().$promise.then(function(a){e.grades=_.map(a,function(e){return{value:e.id,desc:e.name}})}),e.majors=_.map(i,function(e){return{value:e.value,desc:e.name}}),e.isShowMajor=m,e.isShowRegionList=d,e.isShowTextbookSuiteList=c,e.$watch("formData.subject",function(a){if(a){var t=_.findWhere(g,{value:a});e.grades=_.map(t.grades,function(e){return{value:e.value,desc:e.name}}),e.formData.grades=null}}),e.$watchCollection("formData.grades",function(a){if(!a||!a.length)return void(e.formData.major=null);m()?e.formData.major=null:(e.formData.major=D,e.formData.season=null);var t=_.any(a,function(e){return-1!==e.desc.indexOf("")}),n=_.any(a,function(e){return-1!==e.desc.indexOf("")});t&&n&&(window.alert(""),e.formData.grades=_.filter(a,function(e){return-1===e.desc.indexOf("")}))}),e.$watch("formData.major",function(a){if(!a)return void(e.formData.season=null);if(!e.formData.grades.length)return void(e.formData.season=null);var t=_.findWhere(g,{value:e.formData.subject}),n=_.findWhere(t.grades,{value:e.formData.grades[0].value}),r=_.map(n.semesters,function(e){return _.map(e.seasons,function(a){return{value:e.name+"/"+a.value,desc:e.name+a.name}})});e.seasons=_.flatten(r,!0),e.formData.season=null}),e.$watch("formData.season",function(a){if(!a)return e.formData.textBookSuiteId=v.value,void(e.formData.regionId=v.value);var t={subject:e.formData.subject,grade:e.formData.grades[0].value};d()&&(e.formData.textBookSuiteId=null,e.loadingPromise=n.regions(t).$promise.then(function(a){var t=_.map(a,function(e){var a={value:e.id,desc:e.name};return e.subRegions&&e.subRegions.length&&(a.classes=["block"],a.postfix=_.map(e.subRegions,function(e){return e.name}).join(""),a.postfix=""+a.postfix+""),a});t.splice(0,0,v),angular.equals(t,e.regions)||(e.regions=t),(_.isNull(e.formData.regionId)||!_.findWhere(e.regions,{value:e.formData.regionId}))&&(e.formData.regionId=v.value)})),c()&&(e.formData.regionId=null,e.loadingPromise=n.textbookSuites(t).$promise.then(function(a){var t=_.map(a,function(e){return{value:e.id,desc:e.name}});t.splice(0,0,v),angular.equals(t,e.textbookSuites)||(e.textbookSuites=t),(_.isNull(e.formData.textBookSuiteId)||!_.findWhere(e.textbookSuites,{value:e.formData.textBookSuiteId}))&&(e.formData.textBookSuiteId=v.value)}))}),e.nextStep=function(){var a=_.findWhere(e.subjects,{value:e.formData.subject}),t=_.findWhere(e.majors,{value:e.formData.major}),n=_.findWhere(e.seasons,{value:e.formData.season}),r=e.formData.grades[0].desc;3===e.formData.grades.length&&(r=-1!==r.indexOf("")?"":""),e.formData.name=r+(t?t.desc:"")+a.desc+n.desc,e.step="second"},e.preStep=function(){e.step="first"},e.deleteEpisode=function(a){var t='<span class="label label-warning">'+e.formData.outline[a]+"</span>";o.show({title:"",text:t,confirmText:""}).then(function(){e.formData.outline.splice(a,1)})},e.addEpisode=function(){e.formData.outline.push("")},e.submit=function(){o.show({title:"",text:""}).then(function(){var t=_.clone(e.formData),o=t.season.split("/");t.semesterId=_.findWhere(p,{name:o[0]}).id,t.seasonTypeId=f[o[1]],delete t.season,t["outline[]"]=t.outline,delete t.outline,t.gradeIds=e.formData.grades.map(function(e){return e.value}),delete t.grades,e.loadingPromise=n.save(t,null).$promise.then(function(){r.success(""),a.path("/season-prototypes")})})}}]);
"use strict";app.controller("SeasonPrototypeListCtrl",["$scope","$location","$q","Reset","Semester","SeasonPrototype","Pager","SEASON_PROTOTYPE_STATUS",function(e,s,o,t,a,r,n,i){function p(){if(sessionStorage){sessionStorage.removeItem("prototype-list-search-params");var e=_.map(s.search(),function(e,s){return s+"="+e}).join("&");e&&sessionStorage.setItem("prototype-list-search-params",e)}}e.seasonTypes=r.types();var u=a.query().$promise.then(function(s){e.semesters=_.map(s,function(e){return""===e.name&&(e.name=""),e})});e.statuses=i,e.statusInfos={},_.each(i,function(s){e.statusInfos[s.value]=s.name}),e.formData=s.search(),_.defaults(e.formData,{seasonTypeId:"",semesterId:"",status:""});var c=_.clone(s.search());e.seasonPrototypes=r.query(c),e.loadingPromise=o.all([e.gradeSubjectPromise,e.seasonTypes.$promise,u,e.seasonPrototypes.$promise]),n.setPageInfo(e.seasonPrototypes.$promise,e),e.search=function(){delete e.formData.page,s.search(e.formData)},e.reset=t,e.goToOutline=function(e){p(),s.url("/season-prototypes/"+e.id+"/outline")},e.goToSchedules=function(e){p(),s.url("/season-prototypes/"+e.id+"/schedules")}}]);
"use strict";app.controller("SeasonPrototypeOutlineCtrl",["$scope","$routeParams","$location","SeasonPrototype","SeasonTemplatePostSheet","Confirm","Toast","API_SERVER","GalleryResource","$q",function(e,t,o,n,i,r,a,s,u,l){function d(){e.seasonPrototype=n.get({prototypeId:t.prototypeId}),e.allPromises=[],e.allPromises.push(e.seasonPrototype.$promise),e.seasonPrototype.$promise.then(function(t){_.each(t.outline,function(t){t.questionId||(t.editQuestionId=!0,t.questionId=""),e.outlineItemResourceIdsMap[t.ordinal]=[],_.each(t.materialResourceIds,function(o){e.outlineItemResourceIdsMap[t.ordinal].push(o),e.resourceMeta=u.get({resourceId:encodeURIComponent(o)}).$promise.then(function(t){e.resourceNameMap[o]=t.filename},function(){a.error(o+"meta!")}),e.allPromises.push(e.resourceMeta.$promise)})})}),e.loadingPromise=l.all(e.allPromises),e.loadingPromise.then(function(){console.log(e.resourceNameMap)})}e.temp={},e.tarzan=s.tarzan,e.prototypeId=t.prototypeId,e.API_SERVER=s,e.resourceUrl=s.gallery+"api/tutor/resources/",e.resourceNameMap={},e.outlineItemResourceIdsMap={},d(),e.editOutlineItemName=function(t){e.outlineItemName=t.name,t.editName=!0},e.saveOutlineItemName=function(o){if(o.name===e.outlineItemName)return void(o.editName=!1);var i={prototypeId:t.prototypeId,outlineItemOrdinal:o.ordinal,name:o.name};e.loadingPromiseSave=n.setOutlineItemName(i,null).$promise.then(function(){a.success(""),d()})},e.setOutlineItemKeynote=function(t){e.uploadTarget=s.cms+"tutor-crm-season/api/season-prototypes/"+e.prototypeId+"/outline/"+t.ordinal+"/keynote-template/upload"},e.isShowOutlineItemContent=!1,e.showOutlineItemContent=function(t){e.isShowOutlineItemContent=!0,e.ordinal=t},e.hideShowOutlineItemContent=function(){e.isShowOutlineItemContent=!1},e.isSetOutlineItemContent=!1,e.setOutlineItemContent=function(t){t.contentTemplateId?r.show({title:"",text:[""]}).then(function(){e.outline=t,e.isSetOutlineItemContent=!0}):(e.outline=t,e.isSetOutlineItemContent=!0)},e.hideSetOutlineItemContent=function(){e.outline=null,e.isSetOutlineItemContent=!1},e.setOutlineItemContentComplete=function(){d()},e.editOutlineItemQuestionId=function(e){e.preQuestionId=e.questionId,e.editQuestionId=!0},e.saveOutlineItemQuestionId=function(o){if(o.questionId===o.preQuestionId)return void(o.editQuestionId=!1);var i={prototypeId:t.prototypeId,outlineItemOrdinal:o.ordinal,questionId:o.questionId};e.loadingPromiseSave=n.setOutlineItemQuestionId(i,null).$promise.then(function(){a.success(""),d()},function(e){412===e.status&&(e.processed(),a.error(""))})},e.temp={uploadFileUrl:null,uploadFileId:null},e.onUploadError=function(){e.temp.uploadFileUrl=null},e.onUploaded=function(){d()},e.back=function(){if(sessionStorage){var e=sessionStorage.getItem("prototype-list-search-params"),t="/season-prototypes";e&&(t=t+"?"+e),o.url(t)}else o.url("/season-prototypes")},e.onUpdateQuestion=function(t,o){e.temp.updatePostSheetOrdinal=!1,i.save({prototypeId:e.prototypeId,outlineItemOrdinal:t},{items:o.map(function(e){return{keypointId:e.keypointId,questionId:e.questionId}})}).$promise.then(function(o){e.seasonPrototype.outline.forEach(function(e){e.ordinal===t&&(e.sheetId=o.sheetId)}),a.success("")})},e.editOutlineItemSheet=function(t){if(e.temp.selectedItems=[],!t.sheetId)return void(e.temp.updatePostSheetOrdinal=t.ordinal);var o=i.get({prototypeId:e.prototypeId,outlineItemOrdinal:t.ordinal});o.$promise.then(function(t){e.temp.selectedItems=t.items})["catch"](function(e){return e.processed(404)}).then(function(){e.temp.updatePostSheetOrdinal=t.ordinal})},e.removeAllMaterial=function(t){r.show({title:"",text:"?"}).then(function(){t.materialResourceIds.length=0,n.setUpOutlineItemMaterial({prototypeId:e.prototypeId,outlineItemOrdinal:t.ordinal,needMaterial:0,resourceIds:t.materialResourceIds},null).$promise.then(function(){a.success("!")},function(){a.success("!")})},function(){t.needMaterial=1})},e.onSelected=function(t){e.temp.uploadFile=t,e.materialName=t.name},e.setOutlineItemMaterial=function(t){e.uploadMaterialTarget=s.gallery+"api/tutor/resources",e.uploadMaterialTargetOutlineItem=t},e.remove=function(t,o){var i=e.outlineItemResourceIdsMap[t.ordinal],r=i.indexOf(o);i.splice(r,1);var s=t.materialResourceIds.indexOf(o);t.materialResourceIds.splice(s,1),n.setUpOutlineItemMaterial({prototypeId:e.prototypeId,outlineItemOrdinal:t.ordinal,needMaterial:t.needMaterial,resourceIds:t.materialResourceIds},null).$promise.then(function(){a.success("!")},function(){a.success("!")})},e.onUploadMaterialError=function(){e.temp.uploadMaterialUrl=null},e.onMaterialUploaded=function(t){e.resourceNameMap[t.resourceId]=e.materialName;var o=e.outlineItemResourceIdsMap[e.uploadMaterialTargetOutlineItem.ordinal];for(var i in o)if(o.hasOwnProperty(i)){var r=e.resourceNameMap[o[i]];if(r===t.filename)return void a.error("!")}e.uploadMaterialTargetOutlineItem.materialResourceIds.push(t.resourceId),o.push(t.resourceId),n.setUpOutlineItemMaterial({prototypeId:e.prototypeId,outlineItemOrdinal:e.uploadMaterialTargetOutlineItem.ordinal,needMaterial:e.uploadMaterialTargetOutlineItem.needMaterial,resourceIds:e.uploadMaterialTargetOutlineItem.materialResourceIds},null).$promise.then(function(){a.success("!")},function(){a.success("!")})},e.editSeasonPrototypeDurationDesc=function(t){t.editDurationDesc=!0,e.durationDesc=t.durationDesc},e.saveSeasonPrototypeDurationDesc=function(t){return t.durationDesc===e.durationDesc?void(t.editDurationDesc=!1):(console.log(t.id),console.log(t.durationDesc),void n.update({prototypeId:t.id,durationDesc:t.durationDesc},null).$promise.then(function(){a.success("!"),d()},function(){a.error("!"),d()}))}}]);
"use strict";app.controller("SeasonPrototypeScheduleListCtrl",["$scope","$routeParams","$location","Pager","SeasonPrototype","Season","Confirm","Toast",function(o,e,t,s,n,a,i,r){o.prototypeId=e.prototypeId,o.seasonPrototype=n.get({prototypeId:e.prototypeId});var p=0;o.load=function(t,a){p=t,o.seasons=n.arrangedSeasons({prototypeId:e.prototypeId,page:t,pageSize:a||20},null),s.setPageInfo(o.seasons.$promise,o)},o.load(0),o.publish=function(e){var t='<span class="label label-warning">id='+e.id+"</span>";i.show({title:"",text:t,confirmText:""}).then(function(){a.publish({seasonId:e.id},null).$promise.then(function(){r.success(""),o.load(p)})})},o.retire=function(e){var t='<span class="label label-warning">id='+e.id+"</span>";i.show({title:"",text:t,confirmText:""}).then(function(){a.retire({seasonId:e.id},null).$promise.then(function(){r.success(""),o.load(p)})})},o.back=function(){if(sessionStorage){var o=sessionStorage.getItem("prototype-list-search-params"),e="/season-prototypes";o&&(e=e+"?"+o),t.url(e)}else t.url("/season-prototypes")},o.sortableOptions={update:function(o,e){var t=e.item,s=t.index(),n=t.data("originPosition"),i=s-n,p=0>i?"up":"down";i=Math.abs(i);var l=e.item.scope().season;a[p]({prototypeId:l.prototypeId,step:i,seasonId:l.id},{}).$promise.then(function(){r.success(""+l.id+"")})["catch"](r.error)},start:function(o,e){var t=e.item,s=t.index();t.data("originPosition",s)},handle:".list-item-handle",cursor:"move"}}]);
"use strict";app.controller("SeasonPurchaseCtrl",["$scope","$routeParams","$location","$q","Reset","Season","SeasonPrototype","SEASON_TRADE_TRANSFER_STATUS",function(e,t,a,n,s,r,o,u){var f=t.seasonId,d=r.get({seasonId:f}).$promise.then(function(t){e.season=t.season,e.season.seasonPrototype=o.get({prototypeId:t.season.prototypeId})});e.statusList=_.filter(u,function(e){return"new"===e.value||"refunded"===e.value}),e.statusListShow={},_.each(u,function(t){e.statusListShow[t.value]=t.name}),e.formData=a.search(),_.defaults(e.formData,{status:""});var l=_.clone(a.search());if(l.seasonId=f,l.searchContent){delete l.searchContent;var c=e.formData.searchContent,i=new RegExp("^[0-9]{11}$");-1!==c.indexOf("@")?(l.email=c,delete l.phone):i.test(c)?(l.phone=c,delete l.email):(delete l.email,delete l.phone)}e.tradeDetails=r.tradeDetail(l);var h=e.tradeDetails.$promise.then(function(e){_.each(e,function(e){"none"===e.transferStatus||"refunded"===e.tradeStatus?e.status=e.tradeStatus:e.status=e.transferStatus})});e.loadingPromise=n.all([d,h]),e.search=function(){delete e.formData.page,a.search(e.formData)},e.reset=s,e.transfer=function(t){e.transferTrade=t},e.cancelTransfer=function(){e.transferTrade=null},e.refund=function(t){e.refundTrade=t},e.cancelRefund=function(){e.refundTrade=null}}]);
"use strict";app.controller("SeasonQqgroupListCtrl",["$scope","$location","$q","Reset","TutorQQ","Pager","SEASON_QQGROUP_STATUS",function(e,o,r,a,t,s,n){e.formData=o.search(),_.defaults(e.formData,{qq:"",status:""}),e.statuses=n,e.qqgroupStatuses={},_.each(n,function(o){e.qqgroupStatuses[o.value]=o.name}),e.creators=t.creator();var u=_.clone(o.search());e.qqgroups=t.query(u),e.qqgroupStat=t.qqgroupStat(),e.loadingPromise=r.all([e.creators.$promise,e.qqgroups.$promise,e.qqgroupStat.$promise]),s.setPageInfo(e.qqgroups.$promise,e),e.search=function(){delete e.formData.page,o.search(e.formData)},e.reset=a,e.dialogs={addQqgroup:!1,previewToken:!1},e.showToken=function(o,r){e.modalTitle={iphoneToken:"iPhone Token",androidToken:"Android Token"}[r],e.currentQqgroup=o,e.currentToken=o[r],e.dialogs.previewToken=!0}}]);
"use strict";app.controller("SeasonScheduleCtrl",["$scope","$routeParams","$route","$location","$q","SeasonPrototype","Season","Utils","Toast",function(a,e,t,r,n,l,i,o,m){function d(){var e=angular.copy(a.formData),t=_.keys(e),r=_.debounce(function(){a.isFormChanged=!o.checkPristine(e,a.formData,t)},100);a.$watch("formData",function(){e&&r()},!0)}a.prototypeId=e.prototypeId,e.seasonId?(a.seasonId=e.seasonId,a.type="edit"):a.type="create";var p={INFINITE:"infinite",FINITE:"finite"};a.LIMIT_TYPE=p;var D={STANDARD:"standard",CUSTOMIZE:"customize",NONE:"none",STANDARD_VALUE:0};a.SALE_TIME_TYPE=D;var s={NONE:"none",CUSTOMIZE:"customize",NONE_VALUE:0};a.DISPLAY_TIME_TYPE=s,a.formData={teacher:null,limitType:p.FINITE,limit:null,preSaleType:D.NONE,startSaleType:D.STANDARD,endSaleType:D.STANDARD,endDisplayType:s.NONE,preSaleTime:null,startSaleTime:null,endSaleTime:null,endDisplayTime:null,outline:[],displayDay:"",repeatTime:null},a.tempDates={preSaleDate:null,startSaleDate:null,endSaleDate:null,endDisplayDate:null},a.$watch("formData.limitType",function(e){e===p.INFINITE&&(a.formData.limit=null)}),a.$watch("formData.preSaleType",function(e){(e===D.STANDARD||e===D.NONE)&&(a.tempDates.preSaleDate=null,a.calendarPreSaleDate={defaultDate:null},a.formData.preSaleTime=null,e===D.STANDARD&&(a.formData.startSaleType=D.CUSTOMIZE))}),a.$watch("formData.startSaleType",function(e){e===D.STANDARD&&(a.tempDates.startSaleDate=null,a.calendarStartSaleDate={defaultDate:null},a.formData.startSaleTime=null,a.formData.preSaleType=D.NONE)}),a.$watch("formData.endSaleType",function(e){e===D.STANDARD&&(a.tempDates.endSaleDate=null,a.calendarEndSaleDate={defaultDate:null},a.formData.endSaleTime=null)}),a.$watch("formData.endDisplayType",function(e){e===s.NONE&&(a.tempDates.endDisplayDate=null,a.calendarEndDisplayDate={defaultDate:null},a.formData.endDisplayTime=null)});var u=6e6;a.onArrangedStartTimeChange=function(e){a.formData.outline[e].arrangedEndTime||(a.formData.outline[e].arrangedEndTime=a.formData.outline[e].arrangedStartTime+u)},a.seasonPrototype=l.get({prototypeId:e.prototypeId}),"create"===a.type?a.loadingPromise=l.get({prototypeId:e.prototypeId}).$promise.then(function(e){a.formData.name=e.name,a.calendarStartTimes=[],a.timeManager=[],_.range(0,e.outline.length).forEach(function(t){var r={outlineOrdinal:e.outline[t].ordinal,arrangedStartTime:null,arrangedEndTime:null};a.formData.outline.push(r),a.timeManager.push({name:e.outline[t].name,date:null}),a.calendarStartTimes.push({defaultDate:null})}),d()}):a.loadingPromise=i.get({seasonId:e.seasonId}).$promise.then(function(e){var t=e.season,r=e.outlineItems;if(a.formData.name=t.name,a.formData.teacher=t.teacher.identity,a.formData.limitType=t.product.quantity?p.FINITE:p.INFINITE,a.formData.limit=t.product.quantity?t.product.quantity:null,t.product.preSaleTime!==t.product.startSaleTime)if(t.product.preSaleTime){a.formData.preSaleType=D.CUSTOMIZE;var n=moment(t.product.preSaleTime).startOf("day").valueOf();a.tempDates.preSaleDate=n,a.calendarPreSaleDate.defaultDate=n,a.formData.preSaleTime=t.product.preSaleTime}else a.formData.preSaleType=D.STANDARD;else a.formData.preSaleType=D.NONE;if(t.product.startSaleTime){a.formData.startSaleType=D.CUSTOMIZE;var l=moment(t.product.startSaleTime).startOf("day").valueOf();a.tempDates.startSaleDate=l,a.calendarStartSaleDate.defaultDate=l,a.formData.startSaleTime=t.product.startSaleTime}if(t.product.endSaleTime){a.formData.endSaleType=D.CUSTOMIZE;var i=moment(t.product.endSaleTime).startOf("day").valueOf();a.tempDates.endSaleDate=i,a.calendarEndSaleDate.defaultDate=i,a.formData.endSaleTime=t.product.endSaleTime}if(t.endDisplayTime){a.formData.endDisplayType=s.CUSTOMIZE;var o=moment(t.endDisplayTime).startOf("day").valueOf();a.tempDates.endDisplayDate=o,a.calendarEndDisplayDate.defaultDate=o,a.formData.endDisplayTime=t.endDisplayTime}a.calendarStartTimes=[],a.timeManager=[],_.range(0,r.length).forEach(function(e){var t={outlineOrdinal:r[e].ordinal,arrangedStartTime:r[e].episode.startTime,arrangedEndTime:r[e].episode.endTime};a.formData.outline.push(t),a.timeManager.push({name:r[e].name,date:moment(r[e].episode.startTime).startOf("day").valueOf()}),a.calendarStartTimes.push({defaultDate:a.timeManager[e].date})}),a.formData.repeatTime=t.repeatTime,a.formData.content=t.content,a.formData.imageIds=t.imageIds||[],d()}),a.postpone=function(e,t){var r=a.formData.outline;if(!(e>=r.length-1)){var n=null;"week"===t?n=6048e5:"day"===t&&(n=864e5),_.range(e+1,r.length).forEach(function(e){r[e].arrangedStartTime=r[e-1].arrangedStartTime+n,r[e].arrangedEndTime=r[e].arrangedStartTime+u,a.timeManager[e].date=moment(r[e].arrangedStartTime).startOf("day").valueOf(),a.calendarStartTimes[e]={defaultDate:a.timeManager[e].date}})}};var T=moment.weekdaysShort();a.days=_.range(1,8).map(function(a){return{name:T[a%7],value:T[a%7]}}),a.days.unshift({value:"",name:""});var f=!1;a.$watch("formData.outline[0].arrangedStartTime",function(e){if("create"===a.type&&e&&!f){var t=moment(e);a.formData.displayDay=T[t.day()%7],a.formData.displayTime=e-t.startOf("day").valueOf(),a.onDisplayTimeChange(!1)}}),a.onDisplayTimeChange=function(e){if(a.formData.displayDay&&!_.isNull(a.formData.displayTime)){var t=moment().startOf("day").add(a.formData.displayTime,"ms"),r=t.hour()>=10?t.hour():"0"+t.hour(),n=t.minute()>=10?t.minute():"0"+t.minute(),l=r+":"+n,i=t.add(u,"ms"),o=i.hour()>=10?i.hour():"0"+i.hour(),m=i.minute()>=10?i.minute():"0"+i.minute(),d=o+":"+m;a.formData.repeatTime=""+a.formData.displayDay+" "+l+"-"+d,f=e}},a.submit=function(){a.isSubmit=!0;var t={name:a.formData.name,studentLimit:a.formData.limit,startSaleTime:a.formData.startSaleType===D.CUSTOMIZE?a.formData.startSaleTime:D.STANDARD_VALUE,endSaleTime:a.formData.endSaleType===D.CUSTOMIZE?a.formData.endSaleTime:D.STANDARD_VALUE,endDisplayTime:a.formData.endDisplayType===s.CUSTOMIZE?a.formData.endDisplayTime:s.NONE_VALUE,repeatTime:a.formData.repeatTime,description:a.formData.content,outlineArrangement:a.formData.outline,teacherIdentity:a.formData.teacher,imageIds:a.formData.imageIds};a.formData.preSaleType===D.STANDARD?t.preSaleTime=D.STANDARD_VALUE:a.formData.preSaleType===D.CUSTOMIZE?t.preSaleTime=a.formData.preSaleTime:t.preSaleTime=t.startSaleTime,"create"===a.type?a.loadingPromiseSave=l.arrange({prototypeId:e.prototypeId},t).$promise.then(function(){m.success(""),r.path("/season-prototypes/"+e.prototypeId+"/schedules")}):a.loadingPromiseSave=i.update({seasonId:a.seasonId},t).$promise.then(function(){m.success(""),r.path("/season-prototypes/"+e.prototypeId+"/schedules")})}}]);
"use strict";app.controller("SeasonTransferCtrl",["Season","$scope","Toast",function(a,s,o){s.submit=function(){var n=a.batchTransfer({seasonId:s.formData.seasonId},$.param(s.formData)).$promise.then(function(){o.success(""),s.formData={}});o.loading(n,"...")}}]);
"use strict";app.controller("SerialDetailCtrl",["$scope","$routeParams","$route","$q","Toast","Serial","Account",function(e,t,r,a,o,s,i){e.loadingPromise=s.get({serialId:t.serialId}).$promise.then(function(t){e.serial=t,e.serialOrder=t.serialOrder,t.saleStatus=s.getSaleStatus(t,!0),t.serialStatus=s.getSerialStatus(t,!0),_.each(t.serialItems,function(e){e.startTime>_.now()?e.timePhase="before":e.endTime<_.now()?e.timePhase="after":e.timePhase="in"});var r=[];return t.teacher=i.getTeacherInfo({userId:t.teacherId}),r.push(t.teacher.$promise),t.serialOrder&&t.serialOrder.userId&&(t.student=i.getStudentInfo({userId:t.serialOrder.userId}),r.push(t.student.$promise)),a.all(r)}),e.editTeacherPrototype=function(){e.teacherPrototype=angular.copy(e.serial.teacherPrototype),e.isEdit=!0},e.updateTeacherPrototype=function(){e.loadingPromiseSave=s.updateTeacherPrototype(null,e.teacherPrototype,function(){o.success(""),r.reload()})},e.cancelUpdateTeacherPrototype=function(){e.isEdit=!1},e.amend=function(t){e.episodeId=t.episodeId},e.cancelAmend=function(){e.episodeId=null}}]);
"use strict";app.controller("SerialListCtrl",["$scope","$location","$q","Pager","Utils","Reset","Serial","SerialPrototype","Account","Toast","SERIAL_STATUS","SERIAL_SALE_STATUS","API_SERVER",function(e,t,a,r,s,n,i,l,u,o,c,d,f){function S(e){e.serialStatus&&_.defaults(e,p[e.serialStatus]),e.saleStatus&&_.defaults(e,m[e.saleStatus]),delete e.serialStatus,delete e.saleStatus}e.serialPrototypes=l.getUnHidden(),e.serialStatusList=angular.copy(c),e.saleStatusList=angular.copy(d);var p={};_.each(c,function(e){p[e.value]=e.filters});var m={};_.each(d,function(e){m[e.value]=e.filters}),e.now=_.now(),e.$watch("formData.serialStatus",function(t){if(!_.isUndefined(t))if(t){var a=p[t];_.each(e.saleStatusList,function(e){var t=m[e.value],r=s.diffenceObjectKeys(a,t);e.disabled=r.length>0})}else _.each(e.saleStatusList,function(e){e.disabled=!1})}),e.$watch("formData.saleStatus",function(t){if(!_.isUndefined(t))if(t){var a=m[t];_.each(e.serialStatusList,function(e){var t=p[e.value],r=s.diffenceObjectKeys(t,a);e.disabled=r.length>0})}else _.each(e.serialStatusList,function(e){e.disabled=!1})}),e.formData=s.smartType(t.search()),_.defaults(e.formData,{serialStatus:"",saleStatus:""});var h=_.clone(t.search());S(h),e.serials=i.query(h),e.loadingPromise=a.all([e.gradeSubjectPromise,e.serials.$promise,e.serialPrototypes.$promise]).then(function(t){e.exportLink=f.cms+"/tutor-crm-serial/api/serials/export";var r=h,s=[];if(_.each(r,function(e,t){void 0!==e&&null!==e&&s.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),s.length){var n=s.join("&");e.exportLink+="?"+n}var l=t[1];return a.all(_.map(l,function(e){e.saleStatus=i.getSaleStatus(e,!1),e.serialStatus=i.getSerialStatus(e,!1);var t=[];return e.teacher=u.getTeacherInfo({userId:e.teacherId}),t.push(e.teacher.$promise),e.serialOrder&&e.serialOrder.userId&&(e.student=u.getStudentInfo({userId:e.serialOrder.userId}),t.push(e.student.$promise)),e.isAmended=i.isAmended({serialId:e.id}),t.push(e.isAmended.$promise),a.all(t)}))}),r.setPageInfo(e.serials.$promise,e),e.search=function(){delete e.formData.page,t.search(e.formData)},e.reset=n,e.retire=function(t){e.retireSerial=t},e.cancelRetire=function(){e.retireSerial=null},e.refund=function(t){e.refundSerial=t},e.cancelRefund=function(){e.refundSerial=null},e.transfer=function(t){e.transferSerial=t},e.cancelTransfer=function(){e.transferSerial=null},e.amend=function(t){return"summer"!==t.prototype.type?void o.error("!"):void(e.amendSerial=t)},e.cancelAmend=function(){e.amendSerial=null}}]);
"use strict";app.controller("SerialPostListCtrl",["$scope","$location","$q","Pager","Confirm","Reset","Account","SerialPost","SERIAL_POST_STATUS","SERIAL_PURCHASE_STATUS","API_SERVER",function(e,t,s,n,o,r,a,i,l,u,p){e.deliverStatusList=l,e.orderStatusList=u,e.formData=t.search();var d=moment().startOf("day");_.defaults(e.formData,{purchaseStartTime:d.valueOf(),purchaseEndTime:d.add(1,"days").valueOf(),deliverStatus:"",orderStatus:""}),e.posts=i.query(_.clone(t.search())),e.loadingPromise=s.all([e.gradeSubjectPromise,e.posts.$promise]).then(function(e){var t=e[1];return s.all(_.map(t,function(e){return e.user=a.getStudentInfo({userId:e.studentId}),e.user.$promise}))}),n.setPageInfo(e.posts.$promise,e),e.search=function(){delete e.formData.page,t.search(e.formData)},e.reset=r,e.editPost=function(t){e.post=t},e.cancelEditPost=function(){e.post=null};var c=s.defer();e.isSelect=c.promise,e["import"]=function(){o.show({title:"",text:["",""],confirmText:""}).then(function(){e.uploadTarget=p.cms+"tutor-crm-shipment/api/import",c.resolve()},function(){c.reject()})["finally"](function(){c=s.defer(),e.isSelect=c.promise})},e.temp={uploadFileUrl:null,uploadFileId:null},e.onUploadError=function(){e.temp.uploadFileUrl=null},e.onUploaded=function(s){var n=[];n.push('<span class="label label-danger">id<span>'),n.push(s.missingShipmentIds.length?s.missingShipmentIds.join(""):""),n.push('<span class="label label-warning">id<span>'),n.push(s.ignoredShipmentIds.length?s.ignoredShipmentIds.join(""):""),n.push('<span class="label label-success">id<span>'),n.push(s.updatedShipmentIds.length?s.updatedShipmentIds.join(""):""),o.show({title:"",text:n,isAlert:!0,confirmText:""}).then(function(){e.posts=i.query(_.clone(t.search())),e.loadingPromise=e.posts.$promise})},e.loadAll=function(){var o=_.extend({},t.search(),{page:0,pageSize:999999999});return e.posts=i.query(o),e.loadingPromise=e.posts.$promise.then(function(e){return s.all(_.map(e,function(e){return e.user=a.getStudentInfo({userId:e.studentId}),e.user.$promise}))}),n.setPageInfo(e.posts.$promise,e),e.loadingPromise}}]);
"use strict";app.controller("SerialPrototypeCtrl",["$scope","$routeParams","$route","$location","$q","SerialPrototype","EpisodePrice","Utils","Confirm","Toast","SERIAL_PROTOTYPE_TYPE",function(e,a,t,r,i,n,o,s,m,l,p){function d(){return _.extend({},{defaultDate:null})}function c(){return _.extend({},{startTime:void 0,endTime:void 0})}function u(){var a=function(){return _.extend({},e.formData,e.tempDates)},t=angular.copy(a()),r=_.keys(t),i=_.debounce(function(){e.temp.isFormChanged=!s.checkPristine(t,a(),r)},100),n=function(){t&&i()};e.$watch("formData",n,!0),e.$watch("tempDates",n,!0)}function D(){e.temp.isSubmit=!0;var a=_.findWhere(e.types,{value:e.formData.type});e.formData.name=e.formData.year+a.name,e.formData.vacation=e.formData.vacation?1:0,e.formData.terms=_.map(e.formData.terms,function(e,a){return e.ordinal=a,e}),e.formData.endDisplayTime=e.formData.endDisplayType===P.CUSTOMIZE?e.formData.endDisplayTime:P.NONE_VALUE}e.calendarEstimatedShippingDate={defaultDate:null},a.prototypeId?(e.prototypeId=a.prototypeId,e.editType="edit"):e.editType="create";var f=moment().year(),y="create"===e.editType?f:2015,T=_.range(y,f+5).map(function(e){return{value:e,name:e+""}});e.years=T,e.types=p,e.serialPrototypes=n.query(),e.prices=o.query(),e.serialPrices=n.getPrices(),e.typePriceMap={},e.serialPrices.$promise.then(function(a){_.each(a,function(a){var t=_.findWhere(e.types,{name:a.name});_.isUndefined(e.typePriceMap[t.value])&&(e.typePriceMap[t.value]={}),e.typePriceMap[t.value][a.tutorialPrice]=a.serialPrice})});var h="init",S="published",P={NONE:"none",CUSTOMIZE:"customize",NONE_VALUE:0};if(e.DISPLAY_TIME_TYPE=P,e.formData={year:f,type:null,terms:[c()],vacation:!1,serialItemCount:null,startDisplayTime:null,startSaleTime:null,endSaleTime:null,endDisplayTime:null,endDisplayType:P.NONE,estimatedShippingTime:null},e.tempDates={startDisplayDate:null,startSaleDate:null,endSaleDate:null,endDisplayDate:null},e.temp={isPublished:!1,isSold:!1,isFormChanged:!1,isSubmit:!1},e.$watch("formData.terms[formData.terms.length - 1].startTime",function(a){a&&(e.calendarEndSaleDate.endDate=moment(a).startOf("day").subtract(1,"days").valueOf())}),e.$watch("formData.endDisplayType",function(a){a===P.NONE&&(e.tempDates.endDisplayDate=null,e.calendarEndDisplayDate={defaultDate:null},e.formData.endDisplayTime=null)}),e.$watch("formData.type",function(a){a&&(e.formData.vacation="summer"===a||"winter"===a,e.formData.vacation||(e.calendarStartTimes.length=1,e.formData.terms.length=1),"create"===e.editType?e.formData.prices=_.map(e.prices,function(t){return{tutorialPrice:t,serialPrice:e.typePriceMap[a][t]}}):_.each(e.formData.prices,function(t){t.serialPrice=e.typePriceMap[a][t.tutorialPrice]}))}),e.$watchGroup(["formData.year","formData.type"],function(a){if(!(_.contains(a,null)||_.contains(a,void 0)||_.contains(a,""))){var t=_.findWhere(e.types,{value:a[1]}),r=a[0]+t.name;e.isNameDuplicate=_.some(e.serialPrototypes,function(a){return"create"===e.editType?a.name===r&&!a.hiddenInfo:a.name===r&&!a.hiddenInfo&&a.id!==parseInt(e.prototypeId)})}}),"create"===e.editType)e.calendarStartTimes=[d()],e.calendarStartDisplayDate=d(),e.calendarStartSaleDate=d(),e.calendarEndSaleDate=d(),e.calendarEndDisplayDate=d(),e.loadingPromise=i.all([e.serialPrototypes.$promise,e.serialPrices.$promise,e.prices.$promise]).then(function(){u()});else{var v=n.get({prototypeId:e.prototypeId}).$promise.then(function(a){e.temp.isPublished=a.status===S,e.temp.isSold=a.sold,e.formData=a,e.calendarStartTimes=_.map(a.terms,function(e){return{defaultDate:e.startTime}});var t=moment(a.startDisplayTime).startOf("day").valueOf();e.tempDates.startDisplayDate=t,e.calendarStartDisplayDate={defaultDate:t};var r=moment(a.startSaleTime).startOf("day").valueOf();e.tempDates.startSaleDate=r,e.calendarStartSaleDate={defaultDate:r};var i=moment(a.endSaleTime).startOf("day").valueOf();if(e.tempDates.endSaleDate=i,e.calendarEndSaleDate={defaultDate:i},e.formData.estimatedShippingTime){var n=moment(e.formData.estimatedShippingTime).startOf("day").valueOf();e.tempDates.estimatedShippingDate=n,e.calendarEstimatedShippingDate.defaultDate=n}if(a.endDisplayTime){e.formData.endDisplayType=P.CUSTOMIZE;var o=moment(a.endDisplayTime).startOf("day").valueOf();e.tempDates.endDisplayDate=o,e.calendarEndDisplayDate={defaultDate:o}}else e.formData.endDisplayType=P.NONE,e.formData.endDisplayTime=null;e.formData.imageIds=a.imageIds||[]});e.loadingPromise=i.all([v,e.serialPrototypes.$promise,e.serialPrices.$promise,e.prices.$promise]).then(function(){u()})}e.removePrototypeTerm=function(a){e.calendarStartTimes.splice(a,1),e.formData.terms.splice(a,1)},e.addPrototypeTerm=function(){e.calendarStartTimes.push(d()),e.formData.terms.push(c())},e.getTermEndTime=function(a){return e.formData.terms[a].endTime=e.formData.terms[a].startTime+864e5*(e.formData.vacation?1:7)*e.formData.serialItemCount,e.formData.terms[a].endTime-1},e.submit=function(){if(e.temp.isPublished){var a="",t="";e.temp.isSold?(a="",t="//"):(a="",t="////"),m.show({title:"",text:""+e.formData.name+""+a+""+t+""}).then(function(){D(),e.loadingPromiseSave=n.update({prototypeId:e.prototypeId},e.formData).$promise.then(function(){l.success(""),r.path("/serial-prototypes")})})}else D(),"create"===e.editType?(e.formData.status=h,e.loadingPromiseSave=n.save(null,e.formData).$promise.then(function(){l.success(""),r.path("/serial-prototypes")})):e.loadingPromiseSave=n.update({prototypeId:e.prototypeId},e.formData).$promise.then(function(){l.success(""),r.path("/serial-prototypes")})}}]);
"use strict";app.controller("SerialPrototypeListCtrl",["$scope","$route","$q","Serial","SerialPrototype","Confirm","Toast",function(e,t,n,o,i,r,s){e.serialPrototypes=i.query(),e.loadingPromise=e.serialPrototypes.$promise.then(function(e){return n.all(_.map(e,function(t,i){if(t.hiddenInfo||"published"!==t.status){var r=n.defer();return r.resolve(),r.promise}return o.query({serialPrototypeId:t.id}).$promise.then(function(t){e[i].serialCount=t.length})}))}),e.publish=function(e){var n='<span class="label label-warning">'+e.name+"</span>";r.show({title:"",text:n,confirmText:""}).then(function(){i.publish({prototypeId:e.id},null).$promise.then(function(){s.success(""),t.reload()})})},e.hide=function(e){if("published"===e.status){var n=e.name+'<span class="text-danger">'+e.serialCount+"</span>";r.show({title:"",text:[n,""],confirmText:""}).then(function(){i.hide({prototypeId:e.id},null).$promise.then(function(){s.success(""),t.reload()})})}else r.show({title:"",text:["",""],confirmText:""}).then(function(){i.hide({prototypeId:e.id},null).$promise.then(function(){s.success(""),t.reload()})})}}]);
"use strict";app.controller("SerialPrototypeOutlineCtrl",["$scope","$routeParams","$location","$q","Toast","Course","SerialPrototype","SeasonPrototype","MAJOR","SERIAL_PROTOTYPE_OUTLINE_FILTER",function(e,t,a,o,r,n,i,u,s,m){function d(){if(e.formData.grade){var t=_.findWhere(g,{value:e.formData.subject}),a=_.findWhere(t.grades,{value:e.formData.grade});return!!a.major}return!1}function f(){if(e.formData.major){var t=_.findWhere(g,{value:e.formData.subject}),a=_.findWhere(t.grades,{value:e.formData.grade});return!!a.region}return!1}function l(){if(e.formData.major){var t=_.findWhere(g,{value:e.formData.subject}),a=_.findWhere(t.grades,{value:e.formData.grade});return!!a.textbookSuite}return!1}function c(){var t=_.findWhere(e.grades,{value:e.formData.grade}),a=_.findWhere(e.subjects,{value:e.formData.subject});if(e.formData.regionId){var o=_.findWhere(e.regions,{value:e.formData.regionId});return t.desc+p[e.formData.major]+a.desc+o.desc}if(e.formData.textBookSuiteId){var r=_.findWhere(e.textbookSuites,{value:e.formData.textBookSuiteId});return t.desc+p[e.formData.major]+a.desc+r.desc}return t.desc+p[e.formData.major]+a.desc+""+(12===e.formData.grade?"":"")}var p={noMajor:""};t.outlineId?(e.outlineId=t.outlineId,e.type="edit"):e.type="create";var g=m,D={value:"",desc:""},v="noMajor",I=i.get({prototypeId:t.prototypeId}),j=i.getAllOutlines({prototypeId:t.prototypeId},function(e){_.each(e,function(e){e.region?e.name=e.grade.name+p[e.major]+e.subject.name+e.region.name:e.keypointCatalog?e.name=e.grade.name+p[e.major]+e.subject.name+e.keypointCatalog.textbookSuite.name:e.name=e.grade.name+p[e.major]+e.subject.name+""+(12===e.grade.id?"":"")})});e.formData={items:[""]},e.step="first";var b=n.getAllSubjects().$promise.then(function(t){var a={};e.subjectsIdMap={},_.each(t,function(t){e.subjectsIdMap[t.prefix]=t.id,a[t.prefix]=t.name}),e.subjects=_.map(g,function(e){return{value:e.value,desc:a[e.value]}})}),h=n.getAllGrades().$promise.then(function(t){e.grades=_.map(t,function(e){return{value:e.id,desc:e.name}})});e.majors=_.map(s,function(e){return p[e.value]=e.name,{value:e.value,desc:e.name}}),e.isShowMajor=d,e.isShowRegionList=f,e.isShowTextbookSuiteList=l,e.$watch("formData.subject",function(t){if(!_.isUndefined(t)){var a=_.findWhere(g,{value:t});e.grades=_.map(a.grades,function(e){return{value:e.value,desc:e.name}}),_.findWhere(e.grades,{value:e.formData.grade})||(e.formData.grade=null)}}),e.$watchGroup(["formData.subject","formData.grade"],function(t){if(!_.contains(t,void 0)){var a=t[0],o=t[1];return!_.isNull(a)&&_.isNull(o)?void(e.formData.major=null):void(d()?e.formData.major===v&&(e.formData.major=null):e.formData.major=v)}}),e.$watchGroup(["formData.subject","formData.grade","formData.major"],function(t){if(!_.contains(t,null)&&!_.contains(t,void 0)){var a={subject:e.formData.subject,grade:e.formData.grade};f()&&(e.formData.textBookSuiteId=null,e.getInfoLoadingPromise=u.regions(a).$promise.then(function(t){var a=_.map(t,function(e){var t={value:e.id,desc:e.name};return e.subRegions&&e.subRegions.length&&(t.classes=["block"],t.postfix=_.map(e.subRegions,function(e){return e.name}).join(""),t.postfix=""+t.postfix+""),t});a.splice(0,0,D),angular.equals(a,e.regions)||(e.regions=a),(_.isNull(e.formData.regionId)||!_.findWhere(e.regions,{value:e.formData.regionId}))&&(e.formData.regionId=D.value)})),l()&&(e.formData.regionId=null,e.getInfoLoadingPromise=u.textbookSuites(a).$promise.then(function(t){var a=_.map(t,function(e){return{value:e.id,desc:e.name}});a.splice(0,0,D),angular.equals(a,e.textbookSuites)||(e.textbookSuites=a),(_.isNull(e.formData.textBookSuiteId)||!_.findWhere(e.textbookSuites,{value:e.formData.textBookSuiteId}))&&(e.formData.textBookSuiteId=D.value)}))}}),"create"===e.type?e.pageLoadingPromise=o.all([I.$promise,j.$promise,b,h]).then(function(t){var a=t[0];a.semester=a.name.substr(4),e.formData.items=_.map(_.range(0,a.serialItemCount),function(e){return{name:"",ordinal:e}})}):(e.outline=i.getOutline({prototypeId:t.prototypeId,outlineId:e.outlineId}),e.pageLoadingPromise=o.all([e.outline.$promise,I.$promise,j.$promise,b,h]).then(function(t){var a=t[1];a.semester=a.name.substr(4);var o=t[0];e.formData.subject=o.subject.prefix,e.formData.grade=o.grade.id,e.formData.major=o.major,o.region?e.formData.regionId=o.region.id:o.keypointCatalog?e.formData.textBookSuiteId=o.keypointCatalog.textbookSuite.catalogId:(e.formData.regionId=D.value,e.formData.textBookSuiteId=D.value),e.formData.items=o.items})),e.isDuplicate=function(){if(f()&&e.regions||l()&&e.textbookSuites){var t=c(),a=_.some(j,function(a){return"create"===e.type?a.name===t:a.name===t&&a.id!==e.outline.id});return a}return!1},e.nextStep=function(){e.formData.name=c(),e.step="second"},e.preStep=function(){e.step="first"},e.submit=function(){var t={prototypeId:I.id,id:e.outline?e.outline.id:null,subject:{id:e.subjectsIdMap[e.formData.subject]},grade:{id:e.formData.grade},major:e.formData.major,region:e.formData.regionId?{id:e.formData.regionId}:null,keypointCatalog:e.formData.textBookSuiteId?{textbookSuite:{catalogId:e.formData.textBookSuiteId}}:null,items:e.formData.items};"create"===e.type?e.saveLoadingPromise=i.createOutline({prototypeId:I.id},t).$promise.then(function(){r.success(""),a.path("/serial-prototypes/"+I.id+"/outlines")}):e.saveLoadingPromise=i.updateOutline({prototypeId:I.id,outlineId:e.outlineId},t).$promise.then(function(){r.success(""),a.path("/serial-prototypes/"+I.id+"/outlines")})}}]);
"use strict";app.controller("SerialPrototypeOutlineListCtrl",["$scope","$route","$routeParams","$location","$q","SerialPrototype","Pager","Confirm","Toast","Reset","MAJOR",function(e,o,t,a,r,n,i,p,s,l,m){e.prototypeId=t.prototypeId,e.formData=a.search(),e.prototype=n.get({prototypeId:e.prototypeId});var c={noMajor:""};_.each(m,function(e){c[e.value]=e.name});var u=_.clone(a.search());u.prototypeId=e.prototypeId,e.outlines=n.getAllOutlines(u,function(e){_.each(e,function(e){e.region?e.name=e.grade.name+c[e.major]+e.subject.name+e.region.name:e.keypointCatalog?e.name=e.grade.name+c[e.major]+e.subject.name+e.keypointCatalog.textbookSuite.name:e.name=e.grade.name+c[e.major]+e.subject.name+""+(12===e.grade.id?"":"")})}),e.loadingPromise=r.all([e.prototype.$promise,e.outlines.$promise]),i.setPageInfo(e.outlines.$promise,e),e.search=function(){delete e.formData.page,a.search(e.formData)},e.reset=l,e.remove=function(t){var a='<span class="label label-warning">'+t.name+"</span>";p.show({title:"",text:a,confirmText:""}).then(function(){var a={prototypeId:e.prototypeId,outlineId:t.id};n.removeOutline(a).$promise.then(function(){s.success(""),o.reload()})})},e.back=function(){a.url("/serial-prototypes")}}]);
"use strict";app.controller("TeacherDetailCtrl",["$scope","$routeParams","$q","Teacher","Verify","Trial","Confirm","Toast",function(e,t,a,n,c,r,o,i){e.teacherId=t.teacherId,e.teacher=n.get({teacherId:t.teacherId}),e.detailInfo=n.getDetailInfo({teacherId:e.teacherId}),e.trials=r.query({teacherId:t.teacherId}),e.trials.$promise["catch"](function(e){e.processed(404)}),a.all([e.trials.$promise,e.teacher.$promise]).then(function(e){e[0].forEach(function(t){t.qrcodeData="tutor1f6f42334e1709a4://openTrialEpisode?episodeId="+t.trialId+"&teacherName="+encodeURIComponent(e[1].nickname)})}),e.loadingPromise=a.all([e.teacher.$promise,e.detailInfo.$promise]),e.isEdit=!1,e.temp={uploadImageUrl:null,uploadImageId:null,bannerImageId:null,mktDesc:""},e.updateBannerImageId=function(){var t="";o.show({title:"",imageIds:[e.teacher.bannerImageId,e.temp.bannerImageId],tag:["",""]}).then(function(){var a=e.teacher.bannerImageId;e.teacher.bannerImageId=e.temp.bannerImageId,e.teacher.$save().then(function(){i.success(t)},function(){e.teacher.bannerImageId=a})})},e.removeBannerImageId=function(){var t="";o.show({title:"",imageIds:[e.teacher.bannerImageId],tag:[""]}).then(function(){var a=e.teacher.bannerImageId;e.teacher.bannerImageId="",e.teacher.$save().then(function(){i.success(t)},function(){e.teacher.bannerImageId=a})})},e.updateMktDesc=function(){var t="";o.show({title:"",text:[e.teacher.mktDesc,e.temp.mktDesc],tag:["",""]}).then(function(){var a=e.teacher.mktDesc;e.teacher.mktDesc=e.temp.mktDesc,e.teacher.$save().then(function(){i.success(t),e.cancelEdit()},function(){e.teacher.mktDesc=a,e.cancelEdit()})})},e.editMktDesc=function(){e.isEdit=!0,e.temp.mktDesc=e.teacher.mktDesc},e.cancelEdit=function(){e.isEdit=!1},e.$watch("temp.uploadImageId",function(t){t&&(e.temp.bannerImageId=t,e.temp.uploadImageUrl=null,e.updateBannerImageId())}),e.onUploadError=function(){e.temp.uploadImageUrl=null},e.videoUrl=function(){return(location.origin+location.pathname).replace("crm","cms")+"#/all/all/videos/"+e.teacher.videoResourceId+"/edit"},e.changeVideoResourceId=function(){var t=window.prompt("id:",e.teacher.videoResourceId||"");t&&t!==e.teacher.videoResourceId&&(e.teacher.videoResourceId=t,e.teacher.$save().then(function(){i.success("!")}))},e.deleteVideo=function(){e.teacher.videoResourceId=0,e.teacher.$save().then(function(){i.success("!")})}}]);
"use strict";app.controller("TeacherListCtrl",["$scope","$routeParams","$location","$q","Teacher","Pager","Course","EpisodePrice","Utils","Confirm","Toast","Reset","TEACHER_STATUS","TEACHER_HIDE_STATUS","PHASE","TRIAL_STATUS","EPISODE_TYPE","API_SERVER",function(e,t,a,r,i,s,n,c,o,l,u,d,h,f,m,p,P){function T(){var t=$.extend(!0,{},o.smartType(e.formData));if(_.contains(["","tutorial"],t.teacherEpisodeCategory)){var a=t.startDate,r=t.startHour||0,i=t.endHour||828e5;for(e.timeRanges=[];a<t.endDate;){var s=moment(a).weekday()||7;t.daysInWeek&&-1===t.daysInWeek.indexOf(s)||e.timeRanges.push(a+r+"-"+(a+i)),a+=864e5}t["scheduleTimes[]"]=e.timeRanges,e.showSchedule=Boolean(a)}else delete t.verifiedPrice,delete t.currentPrice;return delete t.startDate,delete t.endDate,delete t.startHour,delete t.endHour,delete t.daysInWeek,t}e.verifiedPriceLevel=c.priceLevel(),e.currentPriceLevel=c.query(),e.formData=_.clone(a.search()),_.defaults(e.formData,{teacherStatus:"activated",hideStatus:"",verifiedPrice:"",currentPrice:"",teacherEpisodeCategory:"",daysInWeek:""}),e.teacherStatusList=h,e.hideStatusList=f,e.studyPhaseList=m,e.episodeTypeList=P,e.trialStatusList=p,e.classHours=_.range(7,24).map(function(e){return{label:e+":00",value:36e5*e}});var g=moment.weekdaysShort();e.daysInWeek=_.range(1,8).map(function(e){return{label:g[e%7],value:e}}),e.teachers=i.query(T()),e.loadingPromise=r.all([e.phaseSubjectPromise,e.verifiedPriceLevel.$promise,e.currentPriceLevel.$promise,e.teachers.$promise]),s.setPageInfo(e.teachers.$promise,e),e.$watch("formData.teacherEpisodeCategory",function(t){_.isUndefined(t)||(e.isTutorialFilter=""===t||"tutorial"===t)}),e.search=function(){delete e.formData.page,a.search(e.formData)},e.reset=d,e.activate=function(e){l.show({title:"",text:'<span class="label label-warning">'+e.nickname+"</span>"}).then(function(){i.activate({teacherId:e.id},null,function(){u.success(""),e.$get()})})},e.hide=function(t,a){e.hideTeacher=t,e.isHide=a},e.cancelHide=function(){e.hideTeacher=null},e.fire=function(t){e.fireTeacher=t},e.cancelFire=function(){e.fireTeacher=null},e.loadAll=function(){var t=_.extend({},T(),{page:0,pageSize:999999999});return e.teachers=i.query(t),e.loadingPromise=e.teachers.$promise,s.setPageInfo(e.teachers.$promise,e),e.loadingPromise}}]);
"use strict";app.controller("TeacherScheduleCtrl",["$scope","$routeParams","Teacher","Schedule",function(e,t,r,a){e.teacher=r.get({teacherId:t.teacherId});var c=parseInt(t.startDate,10)||moment().startOf("isoWeek").valueOf();e.startDate=c,e.schedules=a.query({teacherId:t.teacherId,"scheduleTimes[]":c+"-"+(c+6048e5)}),e.schedules.$promise.then(function(t){e.scheduleMap=t.reduce(function(e,t){return e[t.startTime]=t,e},{})}),e.days=_.range(7).map(function(e){return c+864e5*e}),e.hours=_.range(7,24)}]);
"use strict";app.controller("TeacherStatCtrl",["$scope","$routeParams","$q","TeacherStat",function(e,t,r,a){e.teacher=a.get({teacherId:t.teacherId})}]);
"use strict";app.controller("TeacherStatListCtrl",["$scope","$routeParams","$location","$q","TeacherStat","Pager","Utils","Reset","TEACHER_STATUS","PHASE","EPISODE_TYPE",function(e,t,a,o,r,s,n,c,i,f,p){function u(){var t=$.extend(!0,{},n.smartType(e.formData));e.teachers=r.query(t),e.loadingPromise=o.all([e.phaseSubjectPromise,e.teachers.$promise]).then(function(){var a=t,o=[];if(_.each(a,function(e,t){void 0!==e&&null!==e&&o.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),o.length){var r=o.join("&");e.exportLink+="?"+r}})}e.formData=_.clone(a.search()),_.defaults(e.formData,{status:"activated",episodeCategory:"tutorial"}),e.teacherStatusList=i,e.studyPhaseList=f,e.episodeTypeList=p,u(),s.setPageInfo(e.teachers.$promise,e),e.search=function(){delete e.formData.page,a.search(e.formData)},e.reset=c,e.updateUrl=function(t,a){e.formData.sortType="",e.formData.orderBy="",e.formData[t]=a,e.formData.page=0,e.search()}}]);
"use strict";app.controller("TeacherTrialCtrl",["$scope","$routeParams","Teacher","EpisodePrice","Toast","TRIAL_STATUS","Trial","$q",function(e,a,t,r,i,o,n,c){function s(){e.teacher=t.get({teacherId:a.teacherId}),e.teacherEpisodeCategory=t.getEpisodeCategory({teacherId:e.teacherId}),e.trials=n.query({teacherId:e.teacherId}),e.formData={},e.teacher.$promise.then(function(a){e.formData.price=a.verifiedPrice,e.formData.teacherId=a.id}),e.teacherEpisodeCategory.$promise.then(function(a){e.formData.tutorialEnabled=!!a.tutorialEnabled,e.formData.serialEnabled=!!a.serialEnabled,e.formData.lectureEnabled=!!a.lectureEnabled,e.formData.seasonEnabled=!!a.seasonEnabled}),e.trials.$promise.then(function(a){e.allSuccess=!a.some(function(e){return"success"!==e.verifyStatus})}),c.all([e.trials.$promise,e.teacher.$promise]).then(function(e){e[0].forEach(function(a){a.qrcodeData="tutor1f6f42334e1709a4://openTrialEpisode?episodeId="+a.trialId+"&teacherName="+encodeURIComponent(e[1].nickname)})})}function l(a){var r=[],o=n.verify({teacherId:e.teacher.id,trialIds:e.trials.map(function(e){return e.trialId})},$.param(e.formData)).$promise;if(r.push(o),a){var l={teacherId:e.teacher.id,tutorialEnabled:e.formData.tutorialEnabled,serialEnabled:e.formData.serialEnabled,lectureEnabled:e.formData.lectureEnabled,seasonEnabled:e.formData.seasonEnabled},d=t.updateEpisodeCategory({teacherId:e.teacher.id},l).$promise;r.push(d)}return c.all(r).then(function(){i.success(""),s()})}e.priceLevel=r.priceLevel(),e.trialStatusList=o,e.teacherId=a.teacherId,e.dialogs={},e.submit=function(){var a="success"===e.formData.verifyStatus;a?e.dialogs.setSetting=!0:l(!1)},e.submitSetting=function(){l(!0).then(function(){e.dialogs.setSetting=!1})},s(),e.$watch("formData.serialEnabled",function(a){a&&(e.formData.tutorialEnabled=!0)}),e.$watch("formData.tutorialEnabled",function(a){!a&&e.formData.serialEnabled&&(e.formData.serialEnabled=!1)})}]);
"use strict";app.controller("TeacherVerifyCtrl",["$scope","$routeParams","$q","Teacher","Verify","TeacherVerify","Course","EpisodePrice","Toast","GENDER","DEGREE","GRADE",function(e,t,a,r,i,s,n,o,u,c,f,d){function l(){return e.waitToVerify=!1,e.teacher=s.get({teacherId:t.teacherId}),e.teacherEpisodeCategory=r.getEpisodeCategory({teacherId:e.teacherId}),e.verifies=i.query({teacherId:e.teacherId}),e.verifies.$promise.then(function(t){_.map(t,function(t,a){t.data&&t.data.grades&&-1!==_.indexOf(t.data.grades,11)&&(e.verifies[a].data.grades=_.without(t.data.grades,11))})}),e.formData={},e.teacher.$promise.then(function(t){e.formData.price=t.verifiedPrice,e.formData.teacherId=t.id}),e.teacherEpisodeCategory.$promise.then(function(t){e.formData.tutorialEnabled=!!t.tutorialEnabled,e.formData.serialEnabled=!!t.serialEnabled,e.formData.lectureEnabled=!!t.lectureEnabled,e.formData.seasonEnabled=!!t.seasonEnabled}),e.verifies.$promise.then(function(t){e.waitToVerify=t.some(function(e){return"waitToVerify"===e.status||"verifySuccess"===e.status}),e.waitToVerify=e.waitToVerify&&!t.some(function(e){return"verifyFail"===e.status}),e.formData.verifyResults=t.map(function(e){return{status:"waitToVerify"!==e.status?e.status:null,advice:e.advice,verifyId:e.id,labelId:null}}),e.$watch("formData.verifyResults",function(t){t&&(e.processed=t.some(function(e){return null!==e.status}))},!0)}),e.verifies.$promise.then(function(t){e.allTypeWaitToVerifyStatus=!0,_.each(t,function(t){"waitToVerify"!==t.status&&(e.allTypeWaitToVerifyStatus=!1)}),e.pendingStatus=!0,_.each(t,function(t){"pending"!==t.pendingStatus&&(e.pendingStatus=!1)})}),e.verifies.$promise}e.GENDER=c,e.DEGREE=f,e.GRADE=d,e.subjects=n.getAllSubjects(),e.priceLevel=o.priceLevel(),e.teacherId=t.teacherId,e.pend=function(){r.pend({teacherId:e.teacher.id},null).$promise.then(function(){u.success(""),l()})},e.submit=function(){var t=e.formData.verifyResults.filter(function(e){return null!==e.status&&"published"!==e.status});e.loadingPromise=(t.length>0?i.batchVerify({teacherId:e.teacherId},t).$promise.then():e.verifies.$promise).then(function(t){var a=!t.some(function(e){return null===e.status||"verifyFail"===e.status});return(a=a&&t.some(function(e){return"verifySuccess"===e.status}))?void(e.temp.publishTeacher=!0):void l()})},e.temp={},e.loadingPromise=l(),e.reload=l}]);
"use strict";app.controller("TrialListCtrl",["$scope","$routeParams","$location","$q","Teacher","Pager","Reset","RATING","TRIAL_STATUS",function(t,a,e,r,s,i,o,c,l){t.trialStatus=a.trialStatus||"pending",t.page=a.page||0,t.ratings=c,t.trialStatusList=l,t.formData=_.defaults({},e.search(),{trialStatus:t.trialStatus}),t.search=function(){e.search(t.formData)},t.reset=o,t.teachers=s.queryByVerify(_.extend({status:"verifySuccess",trialStatus:"pending",page:t.page},t.formData)),t.loadingPromise=r.all([t.phaseSubjectPromise,t.teachers.$promise]),i.setPageInfo(t.teachers.$promise,t)}]);
"use strict";app.controller("VerifyListCtrl",["$scope","$route","$routeParams","$location","$q","Teacher","Pager","BatchVerify","Reset","RATING","TRIAL_STATUS",function(e,t,a,s,r,i,c,o,n,l,u){e.status=a.status||"waitToVerify",e.showBatchSelector=a.rating&&2===parseInt(a.rating,10),e.dialogs={},e.temp={selectedIds:[]},e.page=a.page||0,e.ratings=l,e.trialStatusList=u,e.formData=_.defaults({},s.search(),{status:e.status,pendingStatus:"not_pend"}),e.formData.rating&&(e.formData.rating=parseInt(e.formData.rating,10)),e.search=function(){s.search(e.formData)},e.reset=n,e.teachers=i.queryByVerify(_.defaults({status:e.status,page:e.page},e.formData)),e.loadingPromise=r.all([e.phaseSubjectPromise,e.teachers.$promise]),c.setPageInfo(e.teachers.$promise,e),e.batchAdvice="",e.showBatchFailDialog=function(){e.temp.selectedIds.length&&(e.dialogs.batchReject=!0)},e.batchFail=function(){var a={teacherIds:e.temp.selectedIds.join(","),verifyType:"experience",advice:e.batchAdvice||""};o.reject(a,null).$promise.then(function(){t.reload()})}}]);
"use strict";app.controller("UserListEditCtrl",["$scope","$routeParams","UserList","$http","Toast","UserListLog",function(t,s,e,i,n,o){function r(){t.logs=o.query({listKey:t.listKey})}t.listKey=s.listKey||"student-black-list",t.userIds=[],i.get("/tutor-user-list/api/lists/"+t.listKey+"/ids").then(function(s){t.userIds=s.data}),t.remove=function(s){i["delete"]("/tutor-user-list/api/lists/"+encodeURIComponent(t.listKey)+"/ids/"+s).then(function(){var e=t.userIds.indexOf(s);t.userIds.splice(e,1),r()})},t.add=function(s){i.post("/tutor-user-list/api/lists/"+encodeURIComponent(t.listKey)+"/ids/"+s).then(function(){t.userIds.unshift(s),r()})},r()}]);
"use strict";app.controller("UserPhoneCtrl",["$scope","$http","Toast",function(o,t,n){o.formData={},o.submit=function(){var e=o.formData.phone,r=o.formData.userId;o.loadingPromise=t.post("/tutor-crm-account/api/users/"+r+"/phone?phone="+encodeURIComponent(e)).then(function(){o.formData={},n.success("")})}}]);
"use strict";app.directive("actionLog",[function(){return{scope:{actionLog:"=",onClose:"="},templateUrl:"directives/actionLog.html"}}]);
"use strict";app.directive("assistant",["UserList","$http","Toast",function(s,t,i){return{templateUrl:"directives/assistant.html",scope:{productId:"="},link:function(n){n.$watch("productId",function(t){t&&(n.assistantUserIds=s.query({listKey:"productAssistant-"+t}))}),n.addAssistant=function(){var s=parseInt(window.prompt(" id"),10);!isNaN(s)&&s&&t.post("/tutor-crm-assistant/api/products/"+n.productId+"/assistants/"+s).then(function(){i.success(""),n.assistantUserIds.push(s)})},n.removeAssistant=function(s){window.confirm(" "+s+"  ")&&t["delete"]("/tutor-crm-assistant/api/products/"+n.productId+"/assistants/"+s).then(function(){i.success(""),n.assistantUserIds.slice(n.assistantUserIds.indexOf(s),1)})}}}}]);
"use strict";app.directive("checkNum",["$timeout",function(e){return{restrict:"A",scope:{types:"=?"},link:function(t,r){function n(e){if(_.contains(t.types,"workNo")){for(var r,n=e,o=/(\d+)/g;null!==(r=o.exec(e));){var a=r[0],c=r[1],i="https://yuanfudao.kf5.com/agent/#/ticket/"+c,u='<a href="'+i+'" target="_blank">'+c+"</a>";n=n.replace(a,u)}return n}return e}function o(e){if(_.contains(t.types,"episodeId")){for(var r,n=e,o=/ID(\d+)/g;null!==(r=o.exec(e));){var a=r[0],c=r[1],i="#/episodeRouter/"+c,u='ID<a href="'+i+'">'+c+"</a>";n=n.replace(a,u)}return n}return e}t.types=t.types||["workNo"],e(function(){var e=r.text();e=n(e),e=o(e),r.html(e)})}}}]);
"use strict";app.directive("arrayToText",function(){return{require:"ngModel",restrict:"A",link:function(n,r,t,e){e.$parsers.push(function(n){return n?n.split("\n").map(function(n){return parseInt(n,10)}):n}),e.$formatters.push(function(n){return n?"string"==typeof n?n:n.join?n.join("\n"):n:n})}}});
"use strict";app.directive("backHeader",["$window","$location","$routeParams",function(e,r,a){return{restrict:"E",transclude:"true",replace:!0,templateUrl:"directives/common/backHeader/backHeader.html",scope:{headerTitle:"@",backHeaderRule:"="},link:function(c){c.backHeaderRule?c.back=c.backHeaderRule:c.back=function(){a._history?r.url(a._history):e.history.back()}}}}]);
"use strict";app.directive("dataToList",function(){return{require:"ngModel",restrict:"A",link:function(t,r,i,n){n.$parsers.push(function(t){return t?t.split("\n"):t})}}});
"use strict";app.directive("focus",[function(){return{scope:{focus:"="},link:function(c,u){c.$watch("focus",function(c){c===!0&&u.focus()})}}}]);
"use strict";app.directive("address",["Address",function(e){var n=e.map(function(e){return e.name}),r=e.reduce(function(e,n){return e[n.name]=n.children.map(function(e){return e.name}),e},{});return{scope:!0,require:"ngModel",link:function(e,t,s,i){return s.parent?void e.$watch(s.parent,function(n){if(n)if(""===n||""===n||""===n||""===n)e.addressList=[n],i.$setViewValue(n),i.$setTouched();else if(e.addressList=r[n],i.$modelValue){var t=e.addressList.some(function(e){return e===i.$modelValue});t||(i.$setViewValue(null),i.$setTouched())}}):void(e.addressList=n)}}}]);
"use strict";app.directive("checkListScope",[function(){return{controller:function(){this.allValues=[]}}}]),app.directive("checkAll",[function(){return{require:["^checkListScope","ngModel"],priority:700,link:function(e,n,r,i){var u=i[0],t=i[1],l=r.ngTrueValue?e.$eval(r.ngTrueValue):r.value;(_.isUndefined(l)||_.isNull(l))&&(l=!0);var a=e.$eval(r.ngFalseValue);(_.isUndefined(l)||_.isNull(l))&&(a=!1);var s=u.allValues;t.$formatters.push(function(e){return e===l?l:e&&e.indexOf&&0!==s.length&&0===e.length?l:a}),t.$parsers.push(function(e){return e===l?l:angular.copy(s)})}}}]),app.directive("checkList",["Toast",function(e){return{require:["?^checkListScope","ngModel"],priority:700,link:function(n,r,i,u){var t=u[0],l=u[1],a=i.ngTrueValue?n.$eval(i.ngTrueValue):i.value;(_.isUndefined(a)||_.isNull(a))&&(a=!0);var s=n.$eval(i.ngFalseValue);(_.isUndefined(a)||_.isNull(a))&&(s=!1);var c=n.$eval(i.listLimit)||-1,o=i.text;t&&t.allValues.push(a),l.$formatters.push(function(e){var n=-1;return n="object"==typeof a?_.findIndex(e,function(e){return _.isEqual(e,a)}):e.indexOf(a),e&&e.indexOf&&-1!==n?a:s}),l.$parsers.push(function(n){var r=angular.isArray(l.$modelValue)?l.$modelValue:[];return n&&r.length===c?(l.$setViewValue(s),e.error(o||""),r):(r=n?_.uniq(r.concat([a]),function(e){return JSON.stringify(e)}):_.filter(r,function(e){return JSON.stringify(e)!==JSON.stringify(a)}),l.$render(),r)}),n.$on("select",function(){var e=angular.isArray(l.$modelValue)?l.$modelValue:[],n=-1;n="object"==typeof a?_.findIndex(e,function(e){return _.isEqual(e,a)}):e.indexOf(a),-1!==n?l.$setViewValue(s):l.$setViewValue(a)})}}}]);
"use strict";app.directive("datetimeLocal",function(){return{require:"ngModel",restrict:"A",link:function(e,t,r,n){n.$parsers.push(function(e){return e?e.getTime():e}),n.$formatters.push(function(e){return e?(e=parseInt(e,10),new Date(e)):e})}}});
"use strict";app.directive("endOfDate",function(){return{require:"^ngModel",restrict:"A",priority:100,link:function(r,e,t,n){n.$parsers.push(function(r){return r?parseInt(r,10)+864e5-1:r}),n.$formatters.push(function(r){return r?parseInt(r,10)-864e5+1:r})}}});
"use strict";app.directive("calendar",["$timeout",function(e){return{restrict:"E",require:"ngModel",templateUrl:"directives/common/form/item/calendar.html",scope:{options:"=",disabled:"="},link:function(t,a,n,o){function s(e){var a=e.isoWeekday();t.monthEndTime=e.endOf("month").valueOf(),t.monthStartTime=e.startOf("month").valueOf(),t.days=[],e.subtract(a+1,"days");for(var n=0;42>n;n++)e.add(1,"days"),t.days.push({date:e.format("l"),dayOfMonth:e.get("date"),startTime:e.valueOf()});return e.startOf("month").subtract(1,"months"),e}t.inputName=n.inputName;var r=moment("1890-01-01").valueOf(),m=moment("2100-01-01").valueOf(),i=moment();t.months=i.localeData()._months,t.weekdays=i.localeData()._weekdaysMin,t.year=i.year(),t.month=i.month(),t.today=i.valueOf(),t.todayStartTime=moment().startOf("day").valueOf();var d=moment().startOf("month");t.rowRange=_.range(0,6,1),t.columnRange=_.range(0,7,1),t.$watch("options",function(e){e||(e={defaultDate:null});var a={startDate:r,endDate:m};t.userOptions=e||a,t.userOptions.startDate=isNaN(t.userOptions.startDate)?r:t.userOptions.startDate,t.userOptions.endDate=isNaN(t.userOptions.endDate)?m:t.userOptions.endDate,t.userOptions.startDateFormat=moment(t.userOptions.startDate).format("YYYY-MM-DD"),t.userOptions.endDateFormat=moment(t.userOptions.endDate).format("YYYY-MM-DD"),t.formData&&t.formData.selectedDate?(t.formData.selectedDate<t.userOptions.startDate||t.formData.selectedDate>t.userOptions.endDate)&&(t.toWeek(moment(t.formData.selectedDate).month()-t.month),t.formData.selectedDate=null,t.selectedDate=null):(t.formData={selectedDate:t.userOptions.defaultDate?new Date(t.userOptions.defaultDate):null},t.selectedDate=t.formData.selectedDate?t.formData.selectedDate.getTime():null)},!0),t.toWeek=function(e){d.add(e||0,"months"),s(d),t.year=d.year(),t.month=d.month()},t.onSelected=function(e){e<t.userOptions.startDate||e>t.userOptions.endDate||(t.formData.selectedDate=new Date(e),t.hideCalendar())},t.isShow=!1,t.showCalendar=function(){if(!t.disabled){if(t.isShow)return void(t.isShow=!1);if(!(t.userOptions.startDate>t.userOptions.endDate)){t.yearRange=[];for(var e=moment(t.userOptions.startDate).year(),a=moment(t.userOptions.endDate).year(),n=e;a>=n;n++)t.yearRange.push(n);t.isShow=!0}}},t.hideCalendar=function(){t.isShow=!1},t.$watch("formData.selectedDate",function(e){return e?(t.selectedDate=moment(e.getTime()).startOf("day").valueOf(),d=moment(t.selectedDate),d.startOf("month"),void o.$setViewValue(t.selectedDate)):(o.$setViewValue(null),void(t.selectedDate=null))}),t.$watch("isShow",function(t){t&&e(function(){var e=a.find(".calendar"),t=a.find(".calendar-input");e.css("left",t.outerWidth()+10+"px"),e[0].focus()})}),o.$formatters.push(function(e){return t.formData&&e?(t.formData.selectedDate=new Date(e),t.toWeek(moment(t.formData.selectedDate).month()-t.month),e):(t.formData&&(t.formData.selectedDate=null),void(t.selectedDate=null))}),t.toWeek(0)}}}]);
"use strict";app.directive("contentImage",[function(){return{restrict:"E",templateUrl:"directives/common/form/item/contentImage.html",scope:{formData:"=",contentKeyName:"@",imagesKeyName:"@",isNotEdit:"=?"},link:function(e){e.contentKeyName=e.contentKeyName?e.contentKeyName:"content",e.imagesKeyName=e.imagesKeyName?e.imagesKeyName:"imageIds",e.isNotEdit=!!e.isNotEdit;var t={};t[e.contentKeyName]="",t[e.imagesKeyName]=[],_.defaults(e.formData,t),e.$watch("isNotEdit",function(t){_.isUndefined(t)||t&&e.$watch("formData[contentKeyName]",function(t){_.isUndefined(t)||(t=t.replace(/\n/g,"<br/>"),t=t.replace(/\s/g,"&nbsp;"),e.content=t)})}),e.temp={uploadImageUrl:null,uploadImageId:null},e.removeImage=function(t){e.formData[e.imagesKeyName].splice(t,1)},e.$watch("temp.uploadImageId",function(t){t&&(e.formData[e.imagesKeyName].push(t),e.temp.uploadImageUrl=null)}),e.onUploadError=function(){e.temp.uploadImageUrl=null}}}}]);
"use strict";app.directive("filterBar",["$timeout",function(e){return{templateUrl:"directives/common/form/item/filterBar.html",require:"ngModel",scope:{options:"=",disabled:"="},link:function(l,t,u,a){var i=u.filterType,c=u.strategy;l.selectedMap={},e(function(){"multiple"===i?(l.selectedValue=_.isArray(a.$modelValue)?a.$modelValue:[a.$modelValue],l.selectedValue.forEach(function(e){l.selectedMap[e]=!0}),a.$setViewValue(l.selectedValue)):l.selectedValue=a.$modelValue});var s=function(e){return"multiple"===i?!!l.selectedMap[e]:l.selectedValue===e};l.isSelected=s;var d=function(e){"multiple"===i?(l.selectedMap[e]=!0,-1===l.selectedValue.indexOf(e)&&l.selectedValue.push(e)):l.selectedValue=e},n=function(e){"multiple"===i?(l.selectedMap[e]=!1,l.selectedValue=_.without(l.selectedValue,e)):l.selectedValue===e&&(l.selectedValue=void 0)},o=function(e){s(e)?n(e):d(e)};if("unlimited"===c)var r=l.options[0];var V=function(e){s(e)?(n(e),l.selectedValue&&l.selectedValue.length||d(r.value)):e===r.value?_.each(l.options,function(l){l.value===e?d(l.value):n(l.value)}):(d(e),n(r.value))};l.select=function(e){if("multiple"===i)switch(c){case"unlimited":V(e);break;default:o(e)}else d(e);a.$setViewValue(l.selectedValue)},a.$formatters.push(function(e){return _.isUndefined(e)||_.isNull(e)?(l.selectedMap={},"multiple"===i?l.selectedValue=[]:l.selectedValue=null):"multiple"===i?(l.selectedValue=_.isArray(e)?e:[e],l.selectedValue.forEach(function(e){l.selectedMap[e]=!0})):l.selectedValue=e,e})}}}]);
"use strict";app.directive("gradeSubject",["$q","$timeout","Course","MAJOR",function(e,a,t,r){return{restrict:"E",templateUrl:"directives/common/form/item/gradeSubject.html",scope:{formData:"=",loadingPromise:"=",gradeKeyName:"@",subjectKeyName:"@",majorKeyName:"@",labelWidthClass:"@",controlWidthClass:"@",showType:"@",subjectIdOrPrefix:"@",showMajor:"=?"},link:function(a){function s(e){return"checkbox"===a.showType?""===a.formData[a.gradeKeyName]||_.contains(a.formData[a.gradeKeyName],e):a.formData[a.gradeKeyName]===e}function o(e){return"checkbox"===a.showType?""===a.formData[a.subjectKeyName]||_.contains(a.formData[a.subjectKeyName],e):a.formData[a.subjectKeyName]===e}var i=11,m=12;a.gradeKeyName=a.gradeKeyName||"gradeId",a.subjectKeyName=a.subjectKeyName||"subject",a.majorKeyName=a.majorKeyName||"major",a.labelWidthClass=a.labelWidthClass||"col-sm-2",a.controlWidthClass=a.controlWidthClass||"col-sm-8",a.showType=a.showType||"radio",a.subjectIdOrPrefix=a.subjectIdOrPrefix||"prefix",a.showMajor=!!a.showMajor;var c={};c[a.gradeKeyName]="",c[a.subjectKeyName]="",a.showMajor&&(c[a.majorKeyName]=""),_.defaults(a.formData,c),a.subjectList=t.getAllSubjects(),a.gradeList=t.getAllGrades(),a.majorList=r,a.loadingPromise=e.all([a.gradeList.$promise,a.subjectList.$promise]),"checkbox"!==a.showType&&a.$watch("formData[gradeKeyName]",function(e){_.isUndefined(e)||(e?a.subjectList=t.getSubjectsByGrade(e):a.subjectList=t.getAllSubjects(),a.subjectList.$promise.then(function(e){var t=_.some(e,function(e){return e[a.subjectIdOrPrefix]===a.formData[a.subjectKeyName]});t||(a.formData[a.subjectKeyName]="")}))}),a.isShowMajor=function(){if(a.showMajor){if(s(i)||s(m)){var e=_.findWhere(a.subjectList,{prefix:"shuxue"});return e?o(e.id)||o(e.prefix):!1}return a.formData[a.majorKeyName]="",!1}return!1}}}}]);
"use strict";app.directive("inputDatetime",[function(){return{restrict:"E",require:"ngModel",templateUrl:"directives/common/form/item/inputDatetime.html",scope:{disabled:"=?",restriction:"="},link:function(t,e,i,a){t.date=null,t.datetime=null,t.disabled=!!t.disabled,a.$formatters.push(function(e){return e?(t.date=moment(e).startOf("day").valueOf(),t.datetime=e,t.calendarOptions={defaultDate:t.date}):(t.date=null,t.datetime=null),e}),t.$watch("datetime",function(t){a.$setViewValue(t)})}}}]);
"use strict";app.directive("inputTime",[function(){return{require:"ngModel",templateUrl:"directives/common/form/item/inputTime.html",scope:{date:"=",disablePast:"=",disableEndTime:"=",disabled:"="},link:function(e,u,n,t){var i=100,r=_.range(0,24).map(function(e){return{id:e,name:e>=10?e:"0"+e}});e.hours=r;var m=_.range(0,60,5).map(function(e){return{id:e,name:e>=10?e:"0"+e}});e.minutes=m;var o=function(u,n){e.hours=_.filter(r,function(e){return e.id===u?n<m[m.length-1].id:e.id>u}),""!==e.hour&&(e.hour<u?(e.hour="",e.minute="",0===e.hours.length&&(e.minutes=[])):e.hour===u?(e.minutes=_.filter(m,function(e){return e.id>n}),""!==e.minute&&e.minute<=n&&(e.minute="")):e.minutes=m)},a=function(){if(e.date&&e.disablePast){var u=moment(),n=u.hour(),t=u.minute(),i=moment(e.date),a=i.isBefore(u,"day")||i.isSame(u,"day");a?o(n,t):(e.hours=r,e.minutes=m)}},h=function(){if(!e.disableEndTime){var u=moment().hour(e.hour).minute(e.minute).add(i,"m"),n=u.hour()>=10?u.hour():"0"+u.hour(),t=u.minute()>=10?u.minute():"0"+u.minute();e.endTime=n+":"+t}};e.$watch("date",function(u){u?a():(e.hours=r,e.minutes=m,e.hour="",e.minute=""),t.$setViewValue({hour:e.hour,minute:e.minute})}),t.$parsers.push(function(u){if(!u)return u;if(!u.hour&&0!==u.hour||!u.minute&&0!==u.minute)return null;h();var n;return n=_.isUndefined(e.date)?1e3*(3600*u.hour+60*u.minute):_.isNull(e.date)?null:moment(e.date).hour(u.hour).minute(u.minute).valueOf()}),t.$formatters.push(function(u){if(!u&&0!==u)return e.hour="",e.minute="",u;var n=null;n=e.date?moment(u):moment().startOf("day").add(u,"ms");var t={hour:n.hour(),minute:n.minute()};return e.hour=t.hour,e.minute=t.minute,h(),t}),e.onChange=function(){a(),!e.hour&&0!==e.hour||e.minute||(e.minute=0),t.$setViewValue({hour:e.hour,minute:e.minute})}}}}]);
"use strict";app.directive("phaseSubject",["Course","PHASE",function(e,t){return{restrict:"E",templateUrl:"directives/common/form/item/phaseSubject.html",scope:{formData:"=",loadingPromise:"=",phaseKeyName:"@",subjectKeyName:"@",subjectValueField:"@",labelWidthClass:"@",controlWidthClass:"@"},link:function(s){s.subjectList=e.getAllSubjects(),s.loadingPromise=s.subjectList.$promise,s.studyPhaseList=t,s.phaseKeyName=s.phaseKeyName||"studyPhase",s.subjectKeyName=s.subjectKeyName||"course",s.subjectValueField=s.subjectValueField||"prefix",s.labelWidthClass=s.labelWidthClass||"col-sm-2",s.controlWidthClass=s.controlWidthClass||"col-sm-8";var a={};a[s.phaseKeyName]="",a[s.subjectKeyName]="",_.defaults(s.formData,a),s.$watch("formData[phaseKeyName]",function(t){_.isUndefined(t)||(t?s.subjectList=e.getSubjectsByPhase(t):s.subjectList=e.getAllSubjects(),s.subjectList.$promise.then(function(e){var t=_.some(e,function(e){return e[s.subjectValueField]===s.formData[s.subjectKeyName]});t||(s.formData[s.subjectKeyName]="")}))})}}}]);
"use strict";app.directive("radioInput",function(){return{require:"^form",link:function(e,i,t,a){var r=i.prev().attr("name"),n=t.name;r&&n&&e.$watch(a.$name+"."+n+".$valid",function(e,i){e!==i&&(e?a[r].$setValidity("radioInputValueRequired",!0):a[r].$setValidity("radioInputValueRequired",!1))})}}});
"use strict";app.directive("semesterSelector",["$q","$timeout","Semester",function(e,t,a){return{require:"ngModel",restrict:"E",templateUrl:"directives/common/form/item/semesterSelector.html",scope:{labelName:"@",labelWidthClass:"@",controlWidthClass:"@"},link:function(t,r,s,i){t.labelName=t.labelName||"",t.labelWidthClass=t.labelWidthClass||"col-sm-2",t.controlWidthClass=t.controlWidthClass||"col-sm-8",t.enabled=!!t.enabled;var n="",l="-";t.year=n,t.type=n,t.semesters=a.query();var p=t.semesters.$promise.then(function(a){t.id2descMap={},t.desc2idMap={},t.years=[],t.year2typeMap={},_.isUndefined(s.enabled)||(a=_.where(a,{enable:!0})),_.each(a,function(e){var a=moment(e.startDate).year(),r={id:e.id,name:e.name},s=a+l+r.id;t.id2descMap[e.id]=s,t.desc2idMap[s]=e.id,t.years.push(a),t.year2typeMap[a]?t.year2typeMap[a].push(r):t.year2typeMap[a]=[r]}),t.years=_.uniq(t.years);var r=e.defer();return r.resolve(),r.promise});t.$watch("year",function(e){_.isUndefined(e)||(e?(t.types=t.year2typeMap[e],_.findWhere(t.types,{id:t.type})||(t.type=n)):(t.types=[],t.type=n))}),t.$watchGroup(["year","type"],function(e){var a=e[0],r=e[1];if(!_.contains(e,void 0)){if(_.contains(e,n))return void i.$setViewValue(n);var s=a+"-"+r;i.$setViewValue(t.desc2idMap[s])}}),i.$formatters.push(function(e){return e&&p.then(function(){var a=t.id2descMap[e];t.year=parseInt(a.split(l)[0]),t.type=parseInt(a.split(l)[1])}),e})}}}]);
"use strict";app.directive("tag",["$q","EpisodeTag","TAG_TYPE",function(t,e,a){return{restrict:"E",templateUrl:"directives/common/form/item/tag.html",scope:{loadingPromise:"=",formData:"=",tagType:"@"},link:function(i){i.tagType="episode"===i.tagType?a.EPISODE_TAG:"";var o={};o.tagIds="",_.defaults(i.formData,o),i.tagList=e.getAllByType({type:i.tagType}),i.loadingPromise=t.all([i.tagList.$promise])}}}]);
"use strict";app.directive("nForm",["$log",function(t){return{restrict:"A",require:["nForm","?form","?ngForm","^?editMode"],controller:["$scope",function(t){this.$attempted=!1,this.$setAttempted=function(){this.$attempted=!0},t.$on("checkSubmit",function(){this.$setAttempted()}.bind(this))}],link:function(e,n,i,r){var o=r[1]||r[2],s=r[r.length-1];if(s=s&&s.isEditMode?s.isEditMode():!1,o){var d=r[0];e.nForm=d,o.checkSubmit=function(t){if(d.$setAttempted(),e.$broadcast("checkSubmit"),!o.$invalid){var n=_.rest(_.toArray(arguments));t.apply(this,n)}},o.needsAttention=function(e,n,i){if(i=Boolean(i),!e)return!o.$valid&&d.$attempted;if(!o[e])return s&&t.warn("nForm: Can't find form item: %s.%s",o.$name,e),!1;var r=!o[e].$pending&&o[e].$invalid&&(d.$attempted||i);return n?("string"==typeof n&&(n=[n]),r&&(!n.length||n.some(function(t){return o[e].$error&&o[e].$error[t]}))):r}}}}}]);
"use strict";app.directive("nFormError",["$log","$timeout",function(n,r){return{require:["^nForm","?^form","?^ngForm"],link:function(t,o,e,i){var f=[],a=null,l=e.rel;t.$watch(e.nFormError,function(n){f=n,"string"==typeof f&&(f=[f]),a&&a()}),r(function(){if(!t.$$destroyed){var r=i[1]||i[2];if(!l){var d=o.parent().find("[ng-model][name]:first"),m=d.controller("ngModel");if(!r)return void n.warn("nFormError: can't find form");if(!m)return void n.warn("nFormError: can't find ngModel");l=m.$name}var u=null;a=function(){u&&u(),u=t.$watch(r.$name+".needsAttention('"+l+"', "+JSON.stringify(f)+","+(e.bypassAttempted||"false")+")",function(n){o.toggleClass("hide",!n)})},a()}})}}}]);
"use strict";app.directive("nFormGroup",["$log","$timeout",function(n,o){return{require:["^nForm","^?form","^?ngForm","^?editMode"],link:function(r,e,t,i){var d=i[i.length-1];d=d&&d.isEditMode?d.isEditMode():!1,o(function(){if(!r.$$destroyed){var o=i[1]||i[2],t=e.find("[ng-model][name]:first").attr("name");return o?t?void r.$watch(o.$name+".needsAttention('"+t+"')",function(n){e.toggleClass("has-error",n)}):void(d&&n.warn("nFormGroup: can't find ngModel, form=%s",o.$name)):void(d&&n.warn("nFormGroup: can't find form"))}})}}}]);
"use strict";app.directive("dialogLoading",[function(){return{restrict:"AE",templateUrl:"directives/common/loading/dialogLoading.html",scope:{dialogLoading:"="},replace:!0,link:function(i){i.loading=!0,i.$watch("dialogLoading",function(o){return o?(i.loading=!0,void o["finally"](function(){i.$$destroyed||(i.loading=!1)})):void(i.loading=!1)})}}}]);
"use strict";app.directive("loading",["delay",function(n){return{transclude:!0,template:"<ng-transclude></ng-transclude>",link:function(t,i,a){t.loading=!1,t.$watch(a.loading,function(i){i&&(t.loading=!0,n(500,i)["finally"](function(){t.$$destroyed||(t.loading=!1)}))})}}}]);
"use strict";app.directive("pageLoading",function(){return{restrict:"AE",templateUrl:"directives/common/loading/pageLoading.html",scope:{pageLoading:"="},replace:!0,link:function(i){i.loading=!0,i.$watch("pageLoading",function(n){return n?(i.loading=!0,void n["finally"](function(){i.$$destroyed||(i.loading=!1)})):void(i.loading=!1)})}}});
"use strict";app.directive("pagination",["$location","Pager",function(e,a){return{scope:{pageInfo:"=",onPage:"=",hideAll:"="},restrict:"E",templateUrl:"directives/common/pagination/pagination.html",link:function(n){n.showAll=function(){n.onPage?n.onPage(0,999999999):e.search(_.extend({},e.search(),{page:0,pageSize:999999999}))},n.switchPage=function(a){n.onPage?n.onPage(a):e.search("page",a)},n.$watchGroup(["pageInfo.totalPage","pageInfo.currentPage"],function(e){var t=e[0],o=e[1];void 0!==t&&void 0!==o?n.pages=a.getPageList(o,t):n.pages=[]})}}}]);
"use strict";app.directive("pdf",["$http","$timeout","API_SERVER",function(t,e,i){return{scope:{pdfUrl:"=",page:"="},template:"<div></div>",link:function(t,p){var r=p.find("div").first();t.$watchGroup(["pdfUrl","page"],function(){if(!t.pdfUrl||!t.page)return void r.attr("id",null);var p=(new Date).valueOf();r.attr("id",p),e(function(){new PDFObject({url:i.cms+t.pdfUrl,width:"720px",height:60+540*t.page+"px"}).embed(p)})})}}}]);
"use strict";app.directive("returnTop",[function(){return{scope:{},templateUrl:"directives/common/returnTop/returnTop.html",link:function(t){t.temp={scrollTop:!1}}}}]);
"use strict";app.directive("scroll",[function(){return{scope:{onScroll:"&",fix:"@"},link:function(o,t){var e=o.fix?angular.element(o.fix).outerHeight(!0):0,s=t.css("position"),r="absolute"===s,l=/(auto|scroll)/,c=t.parents().filter(function(){var o=$(this);return r&&"static"===o.css("position")?!1:l.test(o.css("overflow")+o.css("overflow-y")+o.css("overflow-x"))}).eq(0);c="fixed"!==s&&c.length?c:$(t[0].ownerDocument||document);var n=t.offset(),i=c.offset(),f=i.top-n.top;c.scrollTop(c.scrollTop()-f-e),o.onScroll()}}}]);
"use strict";app.directive("strToIds",[function(){return{require:"ngModel",priority:700,link:function(r,t,i,n){n.$formatters.push(function(r){return r&&!r.join&&(r=[r]),(r||[]).join(",")}),n.$parsers.push(function(r){return r&&!r.split&&(r=String(r)),(r||"").split(",")})}}}]);
"use strict";app.directive("exportCsv",["$parse",function(e){return{restrict:"A",scope:!1,link:function(t,r,n){var a="",l="",s=n.separator?n.separator:",",i=n.exportCsvIgnore||".ng-table-filters",c=n.useTextSelector||".ng-table-export-html",o={stringify:function(e){return'"'+e.replace(/^\s\s*/,"").replace(/\s*\s$/,"").replace(/"/g,'""')+'"'},generate:function(){a="";var e=r.find("tr");angular.forEach(e,function(e){var t=angular.element(e),r=t.find("th"),n="";t.is(i)||(0===r.length&&(r=t.find("td")),angular.forEach(r,function(e){var t="";e=angular.element(e),e.is(i)||(t=angular.element(e).text(),e.is(c)&&(t=angular.element(e).html(),t=t.replace(/<br>/g,"\n"),t=t.replace(/&nbsp;/g," "))),n+=o.stringify(t)+s}),n=n.slice(0,n.length-1),a+=n+"\n")});var t=new Blob([a],{type:"text/csv,charset=UTF-8"});l=URL.createObjectURL(t)},link:function(){return l}};e(n.exportCsv).assign(t.$parent,o)}}}]);
"use strict";app.directive("selectListScope",[function(){return{require:"ngModel",controller:function(){this.allValues=[]}}}]),app.directive("selectAll",[function(){return{require:["^selectListScope","ngModel"],priority:500,link:function(e,r,n,l){var t=l[0],u=l[1],a=e.$eval(n.ngTrueValue)||!0,i=e.$eval(n.ngFalseValue)||!1,s=t.allValues;u.$formatters.push(function(e){return e&&e.indexOf&&0!==s.length&&e.length===s.length?a:i}),u.$parsers.push(function(){var e=angular.isArray(u.$modelValue)?u.$modelValue:[];return e=e.length<s.length?angular.copy(s):[]})}}}]),app.directive("selectList",[function(){return{require:["^selectListScope","ngModel"],priority:500,link:function(e,r,n,l){var t=l[0],u=l[1],a=e.$eval(n.ngTrueValue)||!0,i=e.$eval(n.ngFalseValue)||!1;t.allValues.push(a),u.$formatters.push(function(e){return e&&e.indexOf&&-1!==e.indexOf(a)?a:i}),u.$parsers.push(function(e){var r=angular.isArray(u.$modelValue)?u.$modelValue:[];return r=e?_.uniq(r.concat([a])):_.without(r,a)})}}}]);
"use strict";app.directive("tbExport",["$route","$timeout",function(t,e){return{restrict:"A",scope:{csvGenerator:"=",onLoadAll:"&"},link:function(n,o){var r=document.createElement("a");r.target="_blank",r.download=o.attr("download")||".csv",o.on("click",function(){var o=n.onLoadAll();o.then&&o.then(function(){e(function(){n.csvGenerator.generate(),r.href=n.csvGenerator.link(),r.click(),t.reload()})})})}}}]);
"use strict";app.directive("thOrder",["$location",function(r){return{restrict:"E",templateUrl:"directives/common/table/thOrder.html",scope:{orderBy:"@"},link:function(e){e.sortType=r.search().sortType,e.currentOrderBy=r.search().orderBy,e.toggleOrderBy=function(t){r.search("sortType",t),r.search("orderBy",e.orderBy)}}}}]);
"use strict";app.directive("selectFile",["Toast",function(e){return{scope:{file:"=",fileType:"@",sizeLimit:"@",onSizeLimitExceeded:"&",onBeforeSelect:"=",onSelected:"&"},link:function(i,t){var n=i.fileType||"*";i.sizeLimit=i.sizeLimit?i.sizeLimit:"15M";var c=parseInt(i.sizeLimit.substring(0,i.sizeLimit.length-1)),o=i.sizeLimit[i.sizeLimit.length-1].toUpperCase();"M"===o?c=1024*c*1024:"K"===o&&(c=1024*c);var l=angular.element('<input type="file" accept="'+n+'"/>'),f=[],s=function(){i.onBeforeSelect?i.onBeforeSelect.then(function(){l.click()}):l.click()};i.$watch("onBeforeSelect",function(e){e&&(t.off("click",s),t.on("click",s))}),t.on("click",s),l.on("change",function(){i.$apply(function(){var t=l[0].files[0];if(t.size>c)e.error(""+i.sizeLimit),i.onSizeLimitExceeded(t.size);else{var n=URL.createObjectURL(t);f.push(n),i.file=n}i.onSelected({file:t}),l.val(null)})}),i.$on("$destroy",function(){f.forEach(function(){})})}}}]);
"use strict";app.directive("selectImage",["Toast",function(e){return{scope:{image:"=",imageType:"@",sizeLimit:"@",onSizeLimitExceeded:"&",onSelected:"&"},link:function(i,t){var n=i.imageType||".jpg,.jpeg,.png";i.sizeLimit=i.sizeLimit?i.sizeLimit:"10M";var c=parseInt(i.sizeLimit.substring(0,i.sizeLimit.length-1)),s=i.sizeLimit[i.sizeLimit.length-1].toUpperCase();"M"===s?c=1024*c*1024:"K"===s&&(c=1024*c);var a=angular.element('<input type="file" accept="'+n+'"/>'),o=[];t.on("click",function(){a.click()}),a.on("change",function(){i.$apply(function(){var t=a[0].files[0];if(t.size>c)e.error(""+i.sizeLimit),i.onSizeLimitExceeded(t.size);else{var n=URL.createObjectURL(t);o.push(n),i.image=n}i.onSelected({file:t}),a.val(null)})}),i.$on("$destroy",function(){o.forEach(function(){})})}}}]);
"use strict";app.directive("uploadFile",["$timeout","UploadHelper","Toast",function(l,o,e){return{scope:{fileUrl:"=",paramName:"@",fileName:"=",target:"=",fileType:"@",loadingText:"@",modelType:"@",onUploaded:"=",onUploadError:"=",onUploadedCallback:"&",onUploadErrorCallback:"&",idAttr:"@"},require:"?ngModel",templateUrl:"directives/common/upload/uploadFile.html",link:function(l,a,r,d){function t(a){l.uploadProgress=0,l.uploadTask=o.upload(a,l.target,l.paramName,l.fileName).then(function(o){o&&d&&("id"===l.modelType?d.$setViewValue(o[l.idAttr]):"meta"===l.modelType&&d.$setViewValue(o)),l.onUploaded&&l.onUploaded(o),l.onUploadedCallback&&l.onUploadedCallback({result:o})},function(o){e.error(""+(l.fileType?l.fileType:"")+""),l.onUploadError&&l.onUploadError(o),l.onUploadErrorCallback&&l.onUploadErrorCallback({xhr:o}),l.fileUrl=null},function(o){l.uploadProgress=Math.floor(100*o)})}l.uploadProgress=0,l.idAttr=l.idAttr||"fileId",l.$watch("fileUrl",function(l){l&&t(l)})}}}]);
"use strict";app.directive("uploadImage",["$timeout","Gallery","Toast",function(e,o,a){return{scope:{imageUrl:"=",onUploaded:"=",onUploadError:"&",imageType:"@",loadingText:"@",modelType:"@",privateImage:"=",fileName:"="},require:"?ngModel",templateUrl:"directives/common/upload/uploadFile.html",link:function(e,l,r,i){function n(l){e.uploadProgress=0,e.uploadTask=o.upload(l,e.privateImage,e.fileName).then(function(o){i&&("id"===e.modelType?i.$setViewValue(o.imageId):"meta"===e.modelType&&i.$setViewValue(o)),e.onUploaded&&e.onUploaded(o)},function(){a.error(""+(e.imageType?e.imageType:"")+""),e.onUploadError&&e.onUploadError(),e.imageUrl=null},function(o){e.uploadProgress=Math.floor(100*o)})}e.uploadProgress=0,e.$watch("imageUrl",function(e){e&&n(e)})}}}]);
"use strict";app.directive("content",["Syllabus","TextbookSuite","Keypoint","$q","Content","DIFFICULTY","Toast",function(t,e,n,o,i,s,a){return{scope:{subjectId:"=",phase:"=",readonly:"=",keynoteTitle:"=?"},require:"ngModel",templateUrl:"directives/content.html",link:function(c,u,r,l){function p(){c.formData=$.extend(!0,{catalogId:null,keypointIds:[]},c.content)}function d(){c.syllabuses=[],c.textbookSuites=[],c.keypoints=[]}function m(){c.syllabuses=t.query({subjectId:c.subjectId,phase:c.phase}),c.textbookSuites=e.query({subjectId:c.subjectId,phase:c.phase}),c.textbookSuites.$promise.then(function(t){t.length>0&&!c.formData.catalogId&&(c.formData.catalogId=t[0].id)}),c.loadingPromise=o.all([c.syllabuses.$promise,c.textbookSuites.$promise])}function f(t){c.content=i.get({contentId:t}),c.content.$promise.then(p),c.loadingPromise=c.content.$promise}c.formData={},c.temp={},c.DIFFICULTY=s,l.$formatters.push(function(t){return t?f(t):(c.content=new i,p()),t}),c.$watchGroup(["subjectId","phase"],function(t){d();var e=t[0],n=t[1];e&&n&&m()}),c.$watch("formData.catalogId",function(t,e){!e&&t&&c.formData.keypointIds&&c.formData.keypointIds.length||(c.formData.keypointIds=[]),t&&(c.keypoints=n.query({catalogId:t}),c.loadingPromise=c.keypoints.$promise)}),c.onDialogSubmit=function(){var t=i.save(c.formData);c.loadingPromise=t.$promise,c.loadingPromise.then(function(){c.temp.settingDialog=!1}),t.$promise.then(function(t){l.$setViewValue(t.id),f(t.id)})},c.openSettingDialog=function(){c.temp.settingDialog=!0},c.closeSettingDialog=function(){c.temp.settingDialog=!1},c.save=function(t){c.content.$save||(c.content=new i(c.content)),c.content.$save().then(function(e){l.$setViewValue(e.id),f(e.id),a.success(t)})}}}}]);
"use strict";app.directive("teacherBasic",["Teacher","Confirm","Toast","GENDER",function(a,e,t,c){return{restrict:"E",templateUrl:"directives/detailInfo/basic.html",scope:{teacherId:"=",data:"="},link:function(i){function n(c,n){var d="",s="",o="",l="",u="";switch(n){case"avatar":o=i.data.avatar,l=c.avatar,u="";break;case"desc":d=i.data.desc,s=c.desc,u=""}e.show({title:"",text:[d,s],imageIds:[o,l],tag:["",""]}).then(function(){i.loadingPromise=a.updateDetailInfo(r,c).$promise.then(function(){return t.success(u),i.data=a.getDetailInfoByType(r),i.data.$promise.then(function(){i.cancelEdit()})})})}i.GENDER=c,i.isEdit=!1;var r={teacherId:i.teacherId,type:"basic"};i.editDesc=function(){i.isEdit=!0,i.temp.teacherDesc=i.data.desc},i.cancelEdit=function(){i.isEdit=!1},i.updateDesc=function(){var a=angular.copy(i.data);a.desc=i.temp.teacherDesc,n(a,"desc")},i.temp={uploadImageUrl:null,uploadImageId:null,teacherDesc:""},i.$watch("temp.uploadImageId",function(a){if(a){var e=angular.copy(i.data);e.avatar=a,i.temp.uploadImageUrl=null,n(e,"avatar")}}),i.onUploadError=function(){i.temp.uploadImageUrl=null}}}}]);
"use strict";app.directive("teacherCertification",["Teacher","Confirm","Toast",function(e,t,i){return{restrict:"E",templateUrl:"directives/detailInfo/certification.html",scope:{teacherId:"=",data:"="},link:function(n){function a(a,c){var s=""+(c?"":"")+"",d=(c?"":"")+"";t.show({title:s,text:": "+n.data.entries[a].desc}).then(function(){n.loadingPromise=e.hideDetailInfoEntry({teacherId:n.teacherId,type:r,entryId:n.data.entries[a].id,hide:c},null).$promise.then(function(){return i.success(d),e.getDetailInfoByType({teacherId:n.teacherId,type:r}).$promise.then(function(e){n.data.entries[a]=e.entries[a],n.cancelEdit(a)})})})}var r="certification";n.temp={formsData:[],isEdits:[]},n.edit=function(e){n.temp.isEdits[e]=!0,n.temp.formsData[e].desc=n.data.entries[e].desc},n.cancelEdit=function(e){n.temp.isEdits[e]=!1},n.updateDesc=function(a){var c={teacherId:n.teacherId,type:r},s=n.data.entries[a].desc,d=n.temp.formsData[a].desc;t.show({title:"",text:[s,d],tag:["",""]}).then(function(){var t=angular.copy(n.data);t.entries[a].desc=d,n.loadingPromise=e.updateDetailInfo(c,t).$promise.then(function(){return i.success(""),e.getDetailInfoByType(c).$promise.then(function(e){n.data.entries[a]=e.entries[a],n.cancelEdit(a)})})})},n.hide=function(e){a(e,!0)},n.cancelHide=function(e){a(e,!1)},n.isDisableHide=function(){if(n.data.entries){var e=_.filter(n.data.entries,function(e){return"hidden"!==e.status});return 1===e.length}return!0},n.$watch("data",function(e){_.isUndefined(e)||_.each(e.entries,function(){n.temp.isEdits.push(!1),n.temp.formsData.push({})})},!0)}}}]);
"use strict";app.directive("teacherEducation",["DEGREE",function(t){return{restrict:"E",templateUrl:"directives/detailInfo/education.html",scope:{teacherId:"=",data:"="},link:function(e){e.DEGREE=t}}}]);
"use strict";app.directive("teacherExperience",["Teacher","Confirm","Toast",function(e,t,n){return{restrict:"E",templateUrl:"directives/detailInfo/experience.html",scope:{teacherId:"=",data:"="},link:function(i){function a(a,s){var c=""+(s?"":"")+"",d=(s?"":"")+"";t.show({title:c,text:": "+i.data.entries[a].desc}).then(function(){i.loadingPromise=e.hideDetailInfoEntry({teacherId:i.teacherId,type:r,entryId:i.data.entries[a].id,hide:s},null).$promise.then(function(){return n.success(d),e.getDetailInfoByType({teacherId:i.teacherId,type:r}).$promise.then(function(e){i.data.entries[a]=e.entries[a],i.cancelEdit(a)})})})}var r="experience";i.temp={formsData:[],isEdits:[]},i.edit=function(e){i.temp.isEdits[e]=!0,i.temp.formsData[e].desc=i.data.entries[e].desc},i.cancelEdit=function(e){i.temp.isEdits[e]=!1},i.updateDesc=function(a){var s={teacherId:i.teacherId,type:r},c=i.data.entries[a].desc,d=i.temp.formsData[a].desc;t.show({title:"",text:[c,d],tag:["",""]}).then(function(){var t=angular.copy(i.data);t.entries[a].desc=d,i.loadingPromise=e.updateDetailInfo(s,t).$promise.then(function(){return n.success(""),e.getDetailInfoByType(s).$promise.then(function(e){i.data.entries[a]=e.entries[a],i.cancelEdit(a)})})})},i.hide=function(e){a(e,!0)},i.cancelHide=function(e){a(e,!1)},i.isDisableHide=function(){if(i.data.entries){var e=_.filter(i.data.entries,function(e){return"hidden"!==e.status});return 1===e.length}return!0},i.$watch("data",function(e){_.isUndefined(e)||_.each(e.entries,function(){i.temp.isEdits.push(!1),i.temp.formsData.push({})})},!0)}}}]);
"use strict";app.directive("teacherIdentification",[function(){return{restrict:"E",templateUrl:"directives/detailInfo/identification.html",scope:{teacherId:"=",data:"="},link:function(){}}}]);
"use strict";app.directive("teacherTeachInfo",["Course","GRADE",function(e,t){return{restrict:"E",templateUrl:"directives/detailInfo/teachInfo.html",scope:{teacherId:"=",data:"="},link:function(a){a.GRADE=t,a.subjects=e.getAllSubjects(),a.$watch("data",function(e){if(!_.isUndefined(e)&&e.grades){var t=[];_.each(e.grades,function(e){11!==e.id&&t.push(e)}),e.grades=t}},!0)}}}]);
"use strict";app.directive("deviceInfo",[function(){return{scope:{deviceInfo:"="},templateUrl:"directives/deviceInfo.html",link:function(e){e.$watch("deviceInfo",function(i){if(e.device=i,i)try{-1!==i.indexOf("MODEL")&&(e.device=JSON.parse(i))}catch(c){return}})}}}]);
"use strict";app.directive("addEP",["$route",function(){return{templateUrl:"directives/dialogs/addEP.html",scope:{config:"=",onClose:"&",onComplete:"&"},link:function(n){n.config=_.extend({epNum:"",postponeType:"week",postponeInterval:""}),n.isEPNumInvalid=!1,n.isIntervalInvalid=!1,n.$watch("config.epNum",function(i){return void 0!==i&&""!==i?(i=parseInt(i),i>0?void(n.isEPNumInvalid=!1):void(n.isEPNumInvalid=!0)):void(n.isEPNumInvalid=!1)}),n.$watch("config.postponeInterval",function(i){return"day"!==n.config.postponeType||void 0===i||""===i?void(n.isIntervalInvalid=!1):(i=parseInt(i),7>i&&i>0?void(n.isIntervalInvalid=!1):void(n.isIntervalInvalid=!0))}),n.submit=function(){n.onComplete(),n.onClose()}}}}]);
"use strict";app.directive("addQqgroup",["TutorQQ","$route",function(t,o){return{templateUrl:"directives/dialogs/addQqgroup.html",scope:{onClose:"&"},link:function(e){e.formData={},e.submit=function(){t.save(e.formData,null).$promise.then(function(){o.reload()})}}}}]);
"use strict";app.directive("amendEpisode",["$route","Episode","Toast","Serial",function(e,o,a,r){return{scope:{episode:"=?",episodeId:"=",type:"@",onCancel:"&"},templateUrl:"directives/dialogs/amendEpisode.html",link:function(i){i.formData={},i.episode||(i.episode=o.get({episodeId:i.episodeId})),i.submit=function(){var t=i.episode.endTime-i.episode.startTime,n=i.formData.changeTime+t,s="tutorial"===i.type?o:r;s.amend({episodeId:i.episode.id,startTime:i.formData.changeTime,endTime:n,workOrderNo:i.formData.workOrderNo},null).$promise.then(function(){a.success(""),i.onCancel(),e.reload()})["catch"](function(e){return 412===e.status&&a.error(""),e.processed(412)})},i.$watchGroup(["changeHour","formData.changeTime"],function(e){var o=0;if(i.changeHour){o=parseInt(e[0],10);var r=o+i.episode.classHour-1;r>=24?(a.error(""),i.changeHour=7):i.changeEndTime=o+i.episode.classHour-1+":55"}if(i.formData.changeTime){var t=new Date(i.formData.changeTime);i.formData.changeTime=t.setHours(o)}})}}}]);
"use strict";app.directive("amendSerial",["$location","$q","$filter","Toast","Serial",function(t,e,a,r,i){return{templateUrl:"directives/dialogs/amendSerial.html",scope:{serial:"=",onCancel:"&"},link:function(e){e.formData={},e.now=moment().startOf("day").valueOf(),e.submit=function(){i.amendTerm({serialId:e.serial.id,targetStartTime:e.formData.targetStartTime,targetEndTime:e.formData.targetEndTime,repeatTime:e.formData.repeatTime},null).$promise.then(function(a){e.onCancel(),r.success(""),t.path("/serials/"+a.result)},function(t){t.processed();var e=JSON.parse(t.data.result);r.error(""+e.message)})},e.$watchGroup(["formData.targetStartTime","formData.targetEndTime"],function(t){if(!_.contains(t,void 0)&&!_.contains(t,null)){var a=moment(t[0]).format("HH:mm"),r=moment(t[1]).format("HH:mm");e.formData.repeatTime=" "+a+"-"+r}})}}}]);
"use strict";app.directive("confirm",["Confirm",function(i){return{templateUrl:"directives/dialogs/confirm.html",link:function(n){n.confirmInfo=i.confirmInfo}}}]);
"use strict";app.directive("deviceTest",["DeviceTest",function(e){return{templateUrl:"directives/dialogs/deviceTest.html",scope:{user:"=",udid:"="},link:function(i){i.testParser={incomplete:"",success:"",failed:"","true":"","false":"",network:"",voice:""},i.$watch(i.udid?"udid":"user.id",function(t){if(t){if(i.udid&&"unknown"!==i.udid)i.deviceTest=e.getByUDID({UDID:i.udid});else{if(!i.user)return;i.deviceTest=e.get({userId:i.user.id})}i.temp={},i.loadingPromise=i.deviceTest.$promise,i.loadingPromise.then(function(e){e.history&&e.history.forEach(function(e){e.network&&(e.network=JSON.parse(e.network))})})["catch"](function(e){return e.processed(404)})}})}}}]);
"use strict";app.directive("dialog",["Utils",function(o){return{scope:{showModal:"=",onClose:"&"},link:function(e,n){function c(c){c.preventDefault(),n[0].close(),e.onClose&&e.onClose(),o.safeApply(e)}e.$watch("open",function(o){void 0===o||o?n[0].showModal():n[0].close()}),n.on("cancel",c),n.on("click",".dialog-header .close",c),e.$on("$destroy",function(){n.off("cancel",c),n.off("click",".dialog-header .close",c)})}}}]);
"use strict";app.directive("editPost",["$route","Toast","SeasonPost","Shipment","Utils",function(t,o,e,s,n){return{scope:{type:"@",post:"=",onCancel:"&"},templateUrl:"directives/dialogs/editPost.html",link:function(e){e.formData={phone:e.post.phone,province:e.post.province,city:e.post.city,county:e.post.county,address:e.post.address},e.$watch("formData",function(t){t&&(e.isChanged=!n.checkPristine(e.post,e.formData,["phone","province","city","county","address"]))},!0),e.submit=function(){if("serial"===e.type||"season"===e.type){var n={id:e.post.shipmentId,phone:e.formData.phone,province:e.formData.province,city:e.formData.city,county:e.formData.county,address:e.formData.address};e.loadingPromise=s.save({shipmentId:e.post.shipmentId},n,function(){e.onCancel(),o.success(""),t.reload()},function(){o.error("")}).$promise}}}}}]);
"use strict";app.directive("editTag",["$route","Tag",function(t,a){return{templateUrl:"directives/dialogs/editTag.html",scope:{tags:"=",type:"=",onClose:"&",onComplete:"&"},link:function(t){function e(){t.tagList=a.getAll(t.type),t.tagList.$promise.then(function(a){_.forEach(a,function(a){t.tagMap[a.id]=a,t.tagNameList.push(a.name)})})}function n(a){return t.tagNameList.indexOf(a)>-1}t.tagList=[],t.tagMap={},t.tagNameList=[],t.isTagNameExist=!1,e(),t.formData={newTag:"",tagIds:[]},_.forEach(t.tags,function(a){t.formData.tagIds.push(a.id)}),t.submit=function(){t.tags.splice(0,t.tags.length),_.forEach(t.formData.tagIds,function(a){t.tags.push(t.tagMap[a])}),t.onComplete(),t.onClose()},t.addTag=function(){var n={};n.name=t.formData.newTag,a.save(t.type,n).$promise.then(function(a){e(),t.formData.newTag="",t.formData.tagIds.push(a.id)})},t.$watch("formData.newTag",function(a){t.isTagNameExist=n(a)})}}}]);
"use strict";app.directive("fireTeacher",["Toast","Teacher",function(e,t){return{scope:{teacher:"=",onCancel:"&"},templateUrl:"directives/dialogs/fireTeacher.html",link:function(e){e.submit=function(c){e.actionLog=t.fire({teacherId:c.id,comment:e.formData.comment},{})},e.onLogClose=function(){e.onCancel(),e.teacher.$get()}}}}]);
"use strict";app.directive("hideComment",["$route","Comment","Toast",function(e,n,t){return{scope:{comments:"=",onCancel:"&"},templateUrl:"directives/dialogs/hideComment.html",link:function(m){m.commentsInfo=_.map(m.comments,function(e){var n={studentNickName:e.studentNickName,comment:e.comment,complained:e.complained};return n.comment&&n.comment.length>15&&(n.comment=n.comment.substr(0,15)+"..."),n}),m.submit=function(){var o=[],c=[];_.each(m.comments,function(e){o.push(e.episodeId),c.push(e.id)}),n.hideComment({"episodeIds[]":o,"commentIds[]":c,reason:m.formData.reason},null).$promise.then(function(){m.onCancel(),t.success(""),e.reload()})}}}}]);
"use strict";app.directive("hideTeacher",["$filter","Toast","Teacher",function(e,t,c){return{scope:{teacher:"=",hide:"=",onCancel:"&"},templateUrl:"directives/dialogs/hideTeacher.html",link:function(e){e.formData={},e.submit=function(){if(e.hide){var i={teacherId:e.teacher.id,hide:!0,comment:e.formData.comment||""};c.hide(i,null,function(){e.onCancel(),t.success(""),e.teacher.$get()})}else c.hide({teacherId:e.teacher.id,hide:!1},null,function(){e.onCancel(),t.success(""),e.teacher.$get()})}}}}]);
"use strict";app.directive("interview",["$route","Confirm","Toast","Account","Interview","$filter",function(t,e,a,n,r,c){return{scope:{onCancel:"&"},templateUrl:"directives/dialogs/interview.html",link:function(o){var i=moment().startOf("day");o.formData={type:"lecture",account:"",startTime:i.add(1,"d").valueOf()},o.courseTypes=[{value:"tutorial",name:""},{value:"lecture",name:""}],o.submit=function(){var i=[];n.getAccountInfo({account:o.formData.account},null).$promise.then(function(n){o.teacherAccount=n,o.formData.endTime=o.formData.startTime+18e5,i.push(""+o.teacherAccount.nickname),i.push(": "+c("date")(o.formData.startTime,"yyyy.MM.dd HH:mm")+"-"+c("date")(o.formData.endTime,"HH:mm")),i.push(""),e.show({title:"",text:i}).then(function(){r.reserve({type:o.formData.type,teacherId:o.teacherAccount.id,startTime:o.formData.startTime}).$promise.then(function(){a.success("!"),o.onCancel(),t.reload()})})})}}}}]);
"use strict";app.directive("interviewVerify",["$route","Toast","Interview",function(e,t,i){return{scope:{episodeId:"=",teacherId:"=",onCancel:"&"},templateUrl:"directives/dialogs/interviewVerify.html",link:function(o){o.formData={operation:"pass"},o.submit=function(){i.verify({episodeId:o.episodeId,teacherId:o.teacherId,operation:o.formData.operation,reason:o.formData.reason},null).$promise.then(function(){t.success(""),o.onCancel(),e.reload()})}}}}]);
"use strict";app.directive("jumpConfirm",[function(){return{restrict:"E",transclude:!0,scope:{changed:"=",leaveTitle:"@",confirmText:"@",cancelText:"@"},templateUrl:"directives/dialogs/leaveConfirm.html",link:function(e){e.close=function(){e.dialog=!1},e.$on("$locationChangeStart",function(i,t){return e.dialog||!e.changed?void(e.dialog=!1):(e.dialog=!0,e.leaveUrl=t.substring(t.indexOf("#")),void i.preventDefault())})}}}]);
"use strict";app.directive("leaveConfirm",[function(){return{restrict:"E",require:["?^form","?^ngForm"],transclude:!0,scope:{leaveTitle:"@",confirmText:"@",cancelText:"@"},templateUrl:"directives/dialogs/leaveConfirm.html",link:function(e,i,r,t){var n=t[0]||t[1];e.close=function(){e.dialog=!1},e.isForce=!1,e.$on("$locationChangeStart",function(i,r){return e.isForce||n.$pristine?(e.dialog=!1,void(e.isForce=!1)):(e.dialog=!0,e.isForce=!0,e.leaveUrl=r.substring(r.indexOf("#")),void i.preventDefault())})}}}]);
"use strict";app.directive("manualSettle",["$route","Confirm","Toast","Lecture",function(t,e,a,n){return{scope:{lectureId:"=",onCancel:"&"},templateUrl:"directives/dialogs/manualSettle.html",link:function(l){l.formData={settle:0},l.submit=function(){var r=[];parseInt(l.formData.settle)?(r.push(""),r.push("")):(r.push(""),r.push(""),r.push("")),e.show({title:"",text:r}).then(function(){n.manualSettle({lectureId:l.lectureId,settle:parseInt(l.formData.settle),workNo:l.formData.workNo},null).$promise.then(function(){a.success(""+(parseInt(l.formData.settle)?"":"")+""),l.onCancel(),t.reload()})})}}}}]);
"use strict";app.directive("modal",["Utils",function(o){return{restrict:"C",scope:{onClose:"&"},link:function(n,e){e.modal({backdrop:"static",keyboard:!0});var s=parseInt($(".modal-backdrop").css("z-index"),10);e.css("z-index",s+1),e.on("hidden.bs.modal",function(){n.onClose(),o.safeApply(n)}),n.$on("$destroy",function(){e.modal("hide")})}}}]);
"use strict";app.directive("processComplaint",["$route","Complaint","Toast",function(t,n,e){return{scope:{complaints:"=",onCancel:"&"},templateUrl:"directives/dialogs/processComplaint.html",link:function(o){o.formData={},o.complaintsInfo=_.map(o.complaints,function(t){var n={studentName:t.studentName,content:t.content};return n.content&&n.content.length>15&&(n.content=n.content.substr(0,15)+"..."),n}),o.submit=function(){var s=[],a=[];_.each(o.complaints,function(t){s.push(t.episodeId),a.push(t.id)}),n.hideComment({"episodeIds[]":s,"commentIds[]":a,reason:o.formData.reason,hide:o.formData.hide},null).$promise.then(function(){o.onCancel(),e.success(""),t.reload()})}}}}]);
"use strict";app.directive("refund",["$route","Toast","Episode","Season","Serial",function(e,r,o,d,n){return{scope:{episode:"=",season:"=",trade:"=",serial:"=",onCancel:"&"},templateUrl:"directives/dialogs/refund.html",link:function(s){s.formData={},s.submit=function(){s.episode&&o.refund({episodeId:s.episode.id,workOrderNo:s.formData.workOrderNo},null,function(){r.success(""),s.onCancel(),e.reload()}),s.season&&s.trade&&d.refund({seasonId:s.season.id,orderId:s.trade.orderId,workOrderNo:s.formData.workOrderNo},null,function(){s.onCancel(),r.success(""),e.reload()}),s.serial&&n.refund({serialId:s.serial.id,workOrderNo:s.formData.workOrderNo},null,function(){r.success(""),s.onCancel(),e.reload()})}}}}]);
"use strict";app.directive("remark",["$route","Toast","Episode",function(e,r,o){return{scope:{episodeId:"=",onCancel:"&"},templateUrl:"directives/dialogs/remark.html",link:function(i){i.formData={},i.submit=function(){i.episodeId&&o.remark({episodeId:i.episodeId,remark:i.formData.remark},null).$promise.then(function(){r.success(""),i.onCancel(),e.reload()})}}}}]);
"use strict";app.directive("retire",["$route","Toast","Lecture","Serial",function(e,r,t,i){return{scope:{lectureId:"=",serial:"=",onCancel:"&"},templateUrl:"directives/dialogs/retire.html",link:function(l){l.formData={},l.submit=function(){l.lectureId&&t.retire({lectureId:l.lectureId,reason:l.formData.reason},null).$promise.then(function(){r.success(""),l.onCancel(),e.reload()}),l.serial&&i.close({serialId:l.serial.id},null).$promise.then(function(){r.success(""),l.onCancel(),e.reload()})}}}}]);
"use strict";app.directive("transferSeason",["$route","$q","Season","SeasonPrototype","Toast","TRANSFER_SEASON_STATUS",function(e,n,t,a,o,r){return{templateUrl:"directives/dialogs/transferSeason.html",scope:{trade:"=",season:"=",onCancel:"&"},link:function(a){function s(e){a.seasons=_.filter(e,function(e){return e.nameWithBuyerCount=e.name+"("+e.buyerCount+")",e.id!==a.season.id}),a.formData.newSeasonId=a.seasons.length?a.seasons[0].id:""}a.temp={changeGradeAndSubject:!1},a.formData={};var i={filterStatus:r,pageSize:999999999};a.loadingPromise=n.all([a.gradeSubjectPromise,t.query(i).$promise]).then(function(e){s(e[1])}),a.$watchGroup(["temp.gradeId","temp.subject"],function(e){_.contains(e,void 0)||_.contains(e,"")||(i.gradeId=e[0],i.subject=e[1],a.loadingPromise=t.query(i).$promise.then(function(e){s(e)}))}),a.submit=function(){var n=_.extend({},a.formData,{orderId:a.trade.orderId,seasonId:a.season.id});t.transfer(n,null).$promise.then(function(){a.onCancel(),o.success(""),e.reload()})},a.onChangeGradeAndSubject=function(){a.temp.changeGradeAndSubject=!a.temp.changeGradeAndSubject}}}}]);
"use strict";app.directive("transferSerial",["$route","$q","$filter","Toast","Serial",function(e,t,a,r,i){return{templateUrl:"directives/dialogs/transferSerial.html",scope:{serial:"=",onCancel:"&"},link:function(t){function s(e){t.serials=_.filter(e,function(e){return e.saleStatus=i.getSaleStatus(e,!0),e.saleStatusEn=i.getSaleStatus(e,!1),e.serialStatusEn=i.getSerialStatus(e,!1),e.time=a("date")(e.startTime,"yyyy.MM.dd")+"-"+a("date")(e.endTime,"yyyy.MM.dd")+e.repeatTime+"("+e.saleStatus+")",e.id!==t.serial.id&&"noAppointed"===e.saleStatusEn&&e.startTime>t.now&&"offShelf"!==e.serialStatusEn}),t.serials.length&&(t.formData.toSerialId=t.serials[0].id)}t.formData={};var n={account:t.serial.teacherId,saleStatus:"before",pageSize:999};t.now=_.now(),i.query(n).$promise.then(function(e){s(e)}),t.submit=function(){var a=_.extend({},t.formData,{serialId:t.serial.id});i.transfer(a,null).$promise.then(function(){t.onCancel(),r.success(""),e.reload()})}}}}]);
"use strict";app.directive("directoryIndex",["$rootScope",function(n){return{link:function(c,i,e){function o(){n.$broadcast("switchGlobalIndex",c.$eval(e.index))}function t(){var n=c.$eval(e.index);r===n?i.addClass("active"):i.removeClass("active")}function a(n,c){r=c,t()}var r=0;i.on("click",o),c.$watch(e.index,t);var d=n.$on("switchGlobalIndex",a);c.$on("$destroy",function(){i.off("click"),d()})}}}]);
"use strict";app.directive("directoryReferenceContainer",["$rootScope",function(o){return{link:function(e,t){function r(o,e){if(e!==n){n=e;var r=t.find("[directory-reference="+n+"]"),c=0,s=r.css("position"),i="absolute"===s,f=/(auto|scroll)/,l=r.parents().filter(function(){var o=$(this);return i&&"static"===o.css("position")?!1:f.test(o.css("overflow")+o.css("overflow-y")+o.css("overflow-x"))}).eq(0);l="fixed"!==s&&l.length?l:$(r[0].ownerDocument||document);var a=r.offset(),u=l.offset(),d=u.top-a.top;l.scrollTop(l.scrollTop()-d-c)}}var n=0,c=o.$on("switchGlobalIndex",r);e.$on("$destroy",function(){t.off("scroll"),c()}),t.on("scroll",function(){var e=t.offset().top,r=_.find(t.find("[directory-reference]").toArray(),function(o){var t=$(o).offset().top;return t>=e});if(r){var c=parseInt(r.getAttribute("directory-reference"),10);n=c,o.$broadcast("switchGlobalIndex",c)}})}}}]);
"use strict";app.directive("epSearch",["$location","$q","Course","PHASE","Pager","Account","Teacher","Toast","CmsEpisode",function(e,s,o,t,a,c,i,n,d){return{scope:{selectedEpisodeIds:"=",subjectId:"=",phase:"=",onCancel:"&"},templateUrl:"directives/epSearch.html",link:function(e){e.formData={},_.defaults(e.formData,{tagIds:""}),e.temp={},e.showTable=!0,e.submit=function(){e.showTable=!1,e.loadingPromise=d.query({"tagIds[]":e.formData.tagIds,episodeInfo:e.formData.episodeInfo,teacherInfo:e.formData.teacherInfo,pageSize:999999,subject:e.subjectId,phase:e.phase}).$promise.then(function(s){e.episodes=s,_.each(e.episodes,function(e){e.tagNameStr=_.pluck(e.tags,"name").join()}),e.showTable=!0})},e.reset=function(){e.formData={},e.episodes=[],n.success("")},e.loadingPromise=e.tagPromise,e.cancel=function(){e.onCancel()},e.submitAdd=function(){e.selectedEpisodeIds.push.apply(e.selectedEpisodeIds,e.temp.selectedEpisodeIds),console.log("search episodeIds:"+e.selectedEpisodeIds),e.onCancel()}}}}]);
"use strict";app.directive("feedback",[function(){return{templateUrl:"directives/feedback.html",scope:{feedback:"="},link:function(e){if(e.feedback.description){var i="init",t=[],n=[];e.feedback.description.split("\r\n").forEach(function(r){if(0===r.indexOf(""))return void(i="attachment");if("content"===i)return void t.push(r);if("attachment"===i)return void n.push(r);if(0===r.indexOf(""))return void(i="content");if(0===r.indexOf(""))return void(e.feedback.version=r.split("")[1]);if(0===r.indexOf("")){var d=r.split("")[1];return void(e.feedback.device=/(iphone|ipad)/i.test(d)?d:"Android")}}),e.feedback.description=t.join("\r\n"),e.feedback.attachments=n.filter(function(e){return 0===e.indexOf("http")})}}}}]);
"use strict";app.directive("galleryResourceName",["GalleryResource",function(e){return{template:"{{resource.filename}}",scope:{resourceId:"="},link:function(r){r.resource=e.get({resourceId:r.resourceId})}}}]);
"use strict";app.directive("inputKeynote",["API_SERVER","$location",function(e,t){return{templateUrl:"directives/inputKeynote.html",require:"ngModel",scope:{contentId:"=",subjectId:"=",phase:"=",readonly:"=",keypointIds:"=",catalogId:"=",title:"="},link:function(n,o,i,a){n.API_SERVER=e,a.$formatters.push(function(e){return n.keynoteId=e,e}),n.uploadTarget=e.cms+"tutor-crm-keynote/api/keynotes/upload?"+$.param({subjectId:n.subjectId,phase:n.phase}),n.onSuccess=function(e){a.$setViewValue(e.id),n.keynoteId=e.id},n.onError=function(){n.temp.uploadFileUrl=null},n.temp={},n.jumpToKeynoteEdit=function(){t.url("/keynotes/"+(n.keynoteId||"create")+"?"+$.param({catalogId:n.catalogId,keypointIds:n.keypointIds,contentId:n.contentId,title:n.title}))}}}}]);
"use strict";app.directive("keynote",["API_SERVER",function(e){return{scope:{keynote:"=",contentId:"="},restrict:"E",templateUrl:"directives/keynote/keynote.html",link:function(t){t.temp={},t.inited=!1,t.QUESTION_LAYOUT=[{id:"default",name:""},{id:"contentOptImag",name:"contentOptImag"},{id:"contImagOption",name:"contImagOption"},{id:"contImagOptImag",name:"contImagOptImag"}],t.$watch("keynote.sections",function(e){function n(e,t){"question"===t.type&&(t.layout=t.layout||"default"),t.__trackId=e+"|"+[t.type,t.id,t.name,t.editorResourceId,t.resourceId,t.keypointId,t.questionRole,t.questionId,t.definedName,t.layout].join("-"),"paradigmSet"===t.type&&(t.__trackId+="&"+t.subsections[0].definedName),"questionWithSolutionSet"===t.type&&(t.__trackId+="&"+t.subsections[0].questionId),t.subsections&&t.subsections.length?t.subsections.forEach(n.bind(null,t.__trackId)):t.__leafNodeIndex=u++}t.inited=!0;var o=0,i=0;_.filter(e,function(e){return"knowledgeSet"===e.type}).forEach(function(e,t){e.__index=t,_.filter(e.subsections,function(e){return"paradigmSet"===e.type}).forEach(function(e){e.__index=o++,_.filter(e.subsections,function(e){return"questionWithSolutionSet"===e.type}).forEach(function(e){e.__index=i++}),_.filter(e.subsections,function(e){return"question"===e.type&&"example"===e.questionRole}).forEach(function(e,t){e.__index=t})})});var u=0;e&&e.length&&e.forEach(n.bind(null,"root"))},!0),t.uploadTarget=e.cms+"/tutor-crm-keynote/api/resources",t.onUpdateQuestion=function(e,t,n,o){Object.keys(e).forEach(function(t){delete e[t]}),"example"===o?(e.questionId=t,e.keypointId=n,e.questionRole="example",e.type="question"):"exercise"===o&&(e.type="questionWithSolutionSet",e.subsections=[{questionId:t,questionRole:"exercise",keypointId:n,type:"question"},{questionId:t,questionRole:"only_solution",keypointId:n,type:"question"}])}}}}]);
"use strict";app.directive("keynoteDirectory",[function(){return{templateUrl:"directives/keynote/keynoteDirectory.html",scope:{keynote:"=",contentId:"="},link:function(e){e.temp={insertQuestion:!1},e.insertQuestion=function(t,i){e.temp.insertQuestion=!0,e.temp.insertQuestionSection=i,e.temp.questionKeypointIds=[t]},e.onInsertQuestion=function(t,i,n){e.temp.questionKnowledgeId=[],e.temp.insertQuestion=!1;var o=e.temp.insertQuestionSection;if(e.temp.insertQuestionSection=null,t){var s=null;"example"===n?s={type:"question",keypointId:i,questionId:t,questionRole:"example"}:"exercise"===n&&(s={type:"questionWithSolutionSet",subsections:[{type:"question",keypointId:i,questionId:t,questionRole:"exercise"},{type:"question",keypointId:i,questionId:t,questionRole:"only_solution"}]}),s&&(o.subsections=o.subsections||[],o.subsections.push(s))}},e.editParadigm=function(e){var t=e.subsections[0],i=window.prompt("",t.definedName);i.length>24&&window.alert("24"),i&&(t.definedName=i,delete t.editorResourceId)},e.addParadigm=function(e){var t=window.prompt("");t&&(t.length>24&&window.alert("24"),e.subsections=e.subsections||[],e.subsections.push({type:"paradigmSet",subsections:[{type:"paradigm",definedName:t}]}))},e.removeParadigm=function(e,t){window.confirm("")&&e.subsections.splice(e.subsections.indexOf(t),1)},e.removeQuestion=function(e,t){e.subsections.splice(e.subsections.indexOf(t),1)},e.sortableOptions={update:function(e,t){for(var i=t.item,n=i.index(),o=i.data("originPosition"),s=t.item.scope().section,u=t.item.scope();u.section===s;)u=u.$parent;var c=u.section||u.keynote,r=c.subsections||c.sections,d=r.indexOf(s),p=n-o,a=d+p;r.splice(d,1),r.splice(a,0,s),u.$apply()},start:function(e,t){var i=t.item,n=i.index();i.data("originPosition",n)},items:"> li:not(.section-title):not(.section-knowledgeDiagram):not(.link):not(.section-knowledge):not(.section-timeDistribution)",handle:".title",cursor:"move"}}}}]);
"use strict";app.directive("keynotePdf",["KeynoteResource",function(e){return{scope:{keynote:"=",section:"="},templateUrl:"directives/keynote/keynotePdf.html",link:function(o){o.resourceId=null,o.$watch("section.__trackId",function(){return o.section?o.section.resourceId?(o.resourceId=o.section.resourceId,void(o.section.editorResourceId=o.resourceId)):o.section.editorResourceId?void(o.resourceId=o.section.editorResourceId):"knowledgeDiagram"===o.section.type?(o.resourceId=null,void(o.section.editorResourceId=null)):void e.generate({sectionIndex:o.section.__leafNodeIndex},o.keynote).$promise.then(function(e){o.resourceId=e.id,o.section.editorResourceId=e.id}):void(o.resourceId=null)},!0),o.$watch("resourceId",function(r){return r?(o.pdfUrl=e.getDownloadLink(r),void e.get({resourceId:r}).$promise.then(function(e){o.page=e.page})):(o.page=0,void(o.pdfUrl=null))})}}}]);
"use strict";app.directive("keynoteResource",["KeynoteResource",function(e){return{scope:{resourceId:"="},templateUrl:"directives/keynote/keynoteResource.html",link:function(t){t.$watch("resourceId",function(o){return o?void e.get({resourceId:o}).$promise.then(function(r){t.pdfUrl=e.getDownloadLink(o),t.page=r.page}):(t.page=0,void(t.pdfUrl=null))})}}}]);
"use strict";app.directive("keypointTree",["Utils","$sanitize",function(e,a){return{templateUrl:"directives/keypoint/keypointTree.html",scope:{textbook:"=",formData:"=",autoExpand:"=",targetType:"@"},link:function(n){function o(e,a){a||(a=[]),e.forEach(function(t,r){return t.type===n.targetType?(0===r?t.__ancestors=a:t.__ancestors=e[0].__ancestors,n.formData.paradigmMap[t.id]=t,void n.formData.paradigms.push(t)):void(0!==t.children.length&&(t.expanded=Boolean(n.autoExpand),t.isShow=Boolean(n.autoExpand),o(t.children,a.concat([t]))))})}n.$sanitize=a,n.targetType=n.targetType||"paradigm",n.trimedNodes={},n.matchFlag=-1,n.keypoints=n.textbook.children,o([n.textbook]),n.expand=function(e){e.isShow?e.isShow=!1:(e.expanded=!0,e.isShow=!0)},n.expandFrog="/click/keynoteEdit/contentChoose/expand",n.shrinkFrog="/click/keynoteEdit/contentChoose/hide",n.$on("search",function(a,o){return o&&!_.some(n.formData.paradigms,function(e){return-1!==e.name.indexOf(o)})?void n.$emit("noMatch"):(n.formData.paradigms.forEach(function(e){n.trimedNodes[e.id]&&(e.name=e.name.replace(/(<span class="search-keyword">)|(<\/span>)/g,""),e.__ancestors.forEach(function(e){e.expanded=!1,e.isShow=!1,e.name=e.name.replace(/(<span class="search-keyword">)|(<\/span>)/g,"")}))}),e.empty(n.trimedNodes),o?(n.matchFlag=0,void n.formData.paradigms.forEach(function(e){var a=new RegExp(o,"g");-1!==e.name.indexOf(o)&&(n.matchFlag=1,n.trimedNodes[e.id]=!0,e.name=e.name.replace(a,'<span class="search-keyword">'+o+"</span>"),e.__ancestors.forEach(function(e){n.trimedNodes[e.id]=!0,e.expanded=!0,e.isShow=!0,-1===e.name.indexOf('<span class="search-keyword">')&&(e.name=e.name.replace(a,'<span class="search-keyword">'+o+"</span>"))}))})):void(n.matchFlag=-1))})}}}]);
"use strict";app.directive("keypointCatalogName",["KeypointCatalog",function(t){return{scope:{catalogId:"="},template:"{{keypointCatalog.name}}",link:function(a){a.$watch("catalogId",function(o){return o?void(a.keypointCatalog=t.get({catalogId:o})):void(a.keypointCatalog=null)})}}}]);
"use strict";app.directive("keypointName",["SeasonKeypoint",function(t){return{scope:{keypointId:"=",catalogId:"="},link:function(e,n){e.$watchGroup(["keypointId","catalogId"],function(){e.keypointId&&e.catalogId?t.get({catalogId:e.catalogId,keypointId:e.keypointId}).$promise.then(function(t){n.text(t.name),n.attr("title",t.name)}):(n.text(""),n.attr("title",""))})}}}]);
"use strict";app.directive("materialList",["API_SERVER",function(e){return{templateUrl:"directives/materialList.html",require:"ngModel",scope:{readonly:"="},link:function(r,t,a,i){function l(e){i.$setViewValue(_.clone(e))}r.temp={showUpload:!1},i.$formatters.push(function(e){return r.materialIds=e,e}),i.$viewChangeListeners.push(function(){r.materialIds=i.$viewValue}),r.uploadMaterialTarget=e.gallery+"tutor-crm-gallery/api/tutor/resources",r.resourceUrl=e.gallery+"tutor-crm-gallery/api/tutor/resources/",r.onSelected=function(e){r.temp.showUpload=!0,r.temp.uploadFile=e,r.fileName=e.name},r.onSuccess=function(e){r.temp.showUpload=!1;var t=e.resourceId,a=i.$viewValue||[];a.push(t),l(a)},r.onError=function(){r.temp.showUpload=!1},r.removeMaterial=function(e){r.materialIds.splice(r.materialIds.indexOf(e),1),l(r.materialIds)}}}}]);
"use strict";app.directive("commentNav",["navFactory",function(t){var e={complaintList:["ComplaintListCtrl"],commentList:["CommentListCtrl"]};return t.create(e,"directives/navs/commentNav.html",!1)}]);
"use strict";app.directive("episodeNav",["navFactory",function(t){var e={tutorialEpisodeList:["TutorialEpisodeListCtrl"],serialList:["SerialPrototypeListCtrl","SerialPrototypeCtrl","SerialPrototypeOutlineListCtrl","SerialPrototypeOutlineCtrl","SerialListCtrl","SerialPostListCtrl"],lectureEpisodeList:["LectureEpisodeListCtrl","LectureEpisodeCreateCtrl"],seasonList:["SeasonListCtrl","SeasonCreateCtrl","SeasonQqgroupListCtrl","SeasonPostListCtrl","EPListCtrl","EPCreateCtrl","EPEditCtrl"],interviewList:["InterviewListCtrl"]};return t.create(e,"directives/navs/episodeNav.html",!1)}]);
"use strict";app.directive("lectureNav",["navFactory",function(e){var t={lectureEpisodeCreate:["LectureEpisodeCreateCtrl"],lectureEpisodeList:["LectureEpisodeListCtrl"]};return e.create(t,"directives/navs/lectureNav.html",!1)}]);
"use strict";app.directive("mainNav",["API_SERVER","User","navFactory","$route",function(t,e,r,i){var l={teacherList:["TeacherListCtrl","VerifyListCtrl","TrialListCtrl","TeacherStatListCtrl","TeacherDetailCtrl","TeacherScheduleCtrl","TeacherTrialCtrl","TeacherVerifyCtrl","TeacherStatCtrl"],episodeList:["TutorialEpisodeListCtrl","EpisodeDetailCtrl","KeynoteDetailCtrl","LectureEpisodeListCtrl","LectureDetailCtrl","LectureEpisodeDetailCtrl","SeasonPrototypeBeginCtrl","SeasonPrototypeOutlineCtrl","SeasonPrototypeScheduleListCtrl","SeasonScheduleCtrl","SeasonPrototypeListCtrl","SeasonListCtrl","SeasonDetailCtrl","SeasonPurchaseCtrl","SeasonEpisodeDetailCtrl","SeasonQqgroupListCtrl","SeasonPostListCtrl","SerialPrototypeListCtrl","SerialPrototypeCtrl","SerialPrototypeOutlineListCtrl","SerialPrototypeOutlineCtrl","SerialListCtrl","SerialDetailCtrl","SerialPostListCtrl","SeasonCreateCtrl","EPListCtrl","EPCreateCtrl","EPEditCtrl"],couponList:["CouponListCtrl","DistributeCouponCtrl"],operationList:["BannerListCtrl","AnnouncementListCtrl"],complaintList:["CommentListCtrl","ComplaintListCtrl"],notificationList:["NotifyByStudentCtrl","NotifyByImportCtrl","NotifyJobListCtrl"],userList:["UserListCtrl","UserListEditCtrl"]};return r.create(l,"directives/navs/mainNav.html",!0,function(r){r.authUrl=t.auth,r.user=e.current();var l=function(){if(!i.current||!i.current.$$route)return void(r.fullScreen=!1);var t=[],e=i.current.$$route.controller;-1!==t.indexOf(e)?r.fullScreen=!0:r.fullScreen=!1};r.$on("$routeChangeSuccess",l)})}]);
"use strict";app.service("navFactory",["$route",function(e){return{create:function(n,t,r,c,o){return{templateUrl:t,scope:_.extend({},o),link:function(t){t.pages={};var o=function(){if(!e.current||!e.current.$$route)return void(t.pages={});var r=e.current.$$route.controller;Object.keys(n).forEach(function(e){t.pages[e]=-1!==n[e].indexOf(r)})};r?t.$on("$routeChangeSuccess",o):o(),c&&c.apply(this,arguments),t.cmsContentUrl=(location.origin+location.pathname).replace("crm","cms")+"#/all/all/contents",t.cmsEpisodeUrl=(location.origin+location.pathname).replace("crm","cms")+"#/all/all/episodes"}}}}}]);
"use strict";app.directive("notifyNav",["navFactory",function(t){var i={notifyByStudent:["NotifyByStudentCtrl"],notifyByImport:["NotifyByImportCtrl"],jobList:["NotifyJobListCtrl"]};return t.create(i,"directives/navs/notifyNav.html",!1)}]);
"use strict";app.directive("operationNav",["navFactory",function(t){var i={bannerList:["BannerListCtrl"],announcementList:["AnnouncementListCtrl"],linkingWithLectureList:["LinkingWithLectureListCtrl"],linkingWithLectureEdit:["LinkingWithLectureEditCtrl"],splashList:["SplashListCtrl"],splashEdit:["SplashEditCtrl"]};return t.create(i,"directives/navs/operationNav.html",!1)}]);
"use strict";app.directive("seasonNav",["navFactory",function(s){var t={ep:["EPListCtrl","EPCreateCtrl","EPEditCtrl"],seasonCreate:["SeasonCreateCtrl"],seasonList:["SeasonListCtrl"],seasonQQListGroup:["SeasonQqgroupListCtrl"],seasonPostList:["SeasonPostListCtrl"]};return s.create(t,"directives/navs/seasonNav.html",!1)}]);
"use strict";app.directive("serialNav",["navFactory",function(t){var r={serialPrototypeList:["SerialPrototypeListCtrl","SerialPrototypeCtrl","SerialPrototypeOutlineListCtrl","SerialPrototypeOutlineCtrl"],serialList:["SerialListCtrl"],serialPostList:["SerialPostListCtrl"]};return t.create(r,"directives/navs/serialNav.html",!1)}]);
"use strict";app.directive("teacherNav",["navFactory",function(t){var e={teacherList:["TeacherListCtrl"],verifyList:["VerifyListCtrl","TrialListCtrl"],teacherStatList:["TeacherStatListCtrl"]};return t.create(e,"directives/navs/teacherNav.html",!1)}]);
"use strict";app.directive("verifyNav",["navFactory",function(r){var i={basicInfo:["VerifyListCtrl"],trial:["TrialListCtrl"]};return r.create(i,"directives/navs/verifyNav.html",!1)}]);
"use strict";app.directive("nickname",["Verify",function(e){return{scope:{teacher:"="},link:function(t,c){e.getByType({teacherId:t.teacher.id,type:"basic"}).$promise.then(function(e){c.html(e.data.nickname)})["catch"](function(e){e.processed(404)})}}}]);
"use strict";app.directive("operationLog",["Log",function(e){return{templateUrl:"directives/operationLog.html",scope:{id:"=",idType:"@"},link:function(i){i.loaded=!1,i.$watchGroup(["id","idType"],function(o){var t=o[0],n=o[1];t&&n&&e.query({id:t,idType:n}).$promise.then(function(e){i.logs=e,i.loaded=!0})})}}}]);
"use strict";app.directive("publishTeacher",["Teacher","EpisodePrice","EPISODE_TYPE","$q",function(e,r,t,i){return{scope:{teacherId:"=",verifyResults:"=",onClose:"&",onSuccess:"&"},templateUrl:"directives/publishTeacher.html",link:function(a){a.priceLevel=r.priceLevel(),a.EPISODE_TYPE=t;var o=a.verifyResults.map(function(e){return e.verifyId});a.formData={labelIds:_.compact(a.verifyResults.map(function(e){return e.labelId})),verificationIds:o,episodeCategories:[],trialRequired:!0},a.teacher=e.get({teacherId:a.teacherId}),a.teacher.$promise["catch"](function(e){e.processed(404)}),a.teacherEpisodeCategory=e.getEpisodeCategory({teacherId:a.teacherId});var c=a.teacher.$promise.then(function(e){return a.formData.trialRequired=Boolean(e.trialRequired),a.formData.verifiedPrice=e.verifiedPrice,e}),n=a.teacherEpisodeCategory.$promise.then(function(e){return t.map(function(e){return e.value}).forEach(function(r){e[r+"Enabled"]&&a.formData.episodeCategories.push(r)}),e}),s=n["catch"](function(e){return e.processed(404)});a.loadingPromise=i.all([s,c]),a.loadingPromise.then(function(){a.teacherEpisodeCategory&&a.teacherEpisodeCategory.teacherId&&a.submit()}),a.$watchCollection("formData.episodeCategories",function(e){if(a.hasTutorial=-1!==e.indexOf("tutorial"),!a.hasTutorial){var r=e.indexOf("serial");-1!==r&&e.splice(r,1)}}),a.submit=function(){a.loadingPromise=e.publish({teacherId:a.teacherId},$.param(a.formData)).$promise.then(function(){a.onSuccess()})}}}}]);
"use strict";app.directive("question",["$sanitize","Question","QUESTION_TYPE",function(e,t,n){return{scope:{questionId:"=?",questionItem:"=?",question:"=?",isSelected:"=?",questionLimit:"=?",onSelect:"=?",selectText:"@",index:"=",keynote:"=",postSheet:"="},restrict:"E",templateUrl:"directives/question/question.html",link:function(s){s.expanded=!1,s.$sanitize=e,s.questionTypes=n,s.question||(s.question=t.get({questionId:s.questionId})),s.expand=function(){s.expanded=!0},s.postSheet&&s.postSheet.$promise?s.postSheet.$promise.then(function(e){s.postSheetUsedIdMap=e.items.reduce(function(e,t){return e[t.questionId]=t,e},{})}):s.postSheetUsedIdMap={},s.keynote&&s.keynote.$promise?s.keynote.$promise.then(function(e){function t(e){e.questionId&&-1===n.indexOf(e.questionId)&&n.push(e.questionId),e.subsections&&e.subsections.length&&e.subsections.forEach(t)}var n=[];e&&e.sections&&e.sections.length&&e.sections.forEach(t),s.keynoteUsedIdMap=n.reduce(function(e,t){return e[t]=!0,e},{})}):s.keynoteUsedIdMap={}}}}]);
"use strict";app.directive("selectQuestion",["Keypoint","QUESTION_ORIGIN","Question","Pager","$sanitize","QUESTION_TYPE","$q","Content","Keynote","Sheet",function(e,t,n,i,o,s,u,r,c,d){return{templateUrl:"directives/question/selectQuestion.html",scope:{catalogId:"=",keypointIds:"=",contentId:"=",type:"=",keynote:"=?",questionLimit:"=?",selectedItems:"=?",typeInvisible:"=?",onClose:"&",onSubmit:"&"},link:function(a){var l=[];a.contentId&&l.push(r.get({contentId:a.contentId}).$promise.then(function(e){e.keynoteId&&!a.keynote&&(a.keynote=c.get({keynoteId:e.keynoteId})),e.postClassSheetId&&(a.postSheet=d.get({catalogId:e.catalogId,sheetId:e.postClassSheetId}))}));var p=u.all(a.keypointIds.map(function(t){return e.get({catalogId:a.catalogId,keypointId:t}).$promise.then(function(e){return e.children})})).then(function(e){return e.reduce(function(e,t){return _.union(e,t)},[])}).then(function(e){return a.keypoints=e,a.keypoints&&a.keypoints.length>0?a.formData.keypoint=a.keypoints[0]:a.formData.keypoint=null,e});a.temp={step:"select"},a.questionLimit=a.questionLimit||1,a.questionTypes=s,a.$sanitize=o,a.selectedItems=a.selectedItems||[];var m={value:"none",desc:""};a.querySources=_.map(t,function(e){return{value:e.value,desc:e.name}}),a.querySources.splice(0,0,m);var I={value:"none",desc:""};a.queryOrders=[{value:"difficultyAsc",desc:""},{value:"difficultyDesc",desc:""}],a.queryOrders.splice(0,0,I),a.formData={querySource:m.value,queryOrder:I.value,questionType:"choice",type:a.type||"example"},a.submit=function(){1===a.questionLimit?a.onSubmit(a.selectedItems[0]):a.onSubmit({selectedItems:a.selectedItems})},a.removeQuestion=function(e){var t=_.findIndex(a.selectedItems,function(t){return t.questionId===e.id});-1!==t&&a.selectedItems.splice(t,1)},a.tagMap={1:"__preClassUsed",2:"__keynoteUsed",3:"__aboveLevel"},a.selectQuestion=function(e){return 1===a.questionLimit?void a.onSubmit({questionId:e.id,keypointId:a.formData.keypoint.id,type:a.formData.type}):(a.selectedItems=a.selectedItems||[],a.isSelected(e.id)?void(a.selectedItems=a.selectedItems.filter(function(t){return t.questionId!==e.id})):void a.selectedItems.push({questionId:e.id,keypointId:a.formData.keypoint.id,type:a.formData.type}))},a.isSelected=function(e){return a.selectedItems?void 0!==_.findWhere(a.selectedItems,{questionId:e}):!1},a.$watch("formData",function(e){var t=e.type,n=e.keypoint;return"exercise"===t&&(e.questionType="choice"),n?void p.then(a.fetchQuestion.bind(null,0)):(a.questions=[],void(a.pageInfo=null))},!0),a.fetchQuestion=function(e){u.all(l).then(function(){a.questions=n.query({catalogId:a.catalogId,"keypointIds[]":a.formData.keypoint.id,querySource:a.formData.querySource,queryOrder:a.formData.queryOrder,queryType:a.formData.questionType,page:e,pageSize:5,region:"none"}),a.questionStartIndex=5*e,i.setPageInfo(a.questions.$promise,a),a.questions.$promise.then(function(e){_.each(e,function(e){_.each(e.tags,function(t){e[a.tagMap[t.id]]=!0})})})})},a.sortableOptions={update:function(e,t){var n=t.item,i=n.index(),o=n.data("originPosition"),s=a.selectedItems[i];a.selectedItems[i]=a.selectedItems[o],a.selectedItems[o]=s},forcePlaceholderSize:!0,start:function(e,t){var n=t.item,i=n.index();n.data("originPosition",i)},cursor:"move"}}}}]);
"use strict";app.directive("questionAnswer",["$sanitize","API_SERVER",function(e){return{restrict:"A",templateUrl:"directives/questionAnswer.html",scope:{episode:"=",question:"=",questionAnswer:"=",isText:"="},link:function(t,s,i){function n(e){return t.formatted=!0,201===t.questionAnswer.type?5===t.question.type?["",""][e.choice]:1===t.question.type?["A","B","C","D"][e.choice]:e.choice.toString().split(",").map(function(e){return["A","B","C","D"][e]}).join(r):202!==t.questionAnswer.type||t.isUserAnswer?void(t.formatted=!1):t.questionAnswer.blanks.join(",")}t.isUserAnswer=i.hasOwnProperty("userAnswer")&&"false"!==i.userAnswer,t.$sanitize=e;var r=i.joinChar||"";t.isUserAnswer&&(t.imgWidth=180,t.imgHeight=180),(5!==t.question.type||t.isText)&&(t.formatedAnswer=n(t.questionAnswer))}}}]);
"use strict";app.directive("questionOptionList",["$sanitize",function(e){return{scope:{question:"="},templateUrl:"directives/questionOptionList.html",link:function(s){s.$sanitize=e;var n=null;if(s.question.accessories&&(n=s.question.accessories.filter(function(e){return(101===e.type||102===e.type)&&"$"!==e.options[0]})),!n||0===n.length)return void(s.options=[]);s.options=n[n.length-1].options;var t=s.question.correctAnswer.choice.split(",").map(function(e){return parseInt(e)}),i=s.question.userAnswer&&s.question.userAnswer.answer&&s.question.userAnswer.answer.choice?s.question.userAnswer.answer.choice.split(",").map(function(e){return parseInt(e)}):[];s.optionsClass=s.options.map(function(e,n){return-1!==t.indexOf(n)?"list-group-item-success":s.question.userAnswer&&s.question.userAnswer.answer&&s.question.userAnswer.answer.choice&&-1!==i.indexOf(n)?"list-group-item-danger":""})}}}]);
"use strict";app.directive("selectKeypoint",[function(){return{templateUrl:"directives/selectKeypoint.html",require:"ngModel",scope:{targetType:"@",keypoints:"="},link:function(e,t,a,i){e.formData={paradigmMap:{},paradigms:[]},i.$formatters.push(function(t){e.formData.selectedParadigmIds=t||[]}),e.$watchCollection("formData.selectedParadigmIds",function(e){i.$setViewValue(e||[])})}}}]);
"use strict";app.directive("sheet",["Sheet","Toast",function(e,t){return{require:"ngModel",scope:{catalogId:"=",keypointIds:"=",readonly:"=",contentId:"="},templateUrl:"directives/sheet.html",link:function(a,n,o,s){a.temp={},s.$formatters.push(function(t){t?a.sheet=e.get({catalogId:a.catalogId,sheetId:t}):a.sheet=new e({catalogId:a.catalogId})}),a.onSelect=function(e){a.temp.editDialog=!1,a.sheet.items=e,a.sheet.$save().then(function(e){t.success(""),s.$setViewValue(e.id)})},a.removeSheet=function(){a.sheet=new e({catalogId:a.catalogId}),s.$setViewValue(0)}}}}]);
"use strict";app.directive("teacherLabel",["Label",function(e){return{scope:{teacherId:"=",labelType:"="},templateUrl:"directives/teacherLabel.html",link:function(a){a.temp={},a.formData={label:e.getByTeacher({teacherId:a.teacherId,type:a.labelType})},a.labels=e.query({type:a.labelType}),a.formData.label.$promise["catch"](function(e){return e.processed(404)}),a.saveLabel=function(){var t;t=a.formData.label?e.saveForTeacher({teacherId:a.teacherId,type:a.labelType,labelId:a.formData.label.id},null).$promise:e.clearLabelsForTeacher({teacherId:a.teacherId,type:a.labelType},null).$promise,t.then(function(){a.temp.editMode=!1})}}}}]);
"use strict";app.directive("teacherLog",["Teacher","$q",function(e,t){return{scope:{teacher:"="},templateUrl:"directives/teacherLog.html",link:function(n){n.loaded=!1,n.$watch("teacher",function(i){i&&i.$promise&&n.teacher.$promise.then(function(i){n.historys=e.history({teacherId:i.id}),n.logs=e.log({teacherId:i.id});var o=n.logs.$promise.then(function(e){e.forEach(function(e){e.processedContent=e.content.split("id:"),-1!==e.content.indexOf("id:")&&(e.type="interview",e.processedContent=e.content.split("id:"))})});t.all([n.historys.promise,o]).then()["finally"](function(){n.loaded=!0})})})}}}]);
"use strict";app.directive("teacherPublishForm",["EpisodePrice","Toast",function(e,i){return{scope:{teacher:"=",verifies:"=",onSubmit:"="},templateUrl:"directives/teacherPublishForm.html",link:function(r){r.priceLevel=e.priceLevel(),r.formData={},r.teacher.$promise.then(function(){r.formData.price||(r.formData.price=r.teacher.verifiedPrice)}),r.submit=function(){r.teacher.$setPrice({price:r.formData.price}).then(function(){return r.teacher.$publish({verifyIds:r.verifies.map(function(e){return e.id}).join(",")})}).then(function(){i.success("")}).then(r.onSubmit)}}}}]);
"use strict";app.directive("teacherSetting",["Teacher","Toast","EpisodePrice","Utils",function(e,t,i,c){return{scope:{teacher:"="},templateUrl:"directives/teacherSetting.html",link:function(e){e.priceLevel=i.priceLevel(),e.teacher.$promise.then(function(t){e.initData=angular.copy(t),e.$watch("teacher",function(t){t&&(e.isChanged=!c.checkPristine(e.initData,t,["episodeCategory","verifiedPrice"]))},!0)}),e.edit=function(){e.editMode=!0},e.cancel=function(){e.editMode=!1},e.save=function(){var i=e.teacher.episodeCategory,c=["tutorial","serial","season","lecture"].filter(function(e){return i[e+"Enabled"]}),r=e.teacher.$updateSettings({verifiedPrice:e.teacher.verifiedPrice,"episodeCategories[]":c});r.then(function(){t.success(""),e.initData=angular.copy(e.teacher),e.editMode=!1,e.isChanged=!1})}}}}]);
"use strict";app.directive("textbookList",["Textbook",function(e){return{restrict:"AE",templateUrl:"directives/textbookList.html",require:"ngModel",scope:{course:"="},link:function(t,o,s,n){function c(e){t.selectedIds=(e||[]).reduce(function(e,t){return e[t.id]=!0,e},{})}var i=3;s.hasOwnProperty("onlyShowSelected")&&(t.onlyShowSelected=!0),t.selectedIds={},t.$watch("course",function(o){return o?void(t.textbooks=e.query({course:o},function(e){t.onlyShowSelected&&(t.textbooks=[],_.each(t.selectedTextbooks,function(o){t.textbooks.push(_.findWhere(e,{id:o.id}))}))})):void(t.textbooks=[])}),t.showCategoryList=function(e,o){e.stopPropagation(),t.$emit("showCategoryList",o)},t.toggle=function(e){if(!t.onlyShowSelected){t.selectedTextbooks=t.selectedTextbooks||[];var o=t.selectedTextbooks.indexOf(_.findWhere(t.selectedTextbooks,{id:e.id}));if(-1!==o)t.selectedTextbooks.splice(o,1);else{if(t.selectedTextbooks.length>=i)return;t.selectedTextbooks.push(e)}n.$setViewValue(angular.copy(t.selectedTextbooks))}},n.$formatters.push(function(e){return t.selectedTextbooks=e,c(e),e}),n.$parsers.push(function(e){return c(e),e})}}}]);
"use strict";app.directive("timeRange",[function(){return{scope:{startTime:"=",endTime:"=",startFormat:"=",endFormat:"="},templateUrl:"directives/timeRange.html",link:function(t){t.now=Date.now()}}}]);
"use strict";app.directive("toastList",["Toast",function(t){return{templateUrl:"directives/toastList.html",link:function(s){s.toasts=t.toasts,s.closeToast=function(s){t.dismiss(s)}}}}]);
"use strict";app.directive("userName",["Account",function(e){return{template:"{{user.nickname}}",scope:{userId:"="},link:function(c){c.$watch("userId",function(n){return n?(c.user=e.getAccountInfo({account:n}),void c.user.$promise["catch"](function(e){e.processed(404)})):void(c.user=null)})}}}]);
"use strict";app.directive("doubleMaxlength",["Utils",function(e){return{require:"ngModel",link:function(n,t,r,i){var l=r.doubleMaxlength;i.$validators.maxlength=function(n,t){var r=n||t||"";return r?e.doubleLength(r)<=l:!0}}}}]);
"use strict";app.directive("doubleMinlength",["Utils",function(n){return{require:"ngModel",link:function(e,t,i,r){var l=i.doubleMinlength;r.$validators.minlength=function(e,t){var i=e||t||"";return i?n.doubleLength(i)>=l:!0}}}}]);
"use strict";app.directive("formatIdCard",function(){return{require:"ngModel",link:function(r,t,e,n){n.$validators.format=function(r,t){var e=r||t;if(!e)return!0;if(18!==e.length)return!1;for(var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=["1","0","X","9","8","7","6","5","4","3","2"],u=0,a=0;17>a;a++){if(e[a]<"0"||e[a]>"9")return!1;u+=e[a]*n[a]}return i[u%11]!==e[17].toUpperCase()?!1:!0}}}});
"use strict";app.directive("integer",function(){return{require:"ngModel",link:function(t,e,i,n){var r=/^\-?\d+$/;n.$validators.integer=function(t,e){return n.$isEmpty(t)?!0:r.test(e)}}}});
"use strict";app.directive("posteriorTo",function(){return{require:"ngModel",link:function(e,o,r,t){var i=0;e.$watch(r.posteriorTo,function(e){i=e,t.$validate()}),t.$validators.posteriorTo=function(e,o){var r=e||o||"";return r&&i?(moment(r).isSame(moment([4e3]),"year")&&(r=moment()),r>=i):!0}}}});
"use strict";app.directive("requireBoolean",function(){return{require:"ngModel",link:function(e,n,i,r){r.$isEmpty=function(e){return!e&&e!==!1}}}});
"use strict";app.directive("requireList",function(){return{require:"ngModel",link:function(e,i,n,t){t.$isEmpty=function(e){return!e||!e.length}}}});
"use strict";app.directive("requirePositive",function(){return{require:"ngModel",link:function(i,e,r,n){n.$isEmpty=function(i){var e=i>0;return!e}}}});
"use strict";app.directive("samePassword",[function(){return{require:"ngModel",scope:{samePassword:"="},link:function(s,e,r,a){a.$validators.same=function(e,r){var a=e||r,n=s.samePassword;return a===n}}}}]);
"use strict";app.directive("teacherAuthority",["Account","Teacher","$q",function(e,t,r){return{restrict:"A",require:"ngModel",$scope:{authorities:"="},link:function(o,n,i,c){o.$watch("authorities",function(n){n&&(c.$asyncValidators.authorized=function(n,i){var c=n||i;return e.getAccountInfo({account:c}).$promise.then(function(e){return"teacher"===e.userType?t.get({teacherId:e.id}).$promise.then(function(e){var t=_.map(o.authorities,function(t){return"tutorial"===t?e.episodeCategory.tutorialEnabled:"lecture"===t?e.episodeCategory.lectureEnabled:"season"===t?e.episodeCategory.seasonEnabled:"serial"===t?e.episodeCategory.serialEnabled:!1});return _.contains(t,!1)?r.reject("noAuthority"):!0},function(e){return e.processed(404),r.reject("noAuthority")}):r.reject("noAuthority")},function(e){return e.processed(400),e.processed(404),r.reject("noAuthority")})})},!0)}}}]);
"use strict";app.directive("teacherExist",["SeasonPrototype","$q",function(t,e){return{restrict:"A",require:"ngModel",link:function(r,n,o,i){i.$asyncValidators.arrangable=function(n,o){var i=n||o;return t.canTeacherArranged({prototypeId:r.prototypeId,teacherIdentity:i},null).$promise.then(function(){return!0},function(t){return 412===t.status?(t.processed(),e.reject("notExist")):void 0})}}}}]);
"use strict";app.directive("uniqueSeasonName",["SeasonPrototype","$q",function(e,n){return{require:"ngModel",link:function(t,o,r,i){i.$asyncValidators.unique=function(o,i){var u=o||i;return e.uniqueSeasonName({prototypeId:t.prototypeId,seasonName:u},null).$promise.then(function(){return u===r.initVal?!0:n.reject("exists")},function(e){return 412===e.status?(e.processed(),!0):void 0})}}}}]);
"use strict";app.directive("uniqueTeacher",["Auth","$q","Teacher",function(e,r,n){return{require:"ngModel",link:function(e,u,i,t){var a=i.uniqueTeacher;t.$asyncValidators.unique=function(e,u){var i=e||u;if(!i)return r.resolve(!0);var t={};return t[a]=i,n.checkAvailable(t).then(function(){return!0},function(e){return e.processed(),r.reject("unavailable")})}}}}]);
"use strict";app.directive("uniqueUser",["Auth","$q",function(e,n){return{require:"ngModel",link:function(t,r,u,i){i.$asyncValidators.unique=function(t,r){var u=t||r;return e.checkExisted(u).then(function(){return n.reject("exists")},function(e){return e.processed(),!0})}}}}]);
"use strict";app.directive("userExists",["Auth","$q",function(e,t){return{require:"ngModel",link:function(n,r,i,s){s.$asyncValidators.exists=function(n,r){var i=n||r;return e.checkExisted(i).then(function(){return!0},function(e){return e.processed(),t.reject("exists")})}}}}]);
"use strict";app.directive("verifyForm",["Label",function(e){return{scope:{verify:"=",teacher:"=",formData:"=",waitToVerify:"="},templateUrl:"directives/verifyForm.html",link:function(r){r.labels=e.query({type:r.verify.type}),r.teacherLabel=e.getByTeacher({type:r.verify.type,teacherId:r.verify.teacherId}),r.teacherLabel.$promise.then(function(e){r.formData.labelId=e.id}),r.teacherLabel.$promise["catch"](function(e){return e.processed(404)})}}}]);
"use strict";app.filter("deviceTestResult",[function(){return function(e){return{incomplete:"",success:"",failed:""}[e]}}]);
"use strict";app.filter("epSeasonName",[function(){return function(e){var t=[];return _.forEach(e,function(e){t.push(e.name)}),t}}]),app.filter("epEpisodeContentStatus",[function(){return function(e){var t=e.episodeTemplate;if(void 0===t||null===t)return"";var n=t.content;if(void 0===n||null===n)return"";var r=n.catalogId,a=n.keynoteId,o=n.postClassSheetId,u=n.materialResourceIds;return r&&a>0&&o>0&&u.length>0?"":""===r&&0>=a&&0>=o&&0===u.length?"":""}}]);
"use strict";app.filter("episodeStatus",[function(){return function(e){return{normal:"",amend:"",giveMoney:"",refund:"",failure:""}[e]||""}}]);
"use strict";app.filter("grade",[function(){return function(r){return{6:"",7:"",8:"",9:"",10:"",11:"",12:""}[r]}}]);
"use strict";app.filter("image",["Gallery",function(e){return function(t,n){return(n?e.userImagePrefix:e.imagePrefix)+encodeURIComponent(t)}}]),app.filter("imageWidth",function(){return function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+"width="+t}}),app.filter("imageHeight",function(){return function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+"height="+t}}),app.filter("imageStrict",function(){return function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+"strict="+(t?1:0)}}),app.filter("teacherImage",["API_SERVER",function(e){return function(t,n){return e.cms+"api/teachers/"+n+"/private-images/"+t}}]);
"use strict";app.filter("indexToLabel",[function(){return function(r){return"string"==typeof r&&(r=parseInt(r,10)),String.fromCharCode(65+r)}}]);
"use strict";app.filter("interviewStatus",[function(){return function(t){return{noInterview:"",init:"",passed:"",failed:""}[t]}}]);
"use strict";app.filter("join",function(){return function(r,n){return n=n||"<br/>",_.isArray(r)?r.join(n):r}});
"use strict";app.filter("lectureEpisodeStatus",[function(){return function(e){return{"new":"",completed:"",cancelled:"",failed:""}[e]||"--"}}]);
"use strict";app.filter("lectureStatus",[function(){return function(t){return{published:"",closed:""}[t]||"--"}}]);
"use strict";app.filter("locale",function(){var a={Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sunday:""};return function(e,r){var t="";switch(r){case"week":var n=e.split(" ");t=n.length>1?n[0]+" "+a[n[1]]:e;break;default:t=e}return t}});
"use strict";app.filter("nameInArray",function(){return function(r,n,e,t){e=e||"id",t=t||"name";var a={};a[e]=r;var i=_.findWhere(n,a);return i?i[t]:""}});
"use strict";app.filter("postTradeStatus",[function(){return function(e){return{paid:"",refunded:"",readyToDeliver:"",delivering:"",delivered:"",transferAsSource:"",transferAsTargetAndConsistent:"",transferAsTargetAndInconsistent:""}[e]}}]);
"use strict";app.filter("ratio",[function(){return function(t){return Math.round(1e4*(t||0))/100+"%"}}]);
"use strict";app.filter("scheduleStatus",function(){return function(t){return{open:"",appointed:""}[t]||""}});
"use strict";app.filter("studyPhase",[function(){return function(n){return{unknown:"",chuzhong:"",gaozhong:""}[n]}}]),app.filter("phasePrefix",[function(){return function(n){return{1:"chuzhong",2:"gaozhong"}[n]}}]);
"use strict";app.filter("subject",[function(){return function(u){return{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",14:""}[u]}}]),app.filter("subjectPrefix",[function(){return function(u){return{1:"yuwen",2:"shuxue",3:"yingyu",4:"wuli",5:"huaxue",6:"shengwu",7:"lishi",8:"dili",9:"zhengzhi",14:"sixiangpinde"}[u]}}]);
"use strict";app.filter("trialStatus",["TRIAL_STATUS",function(t){return function(e){return _.findWhere(t,{value:e}).name}}]);
"use strict";app.filter("secToMin",function(){return function(n){return Math.ceil(n/60)}}),app.filter("milliSecToMin",function(){return function(n){return n/6e4}});
"use strict";app.filter("valueToName",[function(){return function(e,n){var r=_.findWhere(n,{value:e});return r?r.name:""}}]);
"use strict";app.filter("verifyStatus",[function(){return function(e){return{verifySuccess:"",published:"",verifyFail:""}[e]||e}}]);
"use strict";app.service("Account",["$resource",function(t){return t("/tutor-crm-account/api",null,{getTeacherInfo:{url:"/tutor-crm-account/api/teachers/:userId",method:"GET"},getStudentInfo:{url:"/tutor-crm-account/api/students/:userId",method:"GET"},getAccountInfo:{url:"/tutor-crm-account/api/accounts",method:"GET"},search:{url:"/tutor-crm-account/api/accounts/query",isArray:!0,method:"GET"}})}]);
"use strict";app.service("CmsContent",["$resource","Pager",function(e,n){return e("/tutor-cms-content/api/contents/:contentId",{contentId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:n.transformResponse()}})}]);
"use strict";app.service("CmsEpisode",["$resource","Pager",function(e,s){return e("tutor-cms-episode/api/episodes/:episodeId",{episodeId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()}})}]);
"use strict";app.service("Comment",["$resource","Pager",function(e,o){return e("/tutor-crm-comment/api/comments/:commentId",{commentId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:o.transformResponse()},hideComment:{url:"/api/comments/hide",method:"POST"}})}]),app.service("Complaint",["$resource","Pager",function(e,o){return e("/tutor-crm-comment/api/complaints/:complaintId",{complaintId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:o.transformResponse()},hideComment:{url:"/tutor-crm-comment/api/complaints/process",method:"POST"}})}]);
"use strict";app.service("Content",["$resource",function(t){return t("/tutor-episode-template/api/contents/:contentId",{contentId:"@id"})}]);
"use strict";app.service("Coupon",["$resource","Pager",function(e,o){return e("/tutor-crm-coupon/api/coupons",null,{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:o.transformResponse()},operator:{url:"/tutor-crm-coupon/api/operators",method:"GET",responseType:"json",isArray:!0},identity:{url:"/tutor-crm-coupon/api/identities",method:"GET",responseType:"json",isArray:!0},save:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}})}]);
"use strict";app.service("Course",["Grade","Subject","Phase",function(e,r,u){var t=null,s=null,c=null,n={},a={},o={getAllGrades:function(){return t||(t=e.query()),t},getAllSubjects:function(){return s||(s=r.query()),s},getAllPhase:function(){return c||(c=u.query()),c},getSubjectsByPhase:function(e){return n[e]||(n[e]=r.byPhase({phase:e})),n[e]},getSubjectsByGrade:function(e){return a[e]||(a[e]=r.byGrade({gradeId:e})),a[e]}};return o}]),app.service("Grade",["$resource",function(e){return e("/tutor-crm-course/api/grades")}]),app.service("Phase",["$resource",function(e){return e("/tutor-crm-course/api/phases")}]),app.service("Subject",["$resource",function(e){return e("/tutor-crm-course/api/subjects",null,{byPhase:{url:"/tutor-crm-course/api/subjects/by-phase",isArray:!0,method:"GET"},byGrade:{url:"/tutor-crm-course/api/subjects/by-grade",isArray:!0,method:"GET"}})}]);
"use strict";app.service("DeviceTest",["$resource",function(e){return e("/api/users/:userId/device-test",null,{getByUDID:{method:"GET",url:"/api/device-test"}})}]);
"use strict";app.service("EP",["$resource","Pager",function(e,s){return e("/tutor-ep/api/eps/:epId",{epId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},suggest:{isArray:!0,method:"GET",responseType:"json",url:"/tutor-ep/api/eps/suggest"},updateEPWithSeasons:{url:"/tutor-ep/api/eps/:epId/updateEPWithSeasons",method:"POST",responseType:"json"},updateEPWithoutSeasons:{url:"/tutor-ep/api/eps/:epId/updateEPWithoutSeasons",method:"POST",responseType:"json"},updateEPEpisodeTemplate:{url:"/tutor-ep/api/eps/:epId/updateEPEpisodeTemplate",method:"POST",responseType:"json"}})}]);
"use strict";app.service("Episode",["$resource","Pager",function(e,s){return e("/tutor-crm-tutorial/api/episodes/:episodeId",{episodeId:"@id"},{get:{url:"/api/episodes/:episodeId",method:"GET"},fetch:{url:"/tutor-cms-episode/api/episodes/:episodeId",method:"GET"},query:{isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},comments:{url:"/api/episodes/:episodeId/comments",isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},amend:{url:"/tutor-crm-tutorial/api/episodes/:episodeId/amend",method:"POST"},refund:{url:"/tutor-crm-tutorial/api/episodes/:episodeId/refund",method:"POST"},score:{url:"/tutor-live-rating/api/live-quality",method:"GET",responseType:"json"},remark:{url:"/tutor-crm-episode-log/api/episodes/:episodeId/remark",method:"POST"}})}]);
"use strict";app.service("Feedback",["$resource",function(e){return e("/tutor-crm-feedback/api/feedbacks")}]);
"use strict";app.service("GalleryResource",["$resource","Pager",function(e){return e("/api/resources",{resourceId:"@resourceId"},{remove:{url:"/api/tutor/resources/{resourceId}"}})}]);
"use strict";app.service("Interview",["$resource","Pager",function(e,r){return e("/tutor-interview/api/interviews/:episodeId",{episodeId:"@episodeId"},{reserve:{url:"/tutor-interview/api/interviews",method:"POST"},query:{isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()},verify:{url:"/tutor-interview/api/interviews/:episodeId/verify",method:"POST"}})}]);
"use strict";app.service("Keynote",["$resource",function(e){return e("/tutor-crm-keynote/api/keynotes/:keynoteId",{keynoteId:"@id"})}]);
"use strict";app.service("KeynoteInfo",["$resource",function(e){return e("/api/episodes/:episodeId/keynote-meta")}]);
"use strict";app.service("KeynoteResource",["$resource",function(e){var r=e("/tutor-crm-keynote/api/resources/:resourceId",{resourceId:"@id"},{get:{url:"/tutor-crm-keynote/api/resources/:resourceId/meta",method:"GET"},generate:{url:"/tutor-crm-keynote/api/resources/generate",method:"POST"}});return r.getDownloadLink=function(e){return"/tutor-crm-keynote/api/resources/"+e},r}]);
"use strict";app.service("Keypoint",["$resource",function(t){return t("/tutor-crm-keypoint/api/keypoint-catalogs/:catalogId/keypoints/:keypointId",{keypointId:"@id"})}]);
"use strict";app.service("KeypointCatalog",["$resource",function(t){return t("/tutor-crm-keypoint/api/keypoint-catalogs/:catalogId",{catalogId:"@id"})}]);
"use strict";app.service("Label",["$resource",function(e){return e("/api/labels/:labelId",{labelId:"@id"},{getByTeacher:{method:"GET",url:"/tutor-crm-teacher/api/teachers/:teacherId/labels/by-type"},saveForTeacher:{method:"POST",url:"/tutor-crm-teacher/api/teachers/:teacherId/labels"},clearLabelsForTeacher:{method:"DELETE",url:"/tutor-crm-teacher/api/teachers/:teacherId/labels"}})}]);
"use strict";app.service("LectureEpisode",["$resource","Pager",function(e,r){return e("/api/lectures/episode/:episodeId",{episodeId:"@episodeId"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()},lecture:{url:"/api/lectures/:lectureId",method:"GET"},tradeDetail:{url:"/api/lectures/episode/:episodeId/trade-detail",method:"GET",isArray:!0,responseType:"json",transformResponse:r.transformResponse()},notify:{url:"/api/lectures/episode/:episodeId/notify-purchased-students",method:"POST"}})}]),app.service("Lecture",["$resource","Pager",function(e,r){return e("/tutor-crm-lecture/api/lectures/:lectureId",{lectureId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()},getByEpisodeId:{url:"/tutor-crm-lecture/api/lectures/by-episode-id/:episodeId"},fetch:{url:"/tutor-crm-lecture/api/lectures/:lectureId/fetch",method:"GET"},modify:{url:"/api/lectures/:lectureId/modify",method:"POST"},top:{url:"/tutor-crm-lecture/api/lectures/:lectureId/top",method:"POST"},cancelTop:{url:"/tutor-crm-lecture/api/lectures/:lectureId/top",method:"POST"},select:{url:"/tutor-crm-lecture/api/lectures/:lectureId/select",method:"POST"},cancelSelect:{url:"/tutor-crm-lecture/api/lectures/:lectureId/select",method:"POST"},isShouldManualSettle:{url:"/tutor-crm-lecture/api/lectures/:lectureId/shouldManualSettle",method:"GET",responseType:"text",transformResponse:function(e){return{data:e}}},manualSettle:{url:"/tutor-crm-lecture/api/lectures/:lectureId/manualSettle",method:"POST"},retire:{url:"/tutor-crm-lecture/api/lectures/:lectureId/retire",method:"POST"},prices:{method:"GET",url:"/tutor-crm-lecture/api/lectures/prices",isArray:!0},regions:{method:"GET",url:"tutor-crm-lecture/api/lectures/regions",isArray:!0},textbookSuites:{method:"GET",url:"tutor-crm-lecture/api/lectures/textbook-suites",isArray:!0},create:{method:"POST",url:"tutor-crm-lecture/api/lectures"},update:{method:"POST",url:"tutor-crm-lecture/api/lectures/:lectureId/modify"},hasKeynote:{method:"GET",url:"tutor-crm-lecture/api/lectures/:episodeId/hasKeynote"},upload:{method:"POST",url:"tutor-crm-lecture/api/lectures/:episodeId/teachers/:teacherId/keynote/upload"}})}]);
"use strict";app.service("LinkingWithLecture",["$resource","Pager",function(e,r){var i=e("/tutor-marketing/api/linking-with-lectures/:id",{id:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()},save:{method:"POST",responseType:"json"},cancel:{url:"/tutor-marketing/api/linking-with-lectures/:id/cancel",method:"POST"}});return i}]);
"use strict";app.service("Log",["$resource",function(r){return r("/tutor-cms-log/api/logs")}]);
"use strict";app.service("Notification",["$resource","Pager",function(t,o){return t("/tutor-crm-notify/api/notifications",{notifyId:"@id"},{notifyByStudent:{url:"/tutor-crm-notify/api/notifications/student",method:"POST"},jobs:{url:"/tutor-crm-notify/api/notifications/jobs",isArray:!0,method:"GET",responseType:"json",transformResponse:o.transformResponse()},createJob:{url:"/tutor-crm-notify/api/notifications/createJob",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}},startJob:{url:"/tutor-crm-notify/api/notifications/startJob",method:"GET"}})}]);
"use strict";app.service("Banner",["$resource",function(e){return e("/tutor-banner/api/banners",null,{query:{isArray:!0,method:"GET",responseType:"json"},save:{isArray:!0,method:"POST"}})}]),app.service("Announcement",["$resource",function(e){return e("/tutor-banner/api/announcements",null,{query:{isArray:!0,method:"GET",responseType:"json"}})}]);
"use strict";app.service("EpisodePrice",["$resource",function(e){return e("/api/search/prices",null,{priceLevel:{url:"/api/teachers/prices",method:"GET",isArray:!0}})}]);
"use strict";app.service("Question",["$resource","$http","Pager",function(e,r,t){var s=e("/tutor-crm-question/api/questions/:questionId",{questionId:"@id"},{query:{url:"/tutor-crm-question/api/questions/query",isArray:!0,method:"GET",responseType:"json",transformResponse:t.transformResponse()}});return s.queryForId=function(e){return r.get("/tutor-crm-season/api/questions/query-single",{params:e}).then(function(e){return e.data})},s}]);
"use strict";app.service("Schedule",["$resource",function(e){return e("/api/teachers/:teacherId/schedules")}]);
"use strict";app.service("SeasonPrototype",["$resource","Pager",function(e,s){return e("/tutor-crm-season/api/season-prototypes/:prototypeId",{prototypeId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},regions:{url:"/tutor-crm-season/api/regions",isArray:!0,method:"GET",responseType:"json"},textbookSuites:{url:"/tutor-crm-season/api/textbook-suites",isArray:!0,method:"GET",responseType:"json"},types:{url:"/tutor-crm-season/api/season-types",isArray:!0,method:"GET",responseType:"json"},assembly:{url:"/tutor-crm-season/api/keypoint-catalog-assembly",method:"GET",responseType:"json"},keypoints:{url:"/tutor-crm-season/api/keypoint-catalogs/:catalogId/keypoints",isArray:!0,method:"GET",responseType:"json"},keypoint:{url:"/tutor-crm-season/api/keypoint-catalogs/:catalogId/keypoints/:keypointId",method:"GET",responseType:"json"},getKeynote:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/keynote-template",method:"GET",responseType:"json"},updateKeynote:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/keynote-template",method:"POST",responseType:"json"},setOutlineItemName:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/name",method:"POST"},setOutlineItemQuestionId:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/question-id",method:"POST"},getContent:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/content-template",method:"GET",responseType:"json"},setContent:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/content-template",method:"POST"},arrangedSeasons:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/arranged-seasons",isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},arrange:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/arrange",method:"POST"},availableSeasonName:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/available-season-name",method:"GET",responseType:"text",transformResponse:function(e){return{data:e}}},uniqueSeasonName:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/is-season-name-conflict",method:"GET"},canTeacherArranged:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/can-teacher-be-arranged",method:"GET"},setUpOutlineItemMaterial:{url:"/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/material",method:"GET"},update:{url:"/tutor-crm-season/api/season-prototypes/update",method:"GET"}})}]),app.service("Season",["$resource","Pager",function(e,s){return e("/tutor-crm-season/api/seasons/:seasonId",{seasonId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},create:{url:"/tutor-crm-season/api/seasons",method:"POST"},getV2:{url:"/tutor-crm-season/api/seasons/v2/:seasonId",method:"GET"},updateV2:{url:"/tutor-crm-season/api/seasons/v2/:seasonId",method:"POST"},regions:{url:"/tutor-crm-season/api/seasons/regions",method:"GET",isArray:!0},textbookSuites:{url:"/tutor-crm-season/api/seasons/textbook-suites",method:"GET",isArray:!0},fetch:{url:"/tutor-crm-season/api/seasons/:seasonId/fetch",method:"GET"},update:{url:"/tutor-crm-season/api/seasons/:seasonId/update",method:"POST"},labels:{url:"/tutor-crm-season/api/seasons/labels",method:"GET",isArray:!0},publish:{url:"/tutor-crm-season/api/seasons/:seasonId/publish",method:"POST"},retire:{url:"/tutor-crm-season/api/seasons/:seasonId/retire",method:"POST"},recommend:{url:"/tutor-crm-season/api/seasons/:seasonId/recommend",method:"POST"},cancelRecommend:{url:"/tutor-crm-season/api/seasons/:seasonId/cancel-recommend",method:"POST"},episodeDetail:{url:"/tutor-crm-season/api/seasons/:seasonId/episodes/:ordinal/episode-detail",method:"GET"},tradeDetail:{url:"/tutor-crm-season/api/seasons/:seasonId/trade-detail",isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},tradeDetailForStudent:{url:"/tutor-crm-season/api/seasons/:seasonId/trade-detail/:userId",method:"GET"},getLogs:{url:"tutor-crm-season/api/seasons/:seasonId/logs",isArray:!0,method:"GET",responseType:"json"},transfer:{url:"tutor-crm-season/api/seasons/:seasonId/trade-detail/:orderId/transfer",method:"POST"},refund:{url:"tutor-crm-season/api/seasons/:seasonId/trade-detail/:orderId/refund",method:"POST"},up:{url:"tutor-crm-season/api/season-prototypes/:prototypeId/seasons/:seasonId/up",method:"POST"},down:{url:"tutor-crm-season/api/season-prototypes/:prototypeId/seasons/:seasonId/down",method:"POST"},batchTransfer:{url:"tutor-crm-season/api/seasons/:seasonId/transfer",method:"POST",isArray:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}})}]),app.service("TutorQQ",["$resource","Pager",function(e,s){return e("/tutor-qq/api/qq-groups/:qqgroupId",null,{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},edit:{url:"/tutor-qq/api/qq-groups/:qqgroupId",method:"POST"},qqgroupStat:{url:"/tutor-qq/api/qq-groups/stat",method:"GET"},creator:{url:"/tutor-qq/api/qq-groups/creators",method:"GET",isArray:!0,responseType:"json"},allocateQqgroup:{url:"/tutor-qq/api/seasons/:seasonId/qq-groups/allocate",method:"POST"},getSeasonQQGroups:{url:"/tutor-qq/api/seasons/:seasonId/qq-groups/usage",method:"GET",isArray:!0,responseType:"json"}})}]),app.service("SeasonPost",["$resource","Pager",function(e,s){return e("/tutor-crm-season-gift/api/gifts/:giftId",{giftId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()}})}]);
"use strict";app.service("SeasonContentTemplate",["$resource",function(e){return e("/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/content-template")}]);
"use strict";app.service("SeasonKeynoteSection",["$http",function(e){var t={};return t.generateResource=function(t,n){function o(e){e&&e.length&&e.forEach(function(e){Object.keys(e).forEach(function(t){0===t.indexOf("__")&&delete e[t]}),o(e.subsections)})}var s="/tutor-crm-season/api/season-prototypes/"+n.prototypeId+"/outlines/"+n.outlineItemOrdinal+"/keynote/sections/"+n.sectionIndex;return t=$.extend(!0,{},t),o(t.sections),e.post(s,t).then(function(e){return e.data})},t}]);
"use strict";app.service("SeasonKeynoteTemplate",["$resource",function(e){return e("/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/keynote-template")}]);
"use strict";app.service("SeasonKeypoint",["$resource",function(e){return e("/tutor-crm-season/api/keypoint-catalogs/:catalogId/keypoints/:keypointId")}]);
"use strict";app.service("SeasonQuestion",["$resource",function(e){return e("/tutor-crm-season/api/questions/:questionId")}]);
"use strict";app.service("SeasonResource",["$http",function(e){var r={};return r.getPage=function(r){return e.get("/tutor-crm-season/api/resources/"+r+"/page").then(function(e){return e.data})},r.getPageUrl=function(e){return"/tutor-crm-season/api/resources/"+e},r}]);
"use strict";app.service("SeasonTemplatePostSheet",["$resource",function(e){return e("/tutor-crm-season/api/season-prototypes/:prototypeId/outline/:outlineItemOrdinal/post-sheet/:postSheetId",{},{save:{method:"POST"}})}]);
"use strict";app.service("Semester",["$resource",function(e){return e("/tutor-crm-season/api/semesters")}]);
"use strict";app.service("SerialPrototype",["$resource","Pager",function(e,r){return e("/tutor-crm-serial/api/serial-prototypes/:prototypeId",{prototypeId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json"},getUnHidden:{url:"/tutor-crm-serial/api/serial-prototypes/unhidden",isArray:!0,method:"GET",responseType:"json"},getPrices:{url:"/tutor-crm-serial/api/serial-prototypes/prices",isArray:!0,method:"GET",responseType:"json"},update:{url:"/tutor-crm-serial/api/serial-prototypes/:prototypeId",method:"POST"},publish:{url:"/tutor-crm-serial/api/serial-prototypes/:prototypeId/publish",method:"POST"},hide:{url:"/tutor-crm-serial/api/serial-prototypes/:prototypeId/hide",method:"POST"},getAllOutlines:{url:"/tutor-crm-serial/api/serial-prototypes/:prototypeId/outlines",isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()},getOutline:{url:"/tutor-crm-serial/api/serial-prototypes/:prototypeId/outlines/:outlineId",method:"GET",responseType:"json"},createOutline:{url:"/tutor-crm-serial/api/serial-prototypes/:prototypeId/outlines",method:"POST"},updateOutline:{url:"/tutor-crm-serial/api/serial-prototypes/:prototypeId/outlines/:outlineId",method:"POST"},removeOutline:{url:"/tutor-crm-serial/api/serial-prototypes/:prototypeId/outlines/:outlineId",method:"DELETE"}})}]),app.service("Serial",["$resource","$filter","Pager","SERIAL_STATUS","SERIAL_SALE_STATUS",function(e,r,t,s,o){var a=e("/tutor-crm-serial/api/serials/:serialId",{serialId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:t.transformResponse()},updateTeacherPrototype:{url:"/tutor-crm-serial/api/serials/teacher-prototype",method:"POST"},close:{url:"/tutor-crm-serial/api/serials/:serialId/close",method:"POST"},refund:{url:"/tutor-crm-serial/api/serials/:serialId/refund",method:"POST"},amend:{url:"/tutor-crm-serial/api/serials/episodes/:episodeId/amend",method:"POST"},amendTerm:{url:"/tutor-crm-serial/api/serials/:serialId/amend",method:"POST",transformResponse:function(e){return{result:e}}},transfer:{url:"/tutor-crm-serial/api/serials/:serialId/transfer",method:"POST"},isAmended:{url:"/tutor-crm-serial/api/serials/:serialId/is-amended",method:"GET",transformResponse:function(e){return{data:e}}}});return a.getSaleStatus=function(e,t){var s;return s=e.prototype.endSaleTime<=_.now()?"endSale":"appointed"===e.status||"refunded"===e.status?"appointed":"noAppointed",t?r("nameInArray")(s,o,"value"):s},a.getSerialStatus=function(e,t){var o;return"closed"===e.status&&(o="offShelf"),"refunded"===e.status&&(o="refunded"),"appointed"===e.status&&e.endTime<_.now()&&(o="complete"),"appointed"===e.status&&e.endTime>_.now()&&(o="starting"),"expired"===e.status&&(o="expired"),t?r("nameInArray")(o,s,"value"):o},a}]),app.service("SerialPost",["$resource","Pager",function(e,r){return e("/tutor-crm-serial-gift/api/gifts/:giftId",{giftId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()}})}]);
"use strict";app.service("Sheet",["$resource",function(e){return e("/tutor-episode-template/api/keypoint-catalogs/:catalogId/sheets/:sheetId",{catalogId:"@catalogId",sheetId:"@id"})}]);
"use strict";app.service("Shipment",["$resource",function(e){return e("/tutor-crm-shipment/api/shipments/:shipmentId",{shipmentId:"@id"})}]);
"use strict";app.service("Splash",["$resource","Pager",function(e,s){var r=e("/tutor-banner/api/splashes/:id",{id:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:s.transformResponse()},save:{url:"/tutor-banner/api/splashes/new",method:"POST"},cancel:{url:"/tutor-banner/api/splashes/:id/cancel"}});return r}]);
"use strict";app.service("Syllabus",["$resource",function(e){return e("/tutor-crm-keypoint/api/syllabuses")}]);
"use strict";app.service("Tag",["EPTag","EpisodeTemplateTag","TAG_TYPE",function(e,t,a){var p={getAll:function(p){return p===a.EPISODE_TAG?e.getAll():p===a.EPISODE_TEMPLATE_TAG?t.getAll():[]},save:function(p,r){return p===a.EPISODE_TAG?e.save(r):p===a.EPISODE_TEMPLATE_TAG?t.save(r):void 0},attach:function(p,r,d){return p===a.EPISODE_TAG?e.attach({epId:r},d):p===a.EPISODE_TEMPLATE_TAG?t.attach({episodeTemplateId:r},d):void 0},detach:function(p,r,d){return p===a.EPISODE_TAG?e.detach({epId:r},d):p===a.EPISODE_TEMPLATE_TAG?t.detach({episodeTemplateId:r},d):void 0}};return p}]),app.service("EpisodeTag",["$resource",function(e){return e("/tutor-cms-tag/api/tags/:tagId",{tagId:"@id"},{getAllByType:{isArray:!0,method:"GET",responseType:"json"}})}]),app.service("EPTag",["$resource",function(e){return e("/tutor-ep/api/tags/:tagId",{tagId:"@id"},{getAll:{isArray:!0,method:"GET",responseType:"json"},attach:{url:"/tutor-ep/api/tags/:epId/attach",method:"POST"},detach:{url:"/tutor-ep/api/tags/:epId/detach",method:"POST"}})}]),app.service("EpisodeTemplateTag",["$resource",function(e){return e("/tutor-episode-template/api/tags/:tagId",{tagId:"@id"},{getAll:{isArray:!0,method:"GET",responseType:"json"},attach:{url:"/tutor-episode-template/api/tags/:episodeTemplateId/attach",method:"POST"},detach:{url:"/tutor-episode-template/api/tags/:episodeTemplateId/detach",method:"POST"}})}]);
"use strict";app.service("Teacher",["$resource","Pager",function(e,r){return e("/tutor-crm-teacher/api/teachers/:teacherId",{teacherId:"@id"},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()},queryByVerify:{url:"/api/teachers/by-verify-status",isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()},history:{url:"/tutor-crm-teacher/api/teachers/:teacherId/history",isArray:!0,method:"GET",responseType:"json"},getDetailInfo:{url:"/tutor-crm-teacher/api/teachers/:teacherId/detail-info",isArray:!0,method:"GET",responseType:"json"},getDetailInfoByType:{url:"/tutor-crm-teacher/api/teachers/:teacherId/detail-info/by-type",method:"GET"},updateDetailInfo:{url:"/tutor-crm-teacher/api/teachers/:teacherId/detail-info",method:"PUT"},hideDetailInfoEntry:{url:"/tutor-crm-teacher/api/teachers/:teacherId/detail-info-entry",method:"PUT"},activate:{url:"/tutor-crm-teacher/api/teachers/:teacherId/activate",method:"PUT"},hide:{url:"/tutor-crm-teacher/api/teachers/:teacherId/hide",method:"PUT"},fire:{url:"/tutor-crm-teacher/api/teachers/:teacherId/fire",method:"PUT"},getEpisodeCategory:{url:"/tutor-crm-teacher/api/teachers/:teacherId/episode-categories",method:"GET"},updateEpisodeCategory:{url:"/tutor-crm-teacher/api/teachers/:teacherId/episode-categories",method:"PUT"},updateSettings:{url:"/tutor-crm-teacher/api/teachers/:teacherId/settings",method:"POST"},verify:{url:"/api/teachers/:teacherId/verify",method:"POST"},notify:{url:"/api/teachers/:teacherId/notifies/:event",method:"POST"},log:{url:"/tutor-teacher-log/api/logs/:teacherId",isArray:!0,method:"GET",responseType:"json"},pend:{url:"/api/teachers/:teacherId/pend",method:"GET"},publish:{url:"/tutor-crm-teacher/api/teachers/:teacherId/publish",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}})}]);
"use strict";app.service("TeacherStat",["$resource","Pager",function(e,r){return e("/tutor-crm-stat/api/teachers/:teacherId",{},{query:{isArray:!0,method:"GET",responseType:"json",transformResponse:r.transformResponse()}})}]);
"use strict";app.service("Textbook",["$resource",function(e){return e("/api/keypoint-trees")}]);
"use strict";app.service("TextbookSuite",["$resource",function(t){return t("/tutor-crm-keypoint/api/textbook-suites")}]);
"use strict";app.service("Trial",["$resource",function(e){return e("/api/teachers/:teacherId/trials/:id",{id:"@id"},{verify:{url:"/api/teachers/:teacherId/trials/verify",method:"POST",isArray:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}})}]);
"use strict";app.service("User",["$resource",function(r){return r("/api/users/:id",{id:"@id"},{current:{url:"/api/users/current",method:"GET"}})}]);
"use strict";app.service("UserList",["$resource","$http",function(t,s){var i=t("/tutor-user-list/api/lists/:id/ids",{},{save:{isArray:!0,method:"POST"}});return i.query=function(t){var i=t.listKey,r=[];return r.$promise=s.get("/tutor-user-list/api/lists/"+i+"/ids").then(function(t){r.splice(0,r.length),t.data.forEach(function(t){r.push(t)})}),r},i}]);
"use strict";app.service("UserListLog",["$resource",function(s){return s("/tutor-user-list/api/lists/:listKey/logs")}]);
"use strict";app.constant("Address",[{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]
},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",
children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]},{name:"",children:[{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]},{name:"",children:[]}]}]);
"use strict";app.service("Confirm",["$q",function(t){function e(){delete a.title,delete a.text,delete a.confirmText,delete a.cancelText,delete a.isAlert,delete a.cancel,delete a.submit}var a={},i=function(i){var n=t.defer();a.title=i.title,a.confirmText=i.confirmText,a.cancelText=i.cancelText,a.isAlert=i.isAlert,a.zIndex=1e4,"[object Array]"===Object.prototype.toString.call(i.text)?a.text=i.text:a.text=[i.text],"[object Array]"===Object.prototype.toString.call(i.imageIds)?a.imageIds=i.imageIds:a.imageIds=[i.imageIds],void 0!==i.tag&&"[object Array]"!==Object.prototype.toString.call(i.tag)&&(i.tag=[i.tag]);var r=0;if(void 0!==i.tag&&i.tag.length===a.text.length)for(r=a.text.length;r--;)a.text[r]={tag:i.tag[r]+": ",content:a.text[r]};else for(r=a.text.length;r--;)a.text[r]={tag:"",content:a.text[r]};if(void 0!==i.tag&&i.tag.length===a.imageIds.length)for(r=a.imageIds.length;r--;)a.imageIds[r]={tag:i.tag[r]+": ",src:a.imageIds[r]};else for(r=a.text.length;r--;)a.imageIds[r]={tag:"",src:a.imageIds[r]};return a.cancel=function(t){e(),n.reject(t?t:!1)},a.submit=function(){e(),n.resolve(!0)},n.promise};return{show:i,confirmInfo:a}}]);
"use strict";app.service("delay",["$timeout","$q",function(t,n){return function(e){var r=_.rest(arguments);return r.push(t(function(){},e)),n.all(r).then(function(t){return _.initial(t)})}}]);
"use strict";app.service("ExceptionHandler",["Toast","$exceptionHandler",function(e,r){return function(t,n){try{e.error(t.message),r(t,n)}catch(c){}}}]);
"use strict";app.service("formError",["$q",function(t){return function(r,e){return function(n){return n.statusText?(n.processed(),void(r[e]=n.statusText)):t.reject(n)}}}]);
"use strict";app.service("Gallery",["$http","API_SERVER","$q","$rootScope","Utils","GALLERY_CONFIG",function(e,r,t,n,o,s){function a(e){var r=t.defer(),n=new XMLHttpRequest;return n.open("GET",e,!0),n.send(),n.responseType="arraybuffer",n.onload=function(){if(200===this.status){var t=new Blob([this.response],{type:this.getResponseHeader("content-type")});0===e.indexOf("blob:")&&URL.revokeObjectURL(e),r.resolve(t)}else r.reject(new Error(""))},r.promise}var i={upload:function(e,r,s){var p=t.defer();return a(e).then(function(e){var t=new FormData;s?t.append("image",e,s):t.append("image",e);var a=new XMLHttpRequest;a.open("POST",r===!0?i.userImagePrefix:i.imagePrefix,!0),a.responseType="text",a.withCredentials=!0,a.upload.onprogress=function(e){p.notify(0!==e.total?e.loaded/e.total:0),o.safeApply(n)},a.onerror=function(){p.reject(this),o.safeApply(n)},a.onload=function(){200===this.status?p.resolve(JSON.parse(this.responseText)):p.reject(this),o.safeApply(n)},a.send(t)}),p.promise},userImagePrefix:r.gallery+s.urlPrefix+s.owner.user,imagePrefix:r.gallery+s.urlPrefix+s.owner.pub};return i}]);
"use strict";app.service("Pager",function(){var e=5,t={};return t.transformResponse=function(e){return function(t){if(t&&t.list){var a=t.pageInfo;return e&&(t.list=t.list.map(e)),t.list[0]&&(t.list[0]._pageInfo=a),t.list}return t}},t.setPageInfo=function(e,t){e.then(function(e){if(e[0]&&e[0]._pageInfo){var a=e[0]._pageInfo;delete e[0]._pageInfo,t.pageInfo=a}else t.pageInfo={totalItem:0,totalPage:0,pageSize:20,currentPage:0}})},t.getPageList=function(t,a){if(0===a)return[];var n=1,r=a-2;if(a>e){var i=Math.floor(e/2),s=Math.floor(e/2);if(n=Math.max(1,t-i),r=Math.min(a-2,t+s),e>r-n+1){var o=e-(r-n+1);1===n?r=Math.min(a-2,r+o):n=Math.max(1,n-o)}}var f=[];return f.push({isNumber:!0,page:0}),n>1&&f.push({isDots:!0}),_.range(n,r+1).forEach(function(e){f.push({isNumber:!0,page:e})}),a-2>r&&f.push({isDots:!0}),a>1&&f.push({isNumber:!0,page:a-1}),f},t});
"use strict";app.service("Reset",["$location",function(e){return function(){e.search({rnd:_.random(Number.MAX_SAFE_INTEGER)})}}]);
"use strict";app.service("Toast",["$timeout",function(t){var n=[],s={toasts:n,success:function(t){s.toast("success",t,3e3)},error:function(t){s.toast("danger",t,3e3)},loading:function(t,n){var e=s.toast("warning",n,3e6);t["finally"](e)},toast:function(s,e,a){e={type:s,msg:e,closeable:!a},n.length&&n.splice(0,1),n.push(e);var o=function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)};return t(o,a),o}};return s}]);
"use strict";app.service("UploadHelper",["$http","$q","$rootScope","Utils",function(e,t,r,n){function s(e){var r=t.defer(),n=new XMLHttpRequest;return n.open("GET",e,!0),n.send(),n.responseType="arraybuffer",n.onload=function(){if(200===this.status){var e=new Blob([this.response],{type:this.getResponseHeader("content-type")});r.resolve(e)}else r.reject(new Error(""))},r.promise}var o={upload:function(e,o,p,a){var i=t.defer();return s(e).then(function(e){var t=new FormData;a?t.append(p,e,a):t.append(p,e);var s=new XMLHttpRequest;s.open("POST",o,!0),s.responseType="text",s.withCredentials=!0,s.upload.onprogress=function(e){i.notify(0!==e.total?e.loaded/e.total:0),n.safeApply(r)},s.onerror=function(){i.reject(this),n.safeApply(r)},s.onload=function(){200===this.status?this.responseText?i.resolve(JSON.parse(this.responseText)):i.resolve():i.reject(this),n.safeApply(r)},s.send(t)}),i.promise}};return o}]);
"use strict";app.service("URLHelper",function(){var e=function(e){return"string"==typeof e&&String(parseInt(e,10))===e?parseInt(e,10):e},n=function(n){return"true"===n?!0:"false"===n?!1:e(n)},r={resolve:function(){var e=_.toArray(arguments),n=_.last(e),t=_.initial(e).join("/").replace(/\/\//g,"/");t=t.replace("/?","?"),t.lastIndexOf("/")===t.length-1&&(t=t.substr(0,t.length-1)),_.isObject(n)||(n=r.queryToObj(n));var u=t.indexOf("?");if(-1!==u){var o=t.substring(u+1,t.length);t=t.substring(0,u),o.length>0&&(o=r.queryToObj(o),_.defaults(n,o))}return n=r.objToQuery(n),n.length>0&&(t=t+"?"+n),t},queryToObj:function(e){return e=(e||"").replace(/^[\?#]/,""),e.split("&").reduce(function(e,r){return r=r.split("=").map(decodeURIComponent),r[0]&&(e[r[0]]=n(r[1])),e},{})},objToQuery:function(e){var n=Object.keys(e).filter(function(e){return!!e});return e=n.map(function(n){return[n,e[n]].map(encodeURIComponent).join("=")}).join("&")}};return r});
"use strict";app.service("Utils",function(){var n={url:function(n,e){return e=Object.keys(e).map(function(n){return n+"="+encodeURIComponent(e[n])}).join("&"),n+(-1!==n.indexOf("?")?"&":"?")+e},doubleLength:function(n){return(n||"").replace(/[\uFE30-\uFFA0\u2E80-\u9FFF\uac00-\ud7ff\u3000]/g,"**").length},safeApply:function(n,e){var t=n.$root.$$phase;"$apply"===t||"$digest"===t?e&&"function"==typeof e&&e():e&&"function"==typeof e?n.$apply(e):n.$apply()},empty:function(n){return"[object Array]"===Object.prototype.toString.call(n)?void n.splice(0,n.length):void _.forEach(n,function(e,t){n[t]=null,delete n[t]})},containsRecursive:function(e,t,r,u){if(r(e))return u(e),!0;var i=e[t];if(!i||!i.length)return!1;var c=i.some(function(e){return n.containsRecursive(e,t,r,u)});return c?(u(e),!0):!1},smartType:function(e){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("undefined"!==e)return"string"==typeof e?String(parseInt(e,10))===e?parseInt(e,10):e:e instanceof Array?e.map(n.smartType):"number"==typeof e?e:Object.keys(e).reduce(function(t,r){return t[r]=n.smartType(e[r]),t},{})},checkPristine:function(n,e,t,r){r=r||!1;var u=_.some(t,function(t){if(!r)return!angular.equals(n[t],e[t]);if("[object Array]"===Object.prototype.toString.call(n[t])){if(n[t].length!==e[t].length)return!0;if(!n[t].length)return!1;var u=Object.keys(n[t][0])[0],i=_.sortBy(n[t],u),c=_.sortBy(e[t],u);return!angular.equals(i,c)}return!angular.equals(n[t],e[t])});return!u},intersectionObject:function(){var n=arguments,e={},t=[];_.each(n,function(n){t.push(_.keys(n))});var r=_.intersection.apply(null,t);return _.each(r,function(t){var r=_.map(n,function(n){return n[t]}),u=_.uniq(r);1===u.length&&(e[t]=u[0])}),e},diffenceObjectKeys:function(){var n=arguments,e=[];_.each(n,function(n){e.push(_.keys(n))});var t=_.intersection.apply(null,e),r=_.filter(t,function(e){var t=_.map(n,function(n){return n[e]}),r=_.uniq(t);return r.length>1});return r}};return n});
"use strict";app.service("TeacherVerify",["$resource",function(e){return e("/api/teachers/:teacherId",{teacherId:"@id"},{})}]),app.service("Verify",["$resource",function(e){return e("/api/teachers/:teacherId/verifies/:verifyId",{verifyId:"@id",teacherId:"@teacherId"},{queryByTeacher:{url:"/api/teachers/:teacherId/verifies",method:"GET",isArray:!0},getByType:{url:"/api/teachers/:teacherId/verifies/by-type",method:"GET"},verify:{url:"/api/teachers/:teacherId/verifies/:verifyId",method:"POST",params:{verifyId:"@id",teacherId:"@teacherId"}},batchVerify:{url:"/tutor-crm-verify/api/teachers/:teacherId/verifies/batch-verify",method:"POST",isArray:!0}})}]),app.service("BatchVerify",["$resource",function(e){return e("/api/verifies/batch",null,{reject:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}})}]);
angular.module("tutor-crm-web").run(["$templateCache",function(n){n.put("directives/actionLog.html",'<div class="modal" on-close="onClose()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <ul>\n                            <li ng-repeat="log in actionLog.logs track by $index">[{{log.logLevel}}] - [{{log.createdTime | date:\'yyyy-MM-dd hh:MM:ss\'}}] - {{log.message}}</li>\n                        </ul>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/assistant.html",'<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <thead>\n            <tr>\n                <th> ID</th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="id in assistantUserIds">\n                <td>{{id}}</td>\n                <td>\n                    <user-name user-id="id"></user-name>\n                </td>\n                <td>\n                    <a href="" ng-click="removeAssistant(id)">\n                        <i class="fa fa-times"></i>\n                    </a>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n        <a href="" ng-click="addAssistant()"></a>\n    </div>\n</div>\n'),n.put("directives/content.html",'<div class="well well-sm" loading="loadingPromise">\n    <div ng-if="loading">\n        <i class="fa fa-spin fa-spinner"></i> ...\n    </div>\n    <div ng-if="!loading && !content.id && readonly">\n        EP \n    </div>\n    <form action="" ng-if="!loading && (content.id || !readonly)">\n        <div class="form-group" style="margin-left: 0; margin-bottom: 0;" ng-if="!readonly || content.catalogId">\n            <label>\n                <a href="" ng-click="openSettingDialog()" ng-if="!readonly && content.id"></a>\n                <a href="" ng-click="openSettingDialog()" ng-if="!readonly && !content.id"></a>\n            </label>\n            <div class="form-control-static" ng-if="content.catalogId">\n                <span ng-if="content.catalogId">\n                    <span class="label label-danger" ng-if="content.difficulty">{{content.difficulty | valueToName:DIFFICULTY}}</span>\n                    &nbsp;\n                    <span class="label label-primary" keypoint-catalog-name catalog-id="content.catalogId" ng-if="content.catalogId"></span>\n                    &nbsp;\n                    <span ng-repeat="keypointId in content.keypointIds" ng-if="content.catalogId">\n                        <span class="label label-info"keypoint-name catalog-id="content.catalogId" keypoint-id="keypointId"></span>\n                        &nbsp;\n                    </span>\n                </span>\n            </div>\n        </div>\n\n        <hr>\n\n        <div class="form-group" style="margin-left: 0; margin-bottom: 0;">\n            <label></label>\n            <div class="form-control-static">\n                <input-keynote ng-model="content.keynoteId" content-id="content.id" subject-id="subjectId" phase="phase" catalog-id="content.catalogId" keypoint-ids="content.keypointIds" ng-change="save(\'\')" readonly="readonly" title="keynoteTitle"></input-keynote>\n            </div>\n        </div>\n\n        <hr>\n\n        <div class="form-group" style="margin-left: 0; margin-bottom: 0;">\n            <label></label>\n            <div class="form-control-static">\n                <material-list ng-model="content.materialResourceIds" ng-change="save(\'\')" readonly="readonly"></material-list>\n            </div>\n        </div>\n\n        <hr ng-if="content.keypointIds.length">\n\n        <div class="form-group" style="margin-left: 0; margin-bottom: 0;" ng-if="content.keypointIds.length">\n            <label></label>\n            <div class="form-control-static">\n                <sheet content-id="content.id" catalog-id="content.catalogId" keypoint-ids="content.keypointIds" ng-model="content.postClassSheetId" ng-change="save(\'\')" readonly="readonly"></sheet>\n            </div>\n        </div>\n    </form>\n</div>\n\n<div class="modal" on-close="closeSettingDialog()" ng-if="temp.settingDialog">\n    <div class="modal-dialog">\n        <div dialog-loading="loadingPromise"></div>\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n\n            <form name="episodeContentForm" class="form-horizontal" n-form novalidate ng-submit="episodeContentForm.checkSubmit(onDialogSubmit)">\n                <div class="modal-body">\n                    <div class="form-group" n-form-group>\n                        <label class="col-sm-2 control-label" for="catalogId"></label>\n                        <div class="col-sm-10">\n                            <span class="text-danger form-control-static-text hide" n-form-error="\'required\'"></span>\n\n                            <div class="form-control-static text-muted" ng-if="syllabuses.length"></div>\n                            <label class="radio-inline" ng-repeat="textbookSuite in textbookSuites track by textbookSuite.id">\n                                <input type="radio" ng-model="formData.catalogId" name="catalogId" ng-value="textbookSuite.id" required> {{textbookSuite.name}}\n                            </label>\n                            <div ng-if="syllabuses.length">\n                                <div class="form-control-static text-muted"></div>\n                                <label class="radio-inline" ng-repeat="syllabus in syllabuses track by syllabus.id">\n                                    <input type="radio" ng-model="formData.catalogId" name="catalogId" ng-value="syllabus.id" required> {{syllabus.name}}\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="form-group" n-form-group>\n                        <label class="col-sm-2 control-label" for="difficulty"></label>\n                        <div class="col-sm-10">\n                            <label class="radio-inline" ng-repeat="difficulty in DIFFICULTY">\n                                <input type="radio" ng-model="formData.difficulty" ng-value="difficulty.value" name="difficulty" required> {{difficulty.name}}\n                            </label>\n\n                            <span class="text-danger form-control-static-text hide" n-form-error="\'required\'"></span>\n                        </div>\n                    </div>\n\n                    <div ng-if="keypoints.length">\n                        <hr>\n\n                        <div class="form-group" n-form-group>\n                            <label class="col-sm-2 control-label" for="keyword"></label>\n                            <div class="col-sm-10">\n                                <input class="form-control" type="text" ng-model="formData.keyword" />\n                            </div>\n                        </div>\n\n                        <div class="form-group" n-form-group>\n                            <div class="col-sm-12">\n                                <div class="well well-sm" style="max-height: 200px; overflow-y: auto;">\n                                    <select-keypoint keypoints="keypoints" ng-model="formData.keypointIds" target-type="knowledge" name="keypointIds" required maxlength="10" minlength="1"></select-keypoint>\n                                </div>\n                                <div class="text-danger form-control-static-text hide" n-form-error="[\'required\', \'minlength\']" rel="keypointIds">1</div>\n                                <div class="text-danger form-control-static-text hide" n-form-error="\'maxlength\'" rel="keypointIds" bypass-attempted="true">10</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary" type="submit" ng-disabled="episodeContentForm.needsAttention()"></button>\n                    <button class="btn btn-default" ng-click="closeSettingDialog()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/deviceInfo.html",'<span ng-if="device">{{device.MODEL || device}}</span>\n'),n.put("directives/epSearch.html",'<div page-loading="loadingPromise"></div>\n<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="row">\n                <div class="col-sm-12">\n                    <div class="well well-sm">\n                        <form class="form-horizontal" novalidate name="form">\n\n                            <div class="form-group">\n                                <div class="center-block">\n                                    <span class="text-warning">: {{subjectId | subject}}</span>\n                                    <span class="text-warning">: {{phase === \'chuzhong\' ? \'\' : \'\'}}</span>\n                                </div>\n                            </div>\n\n                            <tag form-data="formData" loading-promise="tagPromise" tag-type="episode"></tag>\n\n\n                            <div class="form-group">\n                                <label for="episode" class="col-sm-2 control-label"></label>\n                                <div class="col-sm-8">\n                                    <input type="text" class="form-control input-m" id="episode"\n                                           placeholder="/id"\n                                           ng-model="formData.episodeInfo">\n                                </div>\n                            </div>\n\n                            <div class="form-group">\n                                <label for="teacher" class="col-sm-2 control-label"></label>\n                                <div class="col-sm-8">\n                                    <input type="text" class="form-control input-m" id="teacher"\n                                           placeholder="/id"\n                                           ng-model="formData.teacherInfo">\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <div class="col-sm-8 col-sm-offset-2">\n                                    <button class="btn btn-primary" type="submit" ng-click="submit()">\n                                    </button>\n                                    <button class="btn btn-default" ng-click="reset()">\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n            <div>\n                <div class="text-danger col-sm-offset-1">id: {{temp.selectedEpisodeIds}}</div>\n                <div class="text-danger col-sm-offset-1"> {{temp.selectedEpisodeIds.length}} </div>\n                <div class="btn btn-group center-block">\n                    <button class="btn-primary " ng-click="submitAdd()"></button>\n                    <button class="btn-danger " ng-click="cancel()"></button>\n                </div>\n            </div>\n            <table  class="table" ng-if="showTable" select-list-scope>\n                <thead>\n                <tr>\n                    <th>\n                        <input type="checkbox" ng-model="temp.selectedEpisodeIds" select-all>\n                    </th>\n                    <th> id</th>\n                    <th>EP </th>\n                    <th></th>\n                    <th></th>\n                    <th>id</th>\n                    <th></th>\n                    <th></th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="episode in episodes | filter: {status:\'\'}">\n                    <td>\n                        <input type="checkbox" ng-model="temp.selectedEpisodeIds" ng-true-value="{{episode.id}}"\n                               select-list>\n                    </td>\n                    <td>{{episode.id}}</td>\n                    <td>{{episode.name}}</a></td>\n                    <td>{{episode.startTime | date: \'yyyy-MM-dd HH:mm\'}} - {{episode.endTime | date: \'HH:mm\'}}</td>\n                    <td>{{episode.teacher.nickname}}</td>\n                    <td>{{episode.teacher.id}}</td>\n                    <td>{{episode.tagNameStr}}</td>\n                    <td>{{episode.status}}</td>\n                </tr>\n                </tbody>\n            </table>\n\n        </div>\n    </div>\n</div>\n'),n.put("directives/feedback.html",'<div class="panel panel-default">\n    <div class="panel-heading">\n        <div class="pull-right">\n            <span class="label label-primary">{{feedback.device}}</span>\n            <span class="label label-warning">{{feedback.version}}</span>\n            <span class="label label-success">{{feedback.createdTime | date:\'yyyy-MM-dd HH:mm\'}}</span>\n        </div>\n        <a href="https://redmine.zhenguanyu.com/issues/{{feedback.id}}">[REDMINE-{{feedback.id}}] {{feedback.subject}}</a>\n    </div>\n    <div class="panel-body">\n        <pre style="border: none; background: transparent; padding: 0; margin: 0; white-space: pre-wrap; font-size: 15px;">{{feedback.description}}</pre>\n        <div class="row" ng-if="feedback.attachments.length">\n            <hr>\n            <div class="col-sm-3" ng-repeat="attachment in feedback.attachments">\n                <a href="{{attachment}}" class="thumbnail">\n                    <img ng-src="{{attachment}}">\n                </a>\n            </div>\n            <div class="col-sm-12">\n                <p class="text-muted">: <a href="http://yuantiku.com/login" target="_blank">http://yuantiku.com/login</a></p>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/inputKeynote.html",'<a href="" ng-if="keypointIds.length" ng-click="jumpToKeynoteEdit()">\n    <span ng-if="!keynoteId"></span>\n    <span ng-if="keynoteId"></span>\n</a>\n<a href="#/keynotes/{{keynoteId}}/preview" ng-if="keynoteId"></a>\n<a href="{{API_SERVER.cms}}/tutor-crm-keynote/api/keynotes/{{keynoteId}}/download" ng-if="keynoteId"></a>\n<a href="{{API_SERVER.cms}}/tutor-crm-keynote/api/keynotes/{{keynoteId}}/download-book" ng-if="keynoteId"></a>\n<a select-file file="temp.uploadFileUrl" file-type=".pdf" href="" ng-if="!readonly"></a>\n<upload-file ng-if="temp.uploadFileUrl" file-url="temp.uploadFileUrl" param-name="file" loading-text="..." ng-model="temp.uploadFileId" model-type="id" on-upload-error-callback="onError()" on-uploaded-callback="onSuccess(result)" target="uploadTarget"></upload-file>\n'),n.put("directives/materialList.html",'<upload-file ng-if="temp.showUpload" file-url="temp.uploadMaterialUrl" param-name="resource" file-name="fileName"  loading-text="..." on-upload-error-callbac="onError()" on-uploaded-callback="onSuccess(result)" target="uploadMaterialTarget"></upload-file>\n<ul>\n    <li ng-repeat="resourceId in materialIds">\n        <gallery-resource-name resource-id="resourceId"></gallery-resource-name>\n        &nbsp;\n        <a href="{{resourceUrl}}{{resourceId}}"><i class="fa fa-download"></i></a>\n        <span ng-if="!readonly">\n            &nbsp;\n            <a href="" ng-click="removeMaterial(resourceId)"><i class="fa fa-times"></i></a>\n        </span>\n    </li>\n    <li ng-if="!readonly">\n        <a select-file file="temp.uploadMaterialUrl" on-selected="onSelected(file)" href=""><i class="fa fa-plus"></i>&nbsp;</a>\n    </li>\n</ul>\n'),n.put("directives/operationLog.html",'<div class="form-horizontal">\n    <h4 class="bg-info"></h4>\n    <div class="col-sm-12">\n        <h5> {{logs.length || 0}} </h5>\n        <table class="table table-hover" ng-if="loaded && (logs.length)">\n            <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="log in logs | filter : {userType : \'!student\'}">\n                <td>{{log.createdTime | date : \'yyyy-MM-dd HH:mm\'}}</td>\n                <td>{{log.content }}</td>\n                <td>{{log.userType === \'ldap\' ? log.ldap : log.userInfo.nickname}}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>'),n.put("directives/publishTeacher.html",'<div class="modal" on-close="onClose()" loading="loadingPromise">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="publishForm" class="form-horizontal">\n                <div class="modal-body" ng-if="loading">\n                    <p class="text-center">...</p>\n                </div>\n                <div class="modal-body" ng-if="!loading">\n                    <div class="form-group">\n                        <label class="control-label col-sm-4"></label>\n                        <div class="col-sm-8">\n                            <label class="radio-inline"><input type="radio" name="trialRequired" ng-value="true" ng-model="formData.trialRequired">  </label>\n                            <label class="radio-inline"><input type="radio" name="trialRequired" ng-value="false" ng-model="formData.trialRequired">  </label>\n                        </div>\n                    </div>\n                    <div class="form-group" ng-if="!formData.trialRequired">\n                        <label class="control-label col-sm-4">: </label>\n                        <div class="col-sm-8">\n                            <label class="checkbox-inline" ng-repeat="type in EPISODE_TYPE track by type.value">\n                                <input check-list type="checkbox" name="episodeCategories" ng-model="formData.episodeCategories" ng-true-value="\'{{type.value}}\'" ng-disabled="type.value === \'serial\' && !hasTutorial">\n                                {{type.name}}\n                            </label>\n                        </div>\n                    </div>\n                    <div class="form-group" ng-if="hasTutorial && !formData.trialRequired">\n                        <label class="control-label col-sm-4">11: </label>\n                        <div class="col-sm-8">\n                            <label class="radio-inline" ng-repeat="price in priceLevel"><input required type="radio" ng-value="price" ng-model="formData.verifiedPrice" name="price"> {{price}}</label>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer" ng-if="!loading">\n                    <button class="btn btn-primary" type="submit" ng-disabled="publishForm.$invalid" ng-click="submit()"></button>\n                    <button class="btn btn-default" ng-click="onClose()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/questionAnswer.html",'<span ng-if="question.type === 5 && !isText">\n    <img class="graph-answer" ng-if="questionAnswer.choice === \'0\'" src="images/correct-f14fba723d.svg">\n    <img class="graph-answer" ng-if="questionAnswer.choice === \'1\'" src="images/wrong-729ef3db9d.svg">\n</span>\n<span ng-if="(question.type !== 5 || isText) && formatted">\n{{formatedAnswer}}\n</span>\n<div ng-if="!formatted && !questionAnswer.images" ng-bind-html="$sanitize(questionAnswer.answer)"></div>\n'),n.put("directives/questionOptionList.html",'<ul class="list-group">\n    <li ng-repeat="option in options track by $index" class="clearfix list-group-item {{optionsClass[$index]}}">\n        <span class="pull-left">{{$index | indexToLabel}}</span>\n        <span ng-if="option">\n            <span class="pull-left">. </span>\n            <div class="content" ng-bind-html="$sanitize(option)"></div>\n        </span>\n    </li>\n</ul>\n'),n.put("directives/selectKeypoint.html",'<div ng-repeat="item in keypoints track by item.id" ng-if="item.children">\n    <keypoint-tree target-type="{{targetType}}" form-data="formData" textbook="item"></keypoint-tree>\n</div>\n'),n.put("directives/sheet.html",'<a href="" ng-click="temp.previewDialog = true" ng-if="sheet.id"></a>\n<a href="" ng-click="temp.editDialog = true" ng-if="!readonly && sheet.id"></a>\n<a href="" ng-click="removeSheet()" ng-if="!readonly && sheet.id"></a>\n<a href="" ng-click="temp.editDialog = true" ng-if="!readonly && !sheet.id"></a>\n\n<select-question\n    ng-if="temp.editDialog && keypointIds.length"\n    catalog-id="catalogId"\n    keypoint-ids="keypointIds"\n    question-limit="9999"\n    on-close="temp.editDialog = false"\n    on-submit="onSelect(selectedItems)"\n    selected-items="sheet.items"\n    hide-type="true"\n    content-id="contentId">\n</select-question>\n\n<div class="modal" on-close="temp.previewDialog = false" ng-if="temp.previewDialog">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <div class="modal-body">\n                <div ng-repeat="item in sheet.items track by item.questionId">\n                    <question style="width: 568px;" question-id="item.questionId" index="$index"></question>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" ng-click="temp.previewDialog = false"></button>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/teacherLabel.html",'<div class="form-inline" ng-form="labelForm" ng-if="labels.length > 0">\n    <div class="form-group">\n        <label>: </label>\n        <p class="form-control-static" ng-if="!temp.editMode">\n            <span ng-if="formData.label.id">{{formData.label.name}}</span>\n            <span ng-if="!formData.label.id"></span>\n        </p>\n        <select class="form-control" ng-options="item as item.name for item in labels track by item.id" ng-model="formData.label" ng-if="temp.editMode">\n            <option value=""></option>\n        </select>\n    </div>\n    <button class="btn btn-link" ng-click="temp.editMode = true" ng-if="!temp.editMode"></button>\n    <button class="btn btn-primary" ng-click="saveLabel()" ng-if="temp.editMode"></button>\n</div>\n'),n.put("directives/teacherLog.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <table class="table table-hover" ng-if="loaded && (historys.length || logs.length)">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="history in historys">\n                    <td>{{history.actionType}}<span ng-if="history.comment">{{history.comment}}</span></td>\n                    <td>{{history.ldap}}</td>\n                    <td>{{history.createdTime | date: \'yyyy-MM-dd HH:mm\'}}</td>\n                </tr>\n                <tr ng-repeat="log in logs">\n                    <td>{{log.processedContent[0]}}\n                        <a href="#/episodes/lecture/{{log.processedContent[1]}}" ng-if="log.type === \'interview\'"\n                           target="_blank">id:{{log.processedContent[1]}}</a>\n                    </td>\n                    <td>{{log.ldap}}</td>\n                    <td>{{log.createdTime | date: \'yyyy-MM-dd HH:mm\'}}</td>\n                </tr>\n                </tbody>\n            </table>\n            <p class="form-control-static" ng-if="loaded && !historys.length && !logs.length"></p>\n        </div>\n    </div>\n</div>\n'),n.put("directives/teacherPublishForm.html",'<form class="form-horizontal" name="form" role="form" n-form ng-submit="form.checkSubmit(submit)">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-4">\n            <label class="radio-inline" ng-repeat="price in priceLevel">\n                <input type="radio" name="price" ng-model="formData.price" ng-value="price" required>\n                {{price}}\n            </label>\n        </div>\n    </div>\n\n    <div class="form-group">\n        <div class="col-sm-4 col-sm-offset-2">\n            <button type="submit" class="btn btn-primary" ng-disabled="loading || !form.$valid"></button>\n        </div>\n    </div>\n</form>\n'),n.put("directives/teacherSetting.html",'<div class="form-horizontal" ng-form="settingForm">\n    <div class="form-group">\n        <label class="control-label col-sm-2">: </label>\n        <div class="col-sm-10" ng-if="editMode">\n            <label class="checkbox-inline"><input type="checkbox" ng-true-value="1" ng-model="teacher.episodeCategory.tutorialEnabled" name="tutorialEnabled"> 11</label>\n            <label class="checkbox-inline"><input type="checkbox" ng-true-value="1" ng-model="teacher.episodeCategory.serialEnabled" name="serialEnabled"> 11</label>\n            <label class="checkbox-inline"><input type="checkbox" ng-true-value="1" ng-model="teacher.episodeCategory.lectureEnabled" name="lectureEnabled"> </label>\n            <label class="checkbox-inline"><input type="checkbox" ng-true-value="1" ng-model="teacher.episodeCategory.seasonEnabled" name="seasonEnabled"> </label>\n        </div>\n        <div class="col-sm-10" ng-if="!editMode">\n            <p class="form-control-static">\n                <span ng-if="initData.episodeCategory.tutorialEnabled">11 </span>\n                <span ng-if="initData.episodeCategory.serialEnabled">11 </span>\n                <span ng-if="initData.episodeCategory.lectureEnabled"> </span>\n                <span ng-if="initData.episodeCategory.seasonEnabled"> </span>\n            </p>\n        </div>\n    </div>\n    <div class="form-group" ng-if="teacher.episodeCategory.tutorialEnabled">\n        <label class="control-label col-sm-2">: </label>\n        <div class="col-sm-10" ng-if="editMode">\n            <label class="radio-inline" ng-repeat="price in priceLevel"><input required type="radio" ng-value="price" ng-model="teacher.verifiedPrice" name="price"> {{price}}</label>\n        </div>\n        <input class="hide" type="number" ng-model="teacher.verifiedPrice" min="1">\n        <div class="col-sm-10" ng-if="!editMode">\n            <p class="form-control-static">{{initData.verifiedPrice}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-10 col-sm-offset-2" ng-if="!editMode">\n            <button class="btn btn-primary btn-sm" ng-click="edit()"></button>\n        </div>\n        <div class="col-sm-10 col-sm-offset-2" ng-if="editMode">\n            <button class="btn btn-primary btn-sm" ng-disabled="!isChanged" ng-click="save()"></button>\n            <button class="btn btn-default btn-sm" ng-click="cancel()"></button>\n        </div>\n    </div>\n</div>\n'),n.put("directives/textbookList.html",'<div class="textbook-list">\n    <div class="textbook-item" ng-repeat="textbook in textbooks track by textbook.id" ng-if="!onlyShowSelected || selectedIds[textbook.id]" ng-click="toggle(textbook)" ng-class="{active: selectedIds[textbook.id], editable: !onlyShowSelected}">\n        <label>{{textbook.name}}</label>\n        <p class="version" ng-click="showCategoryList($event, textbook)"></p>\n    </div>\n</div>\n'),n.put("directives/timeRange.html",'{{startTime | date: startFormat}} - <span ng-if="endTime < now">{{endTime | date: endFormat || startFormat}}</span><span ng-if="endTime >= now"></span>\n'),n.put("directives/toastList.html",'<div class="toasts">\n    <div class="alert alert-{{toast.type}}" ng-repeat="toast in toasts">{{toast.msg}}</div>\n</div>\n'),n.put("directives/verifyForm.html",'<div ng-if="verify.status === \'waitToVerify\' && waitToVerify">\n    <div class="well well-sm">\n        <div class="form" n-form ng-form="form">\n            <div class="form-group" n-form-group>\n                <label class="radio-inline"><input type="radio" ng-value="\'verifySuccess\'" ng-model="formData.status" required/></label>\n                <label class="radio-inline"><input type="radio" ng-value="\'verifyFail\'" ng-model="formData.status" required/></label>\n            </div>\n\n            <div class="form-group" n-form-group ng-if="labels.length && formData.status === \'verifySuccess\'">\n                <select class="form-control" ng-model="formData.labelId" ng-options="label.id as label.name for label in labels"><option value=""> ()</option></select>\n            </div>\n\n            <div class="from-group" n-form-group ng-if="formData.status === \'verifyFail\'">\n                <input type="text" name="verifyAdvice" ng-model="formData.advice" required autocomplete="off" class="form-control" placeholder="">\n            </div>\n        </div>\n    </div>\n</div>\n<div ng-if="verify.status !== \'waitToVerify\'">\n    <p>: {{verify.status | verifyStatus}}</p>\n    <p ng-if="verify.advice">: {{verify.advice}}</p>\n</div>\n'),n.put("pages/feedback.html",'<div class="container">\n    <div class="text-center">\n        <div class="btn-group" role="group">\n            <a class="btn btn-default" type="button" ng-repeat="day in days" ng-disabled="day === 3" href="#/feedbacks?dayTime={{dayTime + (day - 3) * 86400000}}">{{dayTime + (day - 3) * 86400000 | date: \'yyyy-MM-dd EEE\'}}\n                <span ng-if="day === 3">({{feedbacks.length || 0}})</span>\n            </a>\n        </div>\n    </div>\n    <hr>\n    <div  ng-repeat="feedback in feedbacks">\n        <div feedback="feedback"></div>\n    </div>\n    <div class="text-center">\n        <div class="btn-group" role="group">\n            <a class="btn btn-default" type="button" ng-repeat="day in days" ng-disabled="day === 3" href="#/feedbacks?dayTime={{dayTime + (day - 3) * 86400000}}">{{dayTime + (day - 3) * 86400000 | date: \'yyyy-MM-dd EEE\'}}\n                <span ng-if="day === 3">({{feedbacks.length || 0}})</span>\n            </a>\n        </div>\n    </div>\n    <hr>\n</div>\n'),n.put("pages/userListEdit.html",'<div class="container">\n    <ul class="nav nav-tabs">\n        <li role="presentation" ng-class="listKey === \'student-black-list\' && \'active\'"><a href="#/user-lists/student-black-list"></a></li>\n        <li role="presentation" ng-class="listKey === \'live-administrator\' && \'active\'"><a href="#/user-lists/live-administrator"></a></li>\n        <li role="presentation" ng-class="listKey === \'productAssistant\' && \'active\'"><a href="#/user-lists/productAssistant"></a></li>\n    </ul>\n    <br>\n\n    <form class="form-inline" ng-submit="add(userId); userId = null;">\n        <div class="form-group">\n            <div class="input-group">\n                <div class="input-group-addon">ID</div>\n                <input type="text" class="form-control" ng-model="userId">\n                <div class="input-group-addon"><user-name user-id="userId"></user-name></div>\n            </div>\n        </div>\n        <button class="btn btn-primary" type="submit">ID</button>\n    </form>\n\n    <br><br>\n\n    <table class="table table-bordered table-striped">\n        <tr>\n            <th>ID</th>\n            <th></th>\n            <th></th>\n        </tr>\n        <tr ng-repeat="id in userIds">\n            <td>{{id}}</td>\n            <td>\n                <user-name user-id="id"></user-name>\n            </td>\n            <td>\n                <a href="" ng-click="remove(id)">\n                    <i class="fa fa-times"></i>\n                </a>\n            </td>\n        </tr>\n    </table>\n\n    <table class="table table-bordered table-striped">\n        <tr>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        <tr ng-repeat="log in logs">\n            <td>{{log.ldapId}}</td>\n            <td>{{log.message}}</td>\n            <td>{{log.createdTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n        </tr>\n    </table>\n</div>\n'),
n.put("pages/userPhone.html",'<div class="container" loading="loadingPromise">\n    <form name="form" class="form-horizontal" n-form ng-submit="form.checkSubmit(submit)">\n        <div class="form-group" n-form-group>\n            <label for="userId" class="col-sm-2 control-label"> ID</label>\n            <div class="col-sm-10">\n                <input style="width: 200px; display: inline-block" type="number" class="form-control" required min="0" ng-model="formData.userId" />\n                &nbsp;&nbsp;: <user-name user-id="formData.userId"></user-name>\n            </div>\n        </div>\n\n        <div class="form-group" n-form-group>\n            <label for="phone" class="col-sm-2 control-label"></label>\n            <div class="col-sm-4">\n                <input type="number" class="form-control" required min="0" ng-model="formData.phone" />\n            </div>\n        </div>\n\n        <div class="form-group">\n            <div class="col-sm-4 col-sm-offset-2">\n                <button class="btn btn-primary" ng-disabled="!form.$valid || loading"></button>\n            </div>\n        </div>\n    </form>\n</div>\n'),n.put("directives/detailInfo/basic.html",'<form name="basicForm" class="form-horizontal" loading="loadingPromise">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">\n                <a href="{{data.avatar | image}}" target="_blank" ng-if="data.avatar">\n                    <img ng-src="{{data.avatar | image}}" width="80" height="80" class="img-circle">\n                </a>\n            </p>\n            <p class="form-control-static">\n                <button class="btn btn-primary btn-sm" select-image image="temp.uploadImageUrl"></button>\n            </p>\n            <upload-image ng-if="temp.uploadImageUrl" image-url="temp.uploadImageUrl" ng-model="temp.uploadImageId" loading-text="..." model-type="id" on-upload-error="onUploadError()"></upload-image>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{data.nickname}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{GENDER[data.gender]}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{data.province}} {{data.city}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static" ng-if="!isEdit">{{data.desc || \'\'}}</p>\n            <textarea class="form-control" ng-model="temp.teacherDesc" ng-if="isEdit" required ng-maxlength="1000"></textarea>\n\n            <p class="form-control-static">\n                <button class="btn btn-primary btn-sm" ng-click="editDesc()" ng-if="!isEdit" ng-disabled="loading"></button>\n                <button class="btn btn-primary btn-sm" ng-click="updateDesc()" ng-if="isEdit" ng-disabled="!basicForm.$valid || loading"></button>\n                <button class="btn btn-primary btn-sm" ng-click="cancelEdit()" ng-if="isEdit"></button>\n            </p>\n        </div>\n    </div>\n</form>\n'),n.put("directives/detailInfo/certification.html",'<form name="certificationForm" class="form-horizontal" loading="loadingPromise">\n    <div ng-if="!data.entries.length">\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static"></p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static"></p>\n            </div>\n        </div>\n    </div>\n\n    <ng-form class="form-group-set" ng-repeat="entry in data.entries" ng-if="data.entries.length">\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n\n            <div class="col-sm-10">\n                <p class="form-control-static" ng-if="!temp.isEdits[$index]">{{entry.desc}}</p>\n                <input type="text" class="form-control" ng-model="temp.formsData[$index].desc" ng-if="temp.isEdits[$index]" required ng-maxlength="140">\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n\n            <div class="col-sm-2">\n                <p class="form-control-static" ng-if="entry.imageId">\n                    <a href="{{entry.imageId | teacherImage:teacherId}}" target="_blank" class="thumbnail">\n                        <img ng-src="{{entry.imageId | teacherImage:teacherId}}">\n                    </a>\n                </p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-10 col-sm-offset-2">\n                <p class="form-control-static">\n                    <button class="btn btn-primary btn-sm" ng-click="edit($index)" ng-if="!temp.isEdits[$index]" ng-disabled="loading"></button>\n                    <button class="btn btn-primary btn-sm" ng-click="updateDesc($index)" ng-if="temp.isEdits[$index]" ng-disabled="!certificationForm.$valid || loading"></button>\n                    <button class="btn btn-primary btn-sm" ng-click="cancelEdit($index)" ng-if="temp.isEdits[$index]"></button>\n\n                    <!--\n                    <button class="btn btn-primary btn-sm" ng-click="hide($index)" ng-if="entry.status !== \'hidden\'" ng-disabled="isDisableHide($index) || loading"></button>\n                    <span class="text-muted" ng-if="entry.status !== \'hidden\' && !isDisableHide($index)">()</span>\n                    <span class="text-muted" ng-if="entry.status !== \'hidden\' && isDisableHide($index)">()</span>\n                    <button class="btn btn-primary btn-sm" ng-click="cancelHide($index)" ng-if="entry.status === \'hidden\'" ng-disabled="loading"></button>\n                    <span class="text-muted" ng-if="entry.status === \'hidden\'">()</span>\n                    -->\n                </p>\n                <hr ng-if="!$last">\n            </div>\n        </div>\n    </ng-form>\n</form>\n'),n.put("directives/detailInfo/education.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{DEGREE[data.degree] || \'\'}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{data.school || \'\'}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static" ng-if="data.startYear && data.endYear">\n                <time-range start-time="data.startYear" end-time="data.endYear" start-format="\'yyyy\'"></time-range>\n            </p>\n            <p class="form-control-static" ng-if="!data.startYear || !data.endYear"></p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-2">\n            <p class="form-control-static" ng-if="data.imageId">\n                <a href="{{data.imageId | teacherImage:teacherId}}" target="_blank" class="thumbnail">\n                    <img ng-src="{{data.imageId | teacherImage:teacherId}}">\n                </a>\n            </p>\n            <p class="form-control-static" ng-if="!data.imageId"></p>\n        </div>\n    </div>\n</div>\n'),n.put("directives/detailInfo/experience.html",'<form name="experienceForm" class="form-horizontal" loading="loadingPromise">\n    <div ng-if="!data.entries.length">\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static"></p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static"></p>\n            </div>\n        </div>\n    </div>\n\n    <ng-form class="form-group-set" ng-repeat="entry in data.entries" ng-if="data.entries.length">\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n\n            <div class="col-sm-10">\n                <p class="form-control-static" ng-if="!temp.isEdits[$index]">{{entry.desc}}</p>\n                <input type="text" class="form-control" ng-model="temp.formsData[$index].desc" ng-if="temp.isEdits[$index]" required ng-maxlength="140">\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n\n            <div class="col-sm-10">\n                <p class="form-control-static">\n                    <time-range start-time="entry.startDate" end-time="entry.endDate" start-format="\'yyyyMM\'"></time-range>\n                </p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-10 col-sm-offset-2">\n                <p class="form-control-static">\n                    <button class="btn btn-primary btn-sm" ng-click="edit($index)" ng-if="!temp.isEdits[$index]" ng-disabled="loading"></button>\n                    <button class="btn btn-primary btn-sm" ng-click="updateDesc($index)" ng-if="temp.isEdits[$index]" ng-disabled="!experienceForm.$valid || loading"></button>\n                    <button class="btn btn-primary btn-sm" ng-click="cancelEdit($index)" ng-if="temp.isEdits[$index]"></button>\n\n                    <!--\n                    <button class="btn btn-primary btn-sm" ng-click="hide($index)" ng-if="entry.status !== \'hidden\'" ng-disabled="isDisableHide($index) || loading"></button>\n                    <span class="text-muted" ng-if="entry.status !== \'hidden\' && !isDisableHide($index)">()</span>\n                    <span class="text-muted" ng-if="entry.status !== \'hidden\' && isDisableHide($index)">()</span>\n                    <button class="btn btn-primary btn-sm" ng-click="cancelHide($index)" ng-if="entry.status === \'hidden\'" ng-disabled="loading"></button>\n                    <span class="text-muted" ng-if="entry.status === \'hidden\'">()</span>\n                    -->\n                </p>\n                <hr ng-if="!$last">\n            </div>\n        </div>\n    </ng-form>\n</form>\n'),n.put("directives/detailInfo/identification.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{data.name}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{data.identity}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-2">\n            <div class="form-control-static" ng-if="data.imageId">\n                <a href="{{data.imageId | teacherImage:teacherId}}" target="_blank" class="thumbnail">\n                    <img ng-src="{{data.imageId | teacherImage:teacherId}}">\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/detailInfo/marketInfo.html",'<div class="form-horizontal" loading="loadingPromise">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static" ng-if="!isEdit && teacher.mktDesc">{{teacher.mktDesc}}</p>\n            <textarea class="form-control" ng-model="temp.mktDesc" ng-if="isEdit" required ng-maxlength="1000" placeholder=""></textarea>\n\n            <p class="form-control-static">\n                <button class="btn btn-primary btn-sm" ng-click="editMktDesc()" ng-if="!isEdit" ng-disabled="loading"></button>\n                <button class="btn btn-primary btn-sm" ng-click="updateMktDesc()" ng-if="isEdit" ng-disabled="temp.mktDesc === teacher.mktDesc || loading"></button>\n                <button class="btn btn-primary btn-sm" ng-click="cancelEdit()" ng-if="isEdit"></button>\n            </p>\n        </div>\n    </div>\n\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static" ng-if="teacher.bannerImageId">\n                <a href="{{teacher.bannerImageId | image}}" target="_blank" ng-if="teacher.bannerImageId">\n                    <img ng-src="{{teacher.bannerImageId | image}}" width="200" height="130" class="img-thumbnail">\n                </a>\n            </p>\n            <p class="form-control-static">\n                <button class="btn btn-primary btn-sm" select-image image="temp.uploadImageUrl">\n                    <span ng-if="teacher.bannerImageId"></span>\n                    <span ng-if="!teacher.bannerImageId"></span>\n                </button>\n                <button ng-if="teacher.bannerImageId" class="btn btn-primary btn-sm" ng-click="removeBannerImageId()">\n                    <span></span>\n                </button>\n            </p>\n            <upload-image ng-if="temp.uploadImageUrl" image-url="temp.uploadImageUrl" ng-model="temp.uploadImageId" loading-text="..." model-type="id" on-upload-error="onUploadError()"></upload-image>\n        </div>\n    </div>\n\n\n\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <div class="form-control-static">\n                {{teacher.videoResourceId}}\n                <a href="" ng-click="changeVideoResourceId()"><i class="fa fa-edit"></i></a>\n                <div ng-if="teacher.video && teacher.video.id">\n                    <img src="{{teacher.video.coverUrl}}" height="100" width="150" class="video-entity"/>\n                    <a href="{{videoUrl()}}">{{teacher.video.name}}</a>\n                    <a href="" ng-click="deleteVideo()"><i class="fa fa-times"></i></a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/detailInfo/teachInfo.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <div class="form-control-static">\n                <span ng-repeat="grade in data.grades track by $index">\n                    {{GRADE[grade.id]}}<span ng-if="!$last"></span>\n                </span>\n            </div>\n        </div>\n    </div>\n\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{data.subject.id | nameInArray:subjects}}</p>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/addEP.html",'<div class="modal" on-close="onClose()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">EP</h4>\n            </div>\n\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(submit)">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="epNum">EP </label>\n                        <div class="col-sm-2">\n                            <input type="text" class="form-control" id="epNum" name="epNum" ng-model="config.epNum" required>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="isEPNumInvalid">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-8">\n                            <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                                EP0\n                            </p>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <label class="radio-inline">\n                                <input name="postponeType" type="radio" ng-model="config.postponeType" value="week">\n                                \n                            </label>\n                            <label class="radio-inline">\n                                <input name="postponeType" type="radio" ng-model="config.postponeType" value="day">\n                                \n                            </label>\n                            <label class="radio-inline">\n                                <input name="postponeType" type="radio" ng-model="config.postponeType" value="none">\n                                \n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="config.postponeType === \'day\'">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-2">\n                            <input type="text" class="form-control" id="postponeInterval" name="epNum" required ng-model="config.postponeInterval">\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="isIntervalInvalid">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-8">\n                            <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                                16\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary" type="submit" ng-disabled="!form.$valid || isIntervalInvalid || isEPNumInvalid"></button>\n                    <button class="btn btn-default" ng-click="onClose()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>'),n.put("directives/dialogs/addQqgroup.html",'<div class="modal" on-close="onClose()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">QQ</h4>\n            </div>\n\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(submit)">\n                <div class="modal-body clearfix">\n                    <p class="text-muted">QQToken</p>\n                    <div class="form-group clearfix">\n                        <label class="col-sm-2 control-label" for="qq">QQ</label>\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="qq" name="qq" ng-model="formData.qq" required>\n                        </div>\n                    </div>\n                    <div class="form-group clearfix">\n                        <label class="col-sm-2 control-label" for="iphoneToken">iPhone</label>\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="iphoneToken" name="iphoneToken" ng-model="formData.iphoneToken" required>\n                        </div>\n                    </div>\n                    <div class="form-group clearfix">\n                        <label class="col-sm-2 control-label" for="androidToken">Android</label>\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="androidToken" name="androidToken" ng-model="formData.androidToken" required>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <span class="text-muted" ng-style="{\'float\': \'left\', \'margin-top\': \'7px\'}">Token</span>\n                    <button class="btn btn-primary" type="submit" ng-disabled="!form.$valid"></button>\n                    <button class="btn btn-default" ng-click="onClose()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/amendEpisode.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n                        <div class="col-sm-9">\n                            <div class="form-control-static">{{episode.student.name}} 11 {{episode.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{episode.endTime | date:\'HH:mm\'}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <input class="form-control" type="date" name="changeTime" datetime-local ng-model="formData.changeTime" autofocus required placeholder=""/>\n                        </div>\n                        <div>\n                            <div class="col-sm-2" >\n                                <select class="form-control" ng-model="changeHour" style="width:90px">\n                                    <option value="" disabled selected></option>\n                                    <option value="7">7:00</option>\n                                    <option value="8">8:00</option>\n                                    <option value="9">9:00</option>\n                                    <option value="10">10:00</option>\n                                    <option value="11">11:00</option>\n                                    <option value="12">12:00</option>\n                                    <option value="13">13:00</option>\n                                    <option value="14">14:00</option>\n                                    <option value="15">15:00</option>\n                                    <option value="16">16:00</option>\n                                    <option value="17">17:00</option>\n                                    <option value="18">18:00</option>\n                                    <option value="19">19:00</option>\n                                    <option value="20">20:00</option>\n                                    <option value="21">21:00</option>\n                                    <option value="22">22:00</option>\n                                    <option value="23">23:00</option>\n                                </select>\n                            </div>\n\n                            <div class="col-sm-2">\n                                <input class="form-control" type="text" style="width:90px" readonly="readonly" name="changeEndTime" ng-model="changeEndTime" autofocus placeholder=""/>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="workOrderNo"></label>\n                        <div class="col-sm-4">\n                            <input class="form-control" type="text" id="workOrderNo" name="workOrderNo" ng-model="formData.workOrderNo" autofocus required/>\n                        </div>\n                    </div>\n\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/amendSerial.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div dialog-loading="loadingPromise"></div>\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(submit)">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <p class="form-control-static">{{serial.name}} ({{serial.prototype.name}})</p>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <p class="form-control-static">{{serial.startTime | date:\'yyyy.MM.dd\'}}-{{serial.endTime | date:\'yyyy.MM.dd\'}} {{serial.repeatTime}}</p>\n                        </div>\n                    </div>\n\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <div class="form-control-static-text"></div>\n\n                            <div class="time-wrap">\n                                <input-time class="input-time-wrap" ng-model="formData.targetStartTime" date="now" disable-end-time="true"></input-time>\n                                <div class="form-control-static pull-left"></div>\n                                <input-time class="input-time-wrap" ng-model="formData.targetEndTime" date="now" disable-end-time="true" disabled="!formData.targetStartTime" ></input-time>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <p class="form-control-static">{{formData.repeatTime}}</p>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="workOrderNo"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="workOrderNo" name="workOrderNo" ng-model="formData.workOrderNo" placeholder="" required>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary" type="submit" ng-disabled="!form.$valid"></button>\n                    <button class="btn btn-default" ng-click="onCancel()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/confirm.html",'<div class="modal" on-close="confirmInfo.cancel()" ng-if="confirmInfo.text" ng-style="{\'z-index\':confirmInfo.zIndex}">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h4 class="modal-title">{{confirmInfo.title}}</h4>\n            </div>\n            <div class="modal-body">\n                <div ng-repeat="line in confirmInfo.text track by $index"><strong ng-if="line.content" ng-bind-html="line.tag + line.content"></strong></div>\n                <div ng-repeat="line in confirmInfo.imageIds track by $index"><strong ng-if="line.src">{{ line.tag }}<img ng-src="{{ line.src | image }}" width="80" height="80" class="img-circle"></strong></div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default" ng-click="confirmInfo.cancel()" ng-if="!confirmInfo.isAlert">{{confirmInfo.cancelText || \'\'}}</button>\n                <button type="button" class="btn btn-primary" ng-click="confirmInfo.submit()">{{confirmInfo.confirmText || \'\'}}</button>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/deviceTest.html",'<div loading="loadingPromise">\n    <div ng-if="!loading">\n        <div ng-if="user">\n            <div ng-if="!deviceTest.UDID || deviceTest.result === \'incomplete\'"></div>\n            <a href="" ng-click="temp.detail = true" ng-if="deviceTest.UDID && deviceTest.result !== \'incomplete\'">{{deviceTest.result | deviceTestResult}}</a>\n        </div>\n        <div ng-if="udid">UDID:\n            <a href="" ng-click="temp.detail = true" ng-if="udid !== \'unknown\'">{{udid}}</a>\n            <span ng-if="udid === \'unknown\'">{{udid}}</span>\n        </div>\n    </div>\n</div>\n\n<div class="modal" on-close="temp.detail = false" ng-if="deviceTest.UDID && temp.detail">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form class="form-horizontal">\n                <div class="modal-body" style="max-height: 300px; overflow-y: auto;">\n                    <div ng-if="!deviceTest.history">\n                        \n                    </div>\n                    <div class="well well-sm" ng-if="deviceTest.history" ng-init="test = deviceTest.history[0]">\n                        <h5 class="text-center">: <span device-info="test.deviceInfo"></span></h5>\n                        <p>: {{testParser[deviceTest.result]}}</p>\n                    </div>\n                    <div class="well well=sm" ng-if="deviceTest.history" ng-repeat="test in deviceTest.history track by test.id">\n                        <p>: {{testParser[test.type]}}</p>\n                        <p>: {{test.createdTime | date:\'yyyy-MM-dd HH:mm\'}}</p>\n                        <p>: {{testParser[test.success]}}</p>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),
n.put("directives/dialogs/editPost.html",'<div class="modal" on-close="onCancel()" loading="loadingPromise">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <div class="form-control-static">{{post.user.identity}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="phone"></label>\n\n                        <div class="col-sm-6">\n                            <input class="form-control" type="text" maxlength="11" minlength="11" id="phone" name="phone" ng-model="formData.phone" pattern="[0-9]{11}" required/>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="province"></label>\n\n                        <div class="col-sm-6">\n                            <input class="form-control" type="text" id="province" name="province" ng-model="formData.province" required/>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="city"></label>\n\n                        <div class="col-sm-6">\n                            <input class="form-control" type="text" id="city" name="city" ng-model="formData.city" required/>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="county"></label>\n\n                        <div class="col-sm-6">\n                            <input class="form-control" type="text" id="county" name="county" ng-model="formData.county"/>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="address"></label>\n\n                        <div class="col-sm-6">\n                            <input class="form-control" type="text" id="address" name="address" ng-model="formData.address" required/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <span class="text-muted pull-left" style="line-height: 34px"></span>\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="loading || !isChanged || !form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/editTag.html",'<div class="modal" on-close="onClose()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">Tag</h4>\n            </div>\n\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(submit)">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" ng-class="labelWidthClass">Tag</label>\n\n                        <div class="col-sm-8">\n                            <label class="checkbox-inline" ng-repeat="tag in tagList">\n                                <input type="checkbox" ng-model="formData.tagIds" ng-true-value="{{tag.id}}" check-list>\n                                {{tag.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" ng-class="labelWidthClass">Tag</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="newTag" name="newTag" ng-model="formData.newTag" placeholder="Tag">\n                        </div>\n\n                        <div class="col-sm-2">\n                            <a ng-if="formData.newTag && !isTagNameExist" class="form-control-static-text control-label" ng-click="addTag()" href=""></a>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="isTagNameExist">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                                Tag, \n                            </p>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="modal-footer">\n                    <button class="btn btn-primary" type="submit"></button>\n                    <button class="btn btn-default" ng-click="onClose()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>'),n.put("directives/dialogs/fireTeacher.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <div style="text-align: center"><strong><span class="label label-warning">{{teacher.nickname}}</span></strong></div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="comment"></label>\n                        <div class="col-sm-8">\n                            <textarea class="form-control" style="resize: vertical" name="comment" id="comment" ng-model="formData.comment" autofocus required/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit(teacher)"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n<div action-log="actionLog" ng-if="actionLog.logs.length" on-close="onLogClose"></div>\n'),n.put("directives/dialogs/hideComment.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title" ng-if="comments.length === 1"></h4>\n                <h4 class="modal-title" ng-if="comments.length > 1"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group" style="max-height: 500px; overflow-y: auto">\n                        <label class="col-sm-2 control-label" for="reason"></label>\n\n                        <div class="col-sm-10">\n                            <table class="table table-condensed">\n                                <thead>\n                                    <tr>\n                                        <th></th>\n                                        <th></th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr ng-repeat="item in commentsInfo track by $index">\n                                        <td><span class="text text-info">{{item.studentNickName}}</span></td>\n                                        <td>\n                                            <span class="label label-danger" ng-if="item.complained"></span>{{item.comment}}\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="reason"></label>\n\n                        <div class="col-sm-10">\n                            <textarea class="form-control" style="resize: vertical" name="reason" id="reason" ng-model="formData.reason" autofocus required/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()">\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/hideTeacher.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title" ng-if="hide"></h4>\n                <h4 class="modal-title" ng-if="!hide"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body" ng-if="!hide">\n                    <div class="form-group">\n                        <div style="text-align: center"><strong><span class="label label-warning">{{teacher.nickname}}</span></strong></div>\n                    </div>\n                </div>\n                <div class="modal-body" ng-if="hide">\n                    <div class="form-group">\n                        <div style="text-align: center"><strong><span class="label label-warning">{{teacher.nickname}}</span></strong></div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="comment"></label>\n                        <div class="col-sm-8">\n                            <textarea class="form-control" style="resize: vertical" id="comment" name="comment" ng-model="formData.comment"/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-if="!hide" ng-click="submit()"></button>\n                    <button type="submit" class="btn btn-primary" ng-if="hide" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/interview.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                        aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <label class="radio-inline col-sm-3" ng-repeat="type in courseTypes" required>\n                                <input name="type" type="radio" ng-model="formData.type" ng-value="type.value" ng-disabled="type.value === \'tutorial\'">\n                                {{type.name}}\n                            </label>\n                            <label class="text-muted">\n                                \n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="account" class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-3">\n                            <input type="text" class="form-control" id="account" ng-model="formData.account" required>\n                        </div>\n                        <div class="col-sm-5 text-muted">\n                            \n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <input-datetime ng-model="formData.startTime"\n                                            restriction="{required:true} "></input-datetime>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-11">:</div>\n                    </div>\n\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                        <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()">\n                            \n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>'),n.put("directives/dialogs/interviewVerify.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                        aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <div class="col-sm-10 col-sm-offset-2">\n                            <label class="radio-inline ">\n                                <input name="noSettle" type="radio" ng-model="formData.operation" value="pass">\n                                \n                            </label>\n                            <label class="radio-inline ">\n                                <input name="settle" type="radio" ng-model="formData.operation" value="not_pass">\n                                \n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="formData.operation === \'not_pass\'">\n                        <label class="col-sm-2 control-label" for="reason"></label>\n\n                        <div class="col-sm-10">\n                            <textarea class="form-control" style="resize: vertical" name="reason" id="reason"\n                                      ng-model="formData.reason" autofocus required/>\n                        </div>\n                    </div>\n\n\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()">\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>'),n.put("directives/dialogs/leaveConfirm.html",'<div class="modal" on-close="close()" ng-if="dialog">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">{{leaveTitle || \'\'}}</h4>\n            </div>\n            <div class="modal-body" ng-transclude></div>\n            <div class="modal-footer">\n                <a class="btn btn-primary" ng-href="{{leaveUrl}}">{{confirmText || \'\'}}</a>\n                <button type="button" class="btn btn-default" ng-click="close()">{{cancelText || \'\'}}</button>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/manualSettle.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-1 control-label"></label>\n\n                        <div class="col-sm-11">\n                            <label class="radio-inline col-sm-2">\n                                <input name="noSettle" type="radio" ng-model="formData.settle" value="0">\n                                \n                            </label>\n                            <span class="form-control-static-text text-muted"></span>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-1 control-label"></label>\n\n                        <div class="col-sm-11">\n                            <label class="radio-inline col-sm-2">\n                                <input name="settle" type="radio" ng-model="formData.settle" value="1">\n                                \n                            </label>\n                            <span class="form-control-static-text text-muted"></span>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="workNo" class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="workNo" ng-model="formData.workNo" placeholder="" required>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/processComplaint.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title" ng-if="complaints.length === 1"></h4>\n                <h4 class="modal-title" ng-if="complaints.length > 1"></h4>\n            </div>\n\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group" style="max-height: 500px; overflow-y: auto">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-10">\n                            <table class="table table-condensed">\n                                <thead>\n                                <tr>\n                                    <th></th>\n                                    <th></th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                <tr ng-repeat="item in complaintsInfo track by $index">\n                                    <td><span class="text text-info">{{item.studentName}}</span></td>\n                                    <td>{{item.content}}</td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-10 col-sm-offset-2">\n                            <label class="radio-inline">\n                                <input name="hide" type="radio" ng-model="formData.hide" value="true">\n                            </label>\n\n                            <label class="radio-inline" ng-if="complaints[0].processStatus !== \'processed\'">\n                                <input name="hide" type="radio" ng-model="formData.hide" value="false">\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="reason"></label>\n\n                        <div class="col-sm-10">\n                            <textarea class="form-control" style="resize: vertical" name="reason" id="reason" ng-model="formData.reason" autofocus required/>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()">\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/refund.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal" ng-if="episode">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n                        <div class="col-sm-9">\n                            <div class="form-control-static">{{episode.student.name}} 11 {{episode.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{episode.endTime | date:\'HH:mm\'}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n                        <div class="col-sm-9">\n                            <div class="form-control-static">{{episode.paidFee}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n                        <div class="col-sm-4">\n                            <input class="form-control" type="text" name="workOrderNo" ng-model="formData.workOrderNo" autofocus required/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n\n            <form name="form" class="form-horizontal" ng-if="season">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <div class="form-control-static">{{season.name}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <div class="form-control-static">{{trade.totalFee}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-6">\n                            <input class="form-control" type="text" name="workOrderNo" ng-model="formData.workOrderNo" placeholder="" autofocus required/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n\n            <form name="form" class="form-horizontal" ng-if="serial">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <div class="form-control-static">{{serial.name}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <div class="form-control-static">{{serial.serialOrder.paidFee}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-6">\n                            <input class="form-control" type="text" name="workOrderNo" ng-model="formData.workOrderNo" placeholder="" autofocus required/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n'),n.put("directives/dialogs/remark.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="remark"></label>\n                        <div class="col-sm-8">\n                            <textarea class="form-control" style="resize: vertical" name="remark" id="remark" ng-model="formData.remark" autofocus required/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/retire.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n            <form name="form" class="form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <div style="text-align: center"><strong><span class="label label-warning">{{lecture.name || serial.name}}</span></strong></div>\n                    </div>\n                    <div class="form-group" ng-if="lectureId">\n                        <label class="col-sm-2 control-label" for="reason"></label>\n                        <div class="col-sm-8">\n                            <textarea class="form-control" style="resize: vertical" name="reason" id="reason" ng-model="formData.reason" autofocus required/>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal"></button>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/dialogs/transferSeason.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div dialog-loading="loadingPromise"></div>\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(submit)">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <p class="form-control-static">{{season.name}}</p>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="season"></label>\n\n                        <div class="col-sm-6">\n                            <select class="form-control" id="season" name="season" ng-model="formData.newSeasonId" ng-options="season.id as season.nameWithBuyerCount for season in seasons" required>\n                                <option value="" disabled></option>\n                            </select>\n                        </div>\n\n                        <div class="col-sm-3">\n                            <p class="form-control-static"><a href="" ng-click="onChangeGradeAndSubject()"></a></p>\n                        </div>\n                    </div>\n\n                    <grade-subject ng-if="temp.changeGradeAndSubject" form-data="temp" loading-promise="gradeSubjectPromise" label-width-class="col-sm-3" control-width-class="col-sm-4" show-type="select"></grade-subject>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="workOrderNo"></label>\n\n                        <div class="col-sm-6">\n                            <input type="text" class="form-control" id="workOrderNo" name="workOrderNo" ng-model="formData.workOrderNo" placeholder="" required>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary" type="submit" ng-disabled="!form.$valid"></button>\n                    <button class="btn btn-default" ng-click="onCancel()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),
n.put("directives/dialogs/transferSerial.html",'<div class="modal" on-close="onCancel()">\n    <div class="modal-dialog">\n        <div dialog-loading="loadingPromise"></div>\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(submit)">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <p class="form-control-static">{{serial.name}} ({{serial.prototype.name}})</p>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <p class="form-control-static">{{serial.startTime | date:\'yyyy.MM.dd\'}}-{{serial.endTime | date:\'yyyy.MM.dd\'}} {{serial.repeatTime}}</p>\n                        </div>\n                    </div>\n\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="serial"></label>\n\n                        <div class="col-sm-8">\n                            <select class="form-control" id="serial" name="serial" ng-model="formData.toSerialId" ng-options="serial.id as serial.time for serial in serials" required>\n                                <option value="" disabled></option>\n                            </select>\n                        </div>\n                    </div>\n\n\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="workOrderNo"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="workOrderNo" name="workOrderNo" ng-model="formData.workOrderNo" placeholder="" required>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary" type="submit" ng-disabled="!form.$valid"></button>\n                    <button class="btn btn-default" ng-click="onCancel()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/keynote/keynote.html",'<div ng-if="inited" keynote-style="{{keynote.style}}">\n    <keynote-directory keynote="keynote" content-id="contentId" ng-if="keynote.style !== \'seasonUploadStyle\'"></keynote-directory>\n\n    <div class="keynote-section-list" directory-reference-container>\n        <div ng-repeat="section in keynote.sections track by section.__trackId">\n            <ng-include src="\'directives/keynote/keynoteSection.html\'"></ng-include>\n        </div>\n    </div>\n</div>\n'),n.put("directives/keynote/keynoteDirectory.html",'<ul class="directory-list" ui-sortable="sortableOptions" ng-if="sortableOptions">\n    <li ng-repeat="section in keynote.sections track by section.__trackId" ng-switch="section.type" class="section-{{section.type}}">\n        <span class="title" ng-switch-when="title" directory-index index="section.__leafNodeIndex"></span>\n        <span class="title" ng-switch-when="timeDistribution" directory-index index="section.__leafNodeIndex"></span>\n        <span class="title" ng-switch-when="knowledgeDiagram" directory-index index="section.__leafNodeIndex"></span>\n        <span class="title" ng-switch-when="summary" directory-index index="section.__leafNodeIndex"></span>\n        <span class="title" ng-switch-when="uploadResource" directory-index index="section.__leafNodeIndex"></span>\n\n        <!---->\n        <div ng-switch-when="knowledgeSet">\n            <span class="title" directory-index index="section.subsections[0].__leafNodeIndex">{{section.__index + 1}}: <keypoint-name catalog-id="keynote.catalogId" keypoint-id="section.keypointId"></keypoint-name></span>\n            <ul ng-init="knowledgeSection = section" ui-sortable="sortableOptions">\n                <li ng-repeat="section in section.subsections track by section.__trackId" ng-switch="section.type" class="section-{{section.type}}">\n                    <span class="title" ng-switch-when="keypointDesc" directory-index index="section.__leafNodeIndex"></span>\n\n                    <!---->\n                    <div ng-switch-when="paradigmSet">\n                        <div class="pull-right">\n                            <a href="" ng-click="editParadigm(section)"></a>\n                            <a href="" class="remove" ng-click="removeParadigm(knowledgeSection, section)"></a>\n                        </div>\n                        <span class="title" directory-index index="section.subsections[0].__leafNodeIndex">{{section.__index + 1}}: {{section.subsections[0].definedName}}</span>\n                        <ul ui-sortable="sortableOptions" ng-init="paradigmSection = section">\n                            <li ng-repeat="section in section.subsections track by section.__trackId" ng-switch="section.type" ng-if="section.type !== \'paradigm\'" class="section-{{section.type}}">\n                                <div class="pull-right">\n                                    <a href="" class="remove" ng-click="removeQuestion(paradigmSection, section)"></a>\n                                </div>\n                                <!---->\n                                <span class="title" ng-switch-when="question" directory-index index="section.__leafNodeIndex">{{knowledgeSection.__index + 1}}-{{section.__index + 1}}</span>\n                                <span class="title" ng-switch-when="questionWithSolutionSet" directory-index index="section.subsections[0].__leafNodeIndex">{{section.__index + 1}}</span>\n                            </li>\n                            <li class="link"><a href="" ng-click="insertQuestion(knowledgeSection.keypointId, paradigmSection)"><i class="fa fa-plus"></i> /</a></li>\n                        </ul>\n                    </div>\n                </li>\n                <li class="link"><a href="" ng-click="addParadigm(knowledgeSection)"><i class="fa fa-plus"></i> </a></li>\n            </ul>\n        </div>\n    </li>\n</ul>\n\n<select-question\n    ng-if="temp.insertQuestion"\n    catalog-id="keynote.catalogId"\n    keypoint-ids="temp.questionKeypointIds"\n    question-limit="1"\n    on-close="onInsertQuestion()"\n    on-submit="onInsertQuestion(questionId, keypointId, type)"\n    content-id="contentId"\n    keynote="keynote">\n</select-question>\n'),n.put("directives/keynote/keynotePdf.html",'<pdf ng-if="pdfUrl" pdf-url="pdfUrl" page="page"></pdf>\n'),n.put("directives/keynote/keynoteResource.html",'<pdf ng-if="pdfUrl" pdf-url="pdfUrl" page="page"></pdf>\n'),n.put("directives/keynote/keynoteSection.html",'<div ng-if="!section.subsections.length || section.type === \'questionWithSolutionSet\'" class="well well-sm" style="min-height: 600px">\n    <div class="clearfix">\n        <div class="pull-left" style="width: 720px; margin-right: 20px; min-height: 540px;" ng-if="section.type !== \'questionWithSolutionSet\'">\n            <keynote-pdf keynote="keynote" section="section" directory-reference="{{section.__leafNodeIndex}}"></keynote-pdf>\n        </div>\n        <div class="pull-left" style="width: 720px; margin-right: 20px; min-height: 540px;" ng-if="section.type === \'questionWithSolutionSet\'">\n            <keynote-pdf keynote="keynote" section="section.subsections[0]" directory-reference="{{section.subsections[0].__leafNodeIndex}}"></keynote-pdf>\n            <keynote-pdf keynote="keynote" section="section.subsections[1]" directory-reference="{{section.subsections[1].__leafNodeIndex}}"></keynote-pdf>\n        </div>\n        <div style="overflow: hidden; padding-left: 20px; height: 100%; border-left: 1px solid #DDD;" ng-init="temp = {}">\n            <div ng-switch="section.type">\n                <h2 class="title" ng-switch-when="title"></h2>\n                <h2 class="title" ng-switch-when="timeDistribution"></h2>\n                <h2 class="title" ng-switch-when="knowledgeDiagram"></h2>\n                <h2 class="title" ng-switch-when="knowledge"></h2>\n                <h2 class="title" ng-switch-when="keypointDesc"></h2>\n                <h2 class="title" ng-switch-when="paradigm"></h2>\n                <h2 class="title" ng-switch-when="question" ng-if="section.questionRole === \'example\'"></h2>\n                <h2 class="title" ng-switch-when="questionWithSolutionSet"></h2>\n            </div>\n\n            <div ng-if="section.type === \'questionWithSolutionSet\' || (section.type === \'question\' && section.questionRole === \'example\')">\n                <button class="btn btn-default" ng-click="temp.insertQuestion = true"></button>\n                <select-question\n                    ng-if="temp.insertQuestion"\n                    keypoint-ids="[knowledgeId]"\n                    catalog-id="keynote.catalogId"\n                    on-close="temp.insertQuestion = false"\n                    on-submit="temp.insertQuestion = false; onUpdateQuestion(section, questionId, keypointId, type)"\n                    type="section.type === \'question\' ? \'example\' : \'exercise\'"\n                    content-id="contentId"\n                    keynote="keynote">\n                </select-question>\n                <br>\n                <br>\n                <div ng-init="questionSection = section.subsections && section.subsections.length ? section.subsections[0] : section">\n                    <ul class="list-group">\n                        <li class="list-group-item" ng-repeat="layout in QUESTION_LAYOUT track by layout.id">\n                            <div class="radio">\n                                <label>\n                                    <input type="radio" name="{{questionSection.__trackId + \'Layout\'}}" ng-model="questionSection.layout" ng-value="layout.id" ng-change="questionSection.editorResourceId = null">\n                                    <div ng-switch="layout.id" style="width: 100px">\n                                        <table class="table table-bordered" ng-switch-when="default">\n                                            <tr><td style="text-align: center; vertical-align: middle"></td></tr>\n                                            <tr><td style="text-align: center; vertical-align: middle"></td></tr>\n                                            <tr><td style="text-align: center; vertical-align: middle"></td></tr>\n                                        </table>\n\n                                        <table class="table table-bordered" ng-switch-when="contImagOptImag">\n                                            <tr><td style="text-align: center; vertical-align: middle"></td><td style="text-align: center; vertical-align: middle" rowspan="2"></td></tr>\n                                            <tr><td style="text-align: center; vertical-align: middle"></td></tr>\n                                        </table>\n\n                                        <table class="table table-bordered" ng-switch-when="contImagOption">\n                                            <tr><td style="text-align: center; vertical-align: middle"></td><td style="text-align: center; vertical-align: middle"></td></tr>\n                                            <tr><td style="text-align: center; vertical-align: middle" colspan="2"></td></tr>\n                                        </table>\n\n                                        <table class="table table-bordered" ng-switch-when="contentOptImag">\n                                            <tr><td style="text-align: center; vertical-align: middle" colspan="2"></td></tr>\n                                            <tr><td style="text-align: center; vertical-align: middle"></td><td style="text-align: center; vertical-align: middle" rowspan="2"></td></tr>\n                                        </table>\n                                    </div>\n                                </label>\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n                <br>\n            </div>\n\n            <div ng-if="section.type === \'knowledgeDiagram\' || section.type === \'keypointDesc\' || (section.type === \'question\' && section.questionRole === \'example\')">\n                <upload-file ng-if="temp.uploadFileUrl" file-url="temp.uploadFileUrl" param-name="file" loading-text="..." ng-model="section.resourceId" target="uploadTarget" model-type="id" on-uploaded-callback="temp.loading = false" on-upload-error-callback="temp.loading = false" id-attr="id"></upload-file>\n                <button class="btn btn-default" ng-disabled="temp.loading" select-file on-selected="temp.loading = true" file="temp.uploadFileUrl" file-type=".pdf"> PDF</button>\n                <br>\n                <br>\n                <button class="btn btn-default" ng-click="section.editorResourceId = null; section.resourceId = null" ng-if="section.type !== \'knowledgeDiagram\'"></button>\n            </div>\n        </div>\n    </div>\n</div>\n<div ng-if="section.subsections.length && section.type !== \'questionWithSolutionSet\'" ng-init="section.type === \'knowledgeSet\' ? knowledgeId = section.keypointId : true">\n    <div ng-repeat="section in section.subsections track by section.__trackId">\n        <ng-include src="\'directives/keynote/keynoteSection.html\'"></ng-include>\n    </div>\n</div>\n'),n.put("directives/keypoint/keypointTree.html",'<div ng-if="matchFlag ===-1 || trimedNodes[textbook.id]" class="textbook-keypoints">\n    <div class="checkbox" ng-click="expand(textbook)">\n        <label>\n            <i class="fa fa-fw fa-plus-square-o" ng-if="!textbook.expanded || !textbook.isShow" frog="{{expandFrog}}"></i>\n            <i class="fa fa-fw fa-minus-square-o" ng-if="textbook.expanded && textbook.isShow" frog="{{shrinkFrog}}"></i>\n            <span class="name-span" ng-bind-html="$sanitize(textbook.name)"></span>\n        </label>\n    </div>\n    <div ng-if="textbook.expanded" ng-show="textbook.isShow">\n        <div class="sub-keypoint" ng-repeat="keypoint in keypoints" ng-if="matchFlag === -1 || trimedNodes[keypoint.id]" ng-include="\'directives/keypoint/keypointTreeItem.html\'" ng-init="keypointIndent = 1"></div>\n    </div>\n</div>\n'),n.put("directives/keypoint/keypointTreeItem.html",'<div ng-style="{\'padding-left\': keypointIndent * 20 + 17 + \'px\'}" style="checkbox" ng-click="expand(keypoint)" class="checkbox">\n    <label>\n        <span ng-if="keypoint.type === targetType && !readonly">\n            <i class="fa fa-fw"></i>\n            <input class="paradigm-checkbox" type="checkbox" ng-model="formData.selectedParadigmIds" ng-true-value="{{keypoint.id}}" check-list name="paradigms"/>\n        </span>\n        <span ng-if="keypoint.type !== targetType || readonly">\n            <i class="fa fa-fw fa-plus-square-o" ng-if="(!keypoint.expanded || !keypoint.isShow)"></i>\n            <i class="fa fa-fw fa-minus-square-o" ng-if="keypoint.expanded && keypoint.isShow"></i>\n            <i class="icon icon-new" ng-if="keypoint.type === targetType"></i>\n        </span>\n\n        <span ng-if="keypoint.type === \'knowledge\'"></span>\n        <span ng-if="keypoint.type === \'paradigm\'"></span>\n        <span ng-if="$sanitize" ng-bind-html="$sanitize(keypoint.name)"></span>\n        <span ng-if="!$sanitize">{{keypoint.name}}</span>\n    </label>\n</div>\n\n<div ng-if="keypoint.expanded && keypoint.type !== targetType" ng-show="keypoint.isShow">\n    <div ng-repeat="keypoint in keypoint.children track by keypoint.id" ng-if="matchFlag === -1 || trimedNodes[keypoint.id]" ng-include="\'directives/keypoint/keypointTreeItem.html\'" ng-init="keypointIndent = keypointIndent + 1"></div>\n</div>\n'),n.put("directives/navs/commentNav.html",'<ul class="nav nav-pills nav-stacked">\n    <li ng-class="{active: pages.complaintList}"><a href="#/complaints"></a></li>\n    <li ng-class="{active: pages.commentList}"><a href="#/comments"></a></li>\n</ul>\n'),n.put("directives/navs/episodeNav.html",'<ul class="nav nav-pills nav-stacked">\n    <li ng-class="{active: pages.tutorialEpisodeList}"><a href="#/episodes/tutorial">11</a></li>\n    <li ng-class="{active: pages.serialList}"><a href="#/serials">11</a></li>\n    <li ng-class="{active: pages.lectureEpisodeList}"><a href="#/episodes/lecture"></a></li>\n    <li ng-class="{active: pages.seasonList}"><a href="#/seasons"></a></li>\n    <li ng-class="{active: pages.interviewList}"><a href="#/interviews"></a></li>\n</ul>\n'),n.put("directives/navs/lectureNav.html",'<ul class="nav nav-tabs">\n    <!--<li ng-class="{active: pages.lectureEpisodeCreate}"><a href="#/episodes/lecture/create"></a></li>-->\n    <li ng-class="{active: pages.lectureEpisodeList}"><a href="#/episodes/lecture"></a></li>\n</ul>\n'),n.put("directives/navs/mainNav.html",'<nav ng-if="!fullScreen" class="navbar navbar-default navbar-fixed-top" role="navigation">\n    <div class="container-fluid">\n        <div class="navbar-header">\n            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbarCollapse" aria-expanded="false">\n                <span class="sr-only">Toggle navigation</span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n            </button>\n            <a class="navbar-brand" href="#/"></a>\n        </div>\n\n        <div class="collapse navbar-collapse" id="navbarCollapse">\n            <ul class="nav navbar-nav navbar-main-nav">\n                <li ng-class="{active: pages.teacherList}"><a href="#/teachers"></a></li>\n                <li ng-class="{active: pages.episodeList}"><a href="#/episodes/tutorial"></a></li>\n                <li ng-class="{active: pages.couponList}"><a href="#/coupons"></a></li>\n                <li ng-class="{active: pages.operationList}"><a href="#/operations/banners"></a></li>\n                <li ng-class="{active: pages.complaintList}"><a href="#/complaints"></a></li>\n                <li ng-class="{active: pages.notificationList}"><a href="#/notifications/dispatch/import"></a></li>\n                <li ng-class="{active: pages.userList}"><a href="#/user-lists"></a></li>\n            </ul>\n\n            <ul class="nav navbar-nav navbar-right">\n                <li><a>{{user.nickname}}</a></li>\n                <li><a ng-href="{{authUrl}}logout"></a></li>\n            </ul>\n        </div>\n    </div>\n</nav>\n'),n.put("directives/navs/notifyNav.html",'<div class="container-fluid">\n    <ul class="nav nav-tabs">\n        <li ng-class="{active: pages.notifyByImport}"><a href="#/notifications/dispatch/import">CSV</a></li>\n        <li ng-class="{active: pages.jobList}"><a href="#/notifications/jobs"></a></li>\n    </ul>\n</div>\n'),n.put("directives/navs/operationNav.html",'<ul class="nav nav-pills nav-stacked">\n    <li ng-class="{active: pages.bannerList}"><a href="#/operations/banners">banner</a></li>\n    <li ng-class="{active: pages.announcementList}"><a href="#/operations/announcements"></a></li>\n    <li ng-class="{active: pages.linkingWithLectureList || pages.linkingWithLectureEdit}"><a href="#/operations/linking-with-lectures"></a></li>\n    <li ng-class="{active: pages.splashList || pages.splashEdit}"><a href="#/operations/splashes"></a></li>\n</ul>\n'),n.put("directives/navs/seasonNav.html",'<ul class="nav nav-tabs">\n    <li ng-class="{active: pages.episodeTemplate}"><a href="{{cmsContentUrl}}" target="_blank">(CMS)</a></li>\n    <li ng-class="{active: pages.ep}"><a href="{{cmsEpisodeUrl}}" target="_blank">EP(CMS)</a></li>\n    <li ng-class="{active: pages.seasonCreate}"><a href="#/seasons/create"></a></li>\n    <li ng-class="{active: pages.seasonList}"><a href="#/seasons"></a></li>\n    <li ng-class="{active: pages.seasonQQListGroup}"><a href="#/seasons/qqgroups">QQ</a></li>\n    <li ng-class="{active: pages.seasonPostList}"><a href="#/seasons/posts"></a></li>\n</ul>\n'),n.put("directives/navs/serialNav.html",'<ul class="nav nav-tabs">\n    <li ng-class="{active: pages.serialPrototypeList}"><a href="#/serial-prototypes"></a></li>\n    <li ng-class="{active: pages.serialList}"><a href="#/serials"></a></li>\n    <li ng-class="{active: pages.serialPostList}"><a href="#/serials/posts"></a></li>\n</ul>\n'),n.put("directives/navs/teacherNav.html",'<ul class="nav nav-pills nav-stacked">\n    <li ng-class="{active: pages.teacherList}"><a href="#/teachers"></a></li>\n    <li ng-class="{active: pages.verifyList}"><a href="#/verifies"></a></li>\n    <li ng-class="{active: pages.teacherStatList}"><a href="#/teacher-statistics"></a></li>\n</ul>\n'),n.put("directives/navs/verifyNav.html",'<ul class="nav nav-tabs">\n    <li ng-class="{active: pages.basicInfo}"><a href="#/verifies"></a></li>\n    <li ng-class="{active: pages.trial}"><a href="#/trials"></a></li>\n</ul>\n'),n.put("directives/question/question.html",'<div class="well well-sm" ng-if="question.id">\n    <h5>\n        <span class="label label-default pull-right">{{\'%.1f\' | sprintf:(question ? question.difficulty : 0)}}&nbsp;&nbsp;</span>\n\n        {{index + 1}}\n        <span>({{questionTypes[question.type]}}<span ng-if="question.shortSource">&nbsp;&nbsp;{{question.shortSource}}</span>)</span>\n        <span class="label label-success" ng-if="questionItem.__preClassUsed"></span>\n        <span class="label label-success" ng-if="keynoteUsedIdMap[question.id]"></span>\n        <span class="label label-success" ng-if="questionItem.__beyondAbility"></span>\n        <span class="label label-success" ng-if="postSheetUsedIdMap[question.id]"></span>\n    </h5>\n    <div ng-bind-html="$sanitize(question.content)"></div>\n    <div question-option-list question="question"></div>\n\n    <div class="question-solution" ng-if="expanded">\n        <p>\n        <span ng-class="{\'text-success\': question.correctAnswer.type === 201}"><span question-answer="question.correctAnswer" question="question"></span></span>\n        </p>\n        <p class="question-solution-title"></p>\n        <p class="question-solution-detail" ng-bind-html="$sanitize(question.solution)"></p>\n    </div>\n\n    <div class="clearfix" ng-init="questionMeta = question.questionMetaVO">\n        <div ng-if="questionMeta && questionMeta.answerCount !== 0">\n            {{questionMeta.answerCount}}\n            {{questionMeta.correctCount / questionMeta.answerCount * 100 | number:0}}%\n            <span ng-if="questionMeta.mostWrongAnswer"><span question-answer="questionMeta.mostWrongAnswer" question="question"></span></span>\n            \n        </div>\n        <div ng-if="questionMeta && questionMeta.answerCount === 0"></div>\n\n        <div class="pull-right">\n            <button class="btn btn-default" ng-if="!expanded" ng-click="expand()"></button>\n            <button ng-if="onSelect && (!isSelected || isSelected(questionItem.question.id) || !selectedItems.length  || selectedItems.length < questionLimit)" type="button" class="btn select-question" ng-class="isSelected && isSelected(questionItem.question.id) ? \'btn-success\' : \'btn-primary\'" ng-disabled="keynoteUsedIdMap[question.id] || postSheetUsedIdMap[question.id]" ng-click="onSelect(question)">\n                <span ng-if="keynoteUsedIdMap[question.id]"></span>\n                <span ng-if="postSheetUsedIdMap[question.id]"></span>\n                <span ng-if="!keynoteUsedIdMap[question.id] && !postSheetUsedIdMap[question.id]">\n                    <span ng-if="questionLimit > 1">\n                        <i class="fa fa-check-circle-o" ng-if="isSelected(questionItem.question.id)"></i>\n                        <i class="fa fa-circle-o" ng-if="!isSelected(questionItem.question.id)"></i>\n                    </span>\n                    {{selectText}}\n                </span>\n            </button>\n        </div>\n    </div>\n</div>\n'),n.put("directives/question/selectQuestion.html",'<div class="modal" on-close="onClose(); onCloseCallback()">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"> <span ng-if="selectedItems.length">{{selectedItems.length}}</span>\n                </h4>\n            </div>\n            <div class="modal-body" ng-if="temp.step === \'select\'">\n                <form name="form" class="form-horizontal">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <label ng-repeat="keypoint in keypoints track by keypoint.id" class="radio-inline">\n                                <input type="radio" ng-value="keypoint" ng-model="formData.keypoint">\n                                {{keypoint.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="!typeInvisible">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <label class="radio-inline">\n                                <input type="radio" value="example" ng-model="formData.type">\n                                \n                            </label>\n                            <label class="radio-inline">\n                                <input type="radio" value="exercise" ng-model="formData.type">\n                                \n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="formData.type !== \'exercise\'">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <label class="radio-inline">\n                                <input type="radio" value="choice" ng-model="formData.questionType" ng-disabled="formData.type === \'exercise\'"> \n                            </label>\n                            <label class="radio-inline">\n                                <input type="radio" value="non_choice" ng-model="formData.questionType" ng-disabled="formData.type === \'exercise\'"> \n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-7">\n                            <label ng-repeat="querySource in querySources track by querySource.value" class="radio-inline">\n                                <input type="radio" ng-value="querySource.value" ng-model="formData.querySource">\n                                {{querySource.desc}}\n                            </label>\n                        </div>\n                        <div class="col-sm-3 text-right" ng-if="pageInfo.totalItem">\n                            {{pageInfo.totalItem}}\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <label ng-repeat="queryOrder in queryOrders track by queryOrder.value" class="radio-inline">\n                                <input type="radio" ng-value="queryOrder.value" ng-model="formData.queryOrder">\n                                {{queryOrder.desc}}\n                            </label>\n                        </div>\n                    </div>\n                </form>\n\n                <div ng-repeat="questionItem in questions track by questionItem.question.id">\n                    <question question-item="questionItem" question="questionItem.question" is-selected="isSelected" question-limit="questionLimit" on-select="selectQuestion" select-text="" index="questionStartIndex + $index" post-sheet="postSheet" keynote="keynote"></question>\n                </div>\n\n                <pagination page-info="pageInfo" on-page="fetchQuestion" hide-all="true"></pagination>\n            </div>\n            <div class="modal-body" ng-if="temp.step === \'preview\'" ui-sortable="sortableOptions">\n                <div ng-repeat="item in selectedItems track by item.questionId">\n                    <question style="width: 568px;" question-id="item.questionId" select-text="" index="$index" on-select="removeQuestion"></question>\n                </div>\n            </div>\n            <div class="modal-footer" ng-if="questionLimit > 1">\n                <button type="button" class="btn btn-default pull-left" ng-click="onClose(); onCloseCallback()"></button>\n                <button ng-if="temp.step === \'select\'" type="button" class="btn btn-primary" ng-click="temp.step = \'preview\'" ng-disabled="!selectedItems.length"> <span ng-if="selectedItems.length > 0">({{selectedItems.length}})</span></button>\n                <button ng-if="temp.step === \'preview\'" type="button" class="btn btn-default" ng-click="temp.step = \'select\'"></button>\n                <button ng-if="temp.step === \'preview\'" type="button" class="btn btn-primary" ng-click="submit()" ng-disabled="!selectedItems.length">\n                    <span ng-if="selectedItems.length">({{selectedItems.length}})</span>\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/verifyInfo/basic.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">\n            <img ng-if="verify.data.avatar" ng-src="{{verify.data.avatar | image}}" width="80" height="80" class="img-circle">\n            </p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{verify.data.nickname}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{GENDER[verify.data.gender]}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{verify.data.province}} {{verify.data.city}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10 pre word-break">\n            <p class="form-control-static">{{verify.data.desc || \'\'}}</p>\n        </div>\n    </div>\n</div>\n'),
n.put("directives/verifyInfo/certification.html",'<div class="form-horizontal">\n    <div class="form-group-set" ng-if="!verify.data.entries.length">\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static"></p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static">\n                    \n                </p>\n            </div>\n        </div>\n    </div>\n    <div class="form-group-set" ng-repeat="entry in verify.data.entries" ng-if="verify.data.entries.length">\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static">{{entry.desc}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-2">\n                <p class="form-control-static">\n                    <a href="{{entry.imageId | teacherImage:verify.teacherId}}" target="_blank" class="thumbnail">\n                        <img ng-src="{{entry.imageId | teacherImage:verify.teacherId}}">\n                    </a>\n                </p>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/verifyInfo/education.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{DEGREE[verify.data.degree] || \'\'}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{verify.data.school || \'\'}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static" ng-if="verify.data.startYear && verify.data.endYear">\n                <time-range start-time="verify.data.startYear" end-time="verify.data.endYear" start-format="\'yyyy\'"></time-range>\n            </p>\n            <p class="form-control-static" ng-if="!verify.data.startYear || !verify.data.endYear"></p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-2">\n            <p class="form-control-static" ng-if="verify.data.imageId">\n                <a href="{{verify.data.imageId | teacherImage:verify.teacherId}}" target="_blank" class="thumbnail">\n                    <img ng-src="{{verify.data.imageId | teacherImage:verify.teacherId}}">\n                </a>\n            </p>\n            <p class="form-control-static" ng-if="!verify.data.imageId">\n                \n            </p>\n        </div>\n    </div>\n</div>\n'),n.put("directives/verifyInfo/experience.html",'<div class="form-horizontal">\n    <div ng-if="!verify.data.entries.length">\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static"></p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static"></p>\n            </div>\n        </div>\n    </div>\n\n    <div class="form-group-set" ng-if="verify.data.entries.length" ng-repeat="entry in verify.data.entries">\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static">{{entry.desc}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-2 control-label"></div>\n            <div class="col-sm-10">\n                <p class="form-control-static">\n                    <time-range start-time="entry.startDate" end-time="entry.endDate" start-format="\'yyyyMM\'"></time-range>\n                </p>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/verifyInfo/identification.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{verify.data.name}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{verify.data.identity}}</p>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-2">\n            <div class="form-control-static" ng-if="verify.data.imageId">\n                <a href="{{verify.data.imageId | teacherImage:verify.teacherId}}" target="_blank" class="thumbnail">\n                    <img ng-src="{{verify.data.imageId | teacherImage:verify.teacherId}}">\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/verifyInfo/teachInfo.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <div class="form-control-static">\n                <span ng-repeat="grade in verify.data.grades track by $index">{{GRADE[grade]}}<span ng-if="!$last"></span></span>\n            </div>\n        </div>\n    </div>\n\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-10">\n            <p class="form-control-static">{{verify.data.course | nameInArray:subjects:\'prefix\'}}</p>\n        </div>\n    </div>\n</div>\n'),n.put("directives/verifyInfo/trials.html",'<div class="form-horizontal">\n    <div class="form-group">\n        <div class="col-sm-2 control-label"></div>\n        <div class="col-sm-8">\n            <div ng-repeat="trial in trials">\n                <div class="col-sm-8">\n                    <div class="well well-sm">\n                        <img ng-src="{{trial.thumbnailId | image}}" height="200"/>\n                    </div>\n                </div>\n                <div class="col-sm-4">\n                    <p>\n                        : {{trial.verifyStatus | trialStatus}}\n                    </p>\n                    <p ng-if="trial.verifyStatus === \'failed\'">\n                        {{trial.verifyAdvice}}\n                    </p>\n\n                    <qrcode version="10" error-correction-level="L" size="180" data="{{trial.qrcodeData}}"></qrcode>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("pages/comment/commentList.html",'<hide-comment comments="hideComments" on-cancel="cancelHide()"\n              ng-if="hideComments && hideComments.length"></hide-comment>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <comment-nav></comment-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <div class="well well-sm">\n                <form name="searchForm" class="form-horizontal">\n                    <div class="form-group">\n                        <label for="searchContent" class="col-sm-2 control-label">/</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="searchContent" ng-model="formData.account">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <input class="form-control" type="date" name="startTime" ng-model="formData.startTime"\n                                   datetime-local required>\n                        </div>\n\n                        <div class="col-sm-4">\n                            <input class="form-control" type="date" name="endTime" ng-model="formData.endTime"\n                                   datetime-local end-of-date required>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="rate" type="radio" ng-model="formData.rate" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="type in commentTypeList">\n                                <input name="rate" type="radio" ng-model="formData.rate" ng-value="type.value">\n                                {{type.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="complaintStatus" type="radio" ng-model="formData.complaintStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="complaintStatus in commentComplaintStatusList">\n                                <input name="complaintStatus" type="radio" ng-model="formData.complaintStatus"\n                                       ng-value="complaintStatus.value">\n                                {{complaintStatus.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="hideStatus" type="radio" ng-model="formData.hideStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="hideStatus in commentHideStatusList">\n                                <input name="hideStatus" type="radio" ng-model="formData.hideStatus"\n                                       ng-value="hideStatus.value">\n                                {{hideStatus.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div class="clearfix">\n        <a class="btn btn-primary pull-left" ng-disabled="!temp.selectedCommentIds.length"\n           ng-click="batchHideComments()" ng-href=""></a>\n    </div>\n    {{temp.selectedCommentIds}}\n    {{temp.selectedCommentIds.length}}\n    <table class="table" select-list-scope>\n        <thead>\n        <tr>\n            <th ng-if="!isSelectHidden">\n                <input type="checkbox" ng-model="temp.selectedCommentIds" select-all>\n            </th>\n            <th></th>\n            <th>Id</th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th class="col-sm-2"></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="item in comments">\n            <td ng-if="!isSelectHidden">\n                <input type="checkbox" ng-if="!item.commentOperationLog" ng-model="temp.selectedCommentIds"\n                       ng-true-value="{{item.id}}" select-list>\n            </td>\n            <td>{{item.category | nameInArray:episodeTypeList:\'value\'}}</td>\n            <td><a href="#/episodeRouter/{{item.episodeId}}/{{item.category}}">{{item.episodeId}}</a></td>\n            <td>{{item.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{item.endTime | date:\'HH:mm\'}}</td>\n            <td>{{item.createdTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n            <td>{{item.teacherNickName}}</td>\n            <td>{{item.studentNickName}}</td>\n            <td>{{item.studentIdentity}}</td>\n            <td>{{item.rate | nameInArray:commentTypeList:\'value\'}}</td>\n            <td><span class="label label-danger" ng-if="item.complained"></span>{{item.comment}}</td>\n            <td>\n                <span ng-if="item.commentOperationLog"></span>\n                <a href="" ng-click="hide(item)" ng-if="!item.commentOperationLog"></a>\n            </td>\n            <td>\n                <span ng-if="item.commentOperationLog">{{item.commentOperationLog.ldapName}}</span>\n            </td>\n            <td>\n                <span ng-if="item.commentOperationLog">{{item.commentOperationLog.hideReason}}</span>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <div class="clearfix">\n        <a class="btn btn-primary pull-left" ng-disabled="!temp.selectedCommentIds.length"\n           ng-click="batchHideComments()" ng-href=""></a>\n    </div>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/comment/complaintList.html",'<process-complaint complaints="processComplaints" on-cancel="cancelProcess()" ng-if="processComplaints && processComplaints.length"></process-complaint>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <comment-nav></comment-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <div class="well well-sm">\n                <form name="searchForm" class="form-horizontal">\n                    <div class="form-group">\n                        <label for="account" class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="account" ng-model="formData.account">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <input class="form-control" type="date" name="startTime" ng-model="formData.startTime" datetime-local required>\n                        </div>\n\n                        <div class="col-sm-4">\n                            <input class="form-control" type="date" name="endTime" ng-model="formData.endTime" datetime-local end-of-date required>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="processStatus" type="radio" ng-model="formData.processStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="processStatus in complaintProcessStatusList">\n                                <input name="processStatus" type="radio" ng-model="formData.processStatus" ng-value="processStatus.value">\n                                {{processStatus.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="hideStatus" type="radio" ng-model="formData.hideStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="hideStatus in complaintHideStatusList">\n                                <input name="hideStatus" type="radio" ng-model="formData.hideStatus" ng-value="hideStatus.value">\n                                {{hideStatus.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="clearfix" >\n                <a class="btn btn-primary pull-right" ng-disabled="loading" tb-export csv-generator="csv" on-load-all="loadAll()" download=".csv"></a>\n            </div>\n        </div>\n    </div>\n\n    <div class="clearfix">\n        <a class="btn btn-primary pull-left" ng-disabled="!temp.selectedCommentIds.length" ng-click="batchProcessComplaints()" ng-href=""></a>\n    </div>\n\n    <table class="table" select-list-scope export-csv="csv">\n        <thead>\n        <tr>\n            <th ng-if="!isSelectProcessed" class="ng-table-filters">\n                <input type="checkbox" ng-model="temp.selectedCommentIds" select-all>\n            </th>\n            <th></th>\n            <th>Id</th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th class="col-sm-2"></th>\n            <th></th>\n            <th class="ng-table-filters"></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="item in complaints">\n            <td ng-if="!isSelectProcessed" class="ng-table-filters">\n                <input type="checkbox" ng-if="!(item.processStatus === \'processed\' && item.hideStatus === \'hidden\' )" ng-model="temp.selectedCommentIds" ng-true-value="{{item.id}}" select-list>\n            </td>\n            <td>{{item.category | nameInArray:episodeTypeList:\'value\'}}</td>\n            <td><a href="#/episodeRouter/{{item.episodeId}}/{{item.category}}">{{item.episodeId}}</a></td>\n            <td>{{item.commentTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n            <td>{{item.complainTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n            <td>{{item.teacherName}}</td>\n            <td>{{item.studentName}}</td>\n            <td>{{item.studentAccount}}</td>\n            <td>{{item.commentRate | nameInArray:commentTypeList:\'value\'}}</td>\n            <td>{{item.content}}</td>\n            <td>\n                {{item.processStatus | nameInArray:complaintProcessStatusList:\'value\'}}\n                <span ng-if="item.processStatus === \'processed\'">({{item.hideStatus | nameInArray:complaintHideStatusList:\'value\'}})</span>\n            </td>\n            <td class="ng-table-filters">\n                <span ng-if="item.processStatus === \'processed\' && item.hideStatus === \'hidden\'" class="text-muted"></span>\n                <a href="" ng-click="process(item)" ng-if="item.processStatus !== \'processed\' || item.hideStatus !== \'hidden\'"></a>\n            </td>\n            <td>{{item.ldapId}}</td>\n            <td>{{item.processReason}}</td>\n        </tr>\n        </tbody>\n    </table>\n\n    <div class="clearfix">\n        <a class="btn btn-primary pull-left" ng-disabled="!temp.selectedCommentIds.length" ng-click="batchProcessComplaints()" ng-href=""></a>\n    </div>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/coupon/couponList.html",'<div page-loading="loadingPromise"></div>\n\n<div class="container-fluid">\n    <a href="#/coupons/distribute" class="btn btn-primary pull-right"></a>\n    <div class="col-sm-8 col-sm-offset-2">\n        <div class="well well-sm">\n            <form class="form-horizontal" novalidate n-form name="form" ng-submit="form.checkSubmit(search)">\n                <div class="form-group">\n                    <label for="account" class="col-sm-2 control-label"></label>\n                    <div class="col-sm-8">\n                        <input type="text" class="form-control" id="account" ng-model="formData.account">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="couponDate" class="col-sm-2 control-label"></label>\n                    <div class="col-sm-4">\n                        <input type="date" datetime-local class="form-control" id="couponDate" required  ng-model="formData.startTime">\n                    </div>\n                    <div class="col-sm-4">\n                        <input type="date" datetime-local class="form-control" required ng-model="formData.endTime" end-of-date ng-required="formData.startTime > 0">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="couponPrice" class="col-sm-2 control-label"></label>\n                    <div class="col-sm-4">\n                        <input id="couponPrice" name="minPrice" type="number" class="form-control" ng-model="formData.minPrice" required min="1" max="150">\n                    </div>\n                    <div class="col-sm-4">\n                        <input name="maxPrice" type="number" class="form-control" ng-model="formData.maxPrice" required min="1" max="150">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input name="status" type="radio" ng-model="formData.status" value="">\n                            \n                        </label>\n\n                        <label class="radio-inline" ng-repeat="status in statuses">\n                            <input name="status" type="radio" ng-model="formData.status" ng-value="status.value">\n                            {{status.name}}\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label for="operator" class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-4">\n                        <select class="form-control" id="operator" name="operator" ng-model="formData.operator" ng-options="operator for operator in operators track by operator">\n                            <option value=""></option>\n                        </select>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <div class="col-sm-8 col-sm-offset-2">\n                        <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid"></button>\n                        <button class="btn btn-default" ng-click="reset()"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n        </thead>\n        <tr ng-repeat = "coupon in coupons">\n            <td>{{coupon.value}}</td>\n            <td>{{statusInfo[coupon.status]}}</td>\n            <td>{{coupon.expiredTime | date: \'yyyy-MM-dd\'}}</td>\n            <td>{{coupon.student.identity}}</td>\n            <td>{{coupon.student.phone}}</td>\n            <td>{{coupon.operator}}</td>\n            <td>{{coupon.createdTime | date: \'yyyy-MM-dd\'}}</td>\n            <td>{{coupon.reason}}</td>\n        </tr>\n    </table>\n\n     <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/coupon/distributeCoupon.html",'<div class="container-fluid">\n    <h3 class="text-center"></h3>\n    <div class="well well-sm col-sm-8 col-sm-offset-2">\n        <form class="form-horizontal" name="form" n-form ng-submit="form.checkSubmit(submit)">\n            <div class="form-group">\n                <label for="value" class="col-sm-2 control-label"></label>\n                <div class="col-sm-8">\n                    <input id="value" name="value" type="number" class="form-control" ng-model="formData.value" required min="1" max="150">\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="end-date" class="col-sm-2 control-label"></label>\n                <div class="col-sm-8">\n                    <input type="date" datetime-local class="form-control" id="end-date" ng-model= "formData.endTime" end-of-date required>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="choose-user" class="col-sm-2 control-label"></label>\n                <div class="col-sm-8">\n                    <textarea id="choose-user" class="form-control" style="height:100px; overflow-y: auto" ng-model="userAccounts" data-to-list required></textarea>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="reason" class="col-sm-2 control-label"></label>\n                <div class="col-sm-8">\n                    <input id="reason" name="reason" type="text" class="form-control" ng-model="formData.reason" placeholder="" required>\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-6 col-sm-offset-2">\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid"></button>\n                    <button class="btn btn-default" ng-click="cancel()"></button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n'),n.put("pages/ep/epCreate.html",'<edit-tag ng-if="isEditTag" tags="formData.tags" type="tagType" on-close="hideEditTag()" on-complete="editTagComplete()"></edit-tag>\n<add-e-p ng-if="isAddEP" config="config" on-close="hideAddEP()" on-complete="addEPComplete(config)"></add-e-p>\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-8">\n            <season-nav></season-nav>\n            <back-header header-title="EP"></back-header>\n\n            <form name="form" class="form-horizontal" novalidate>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" ng-class="labelWidthClass"></label>\n\n                    <div class="col-sm-10">\n                        <label class="radio-inline" ng-repeat="studyPhase in studyPhaseList">\n                            <input ng-disabled="ids.length" name="studyPhase" type="radio" ng-model="formData.studyPhase" ng-value="studyPhase.value">\n                            {{studyPhase.name}}\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" ng-class="labelWidthClass"></label>\n\n                    <div class="col-sm-10">\n                        <label class="radio-inline" ng-repeat="subject in subjectList">\n                            <input ng-disabled="ids.length" name="subjectId" type="radio" ng-model="formData.subjectId" ng-value="subject.id">\n                            {{subject.name}}\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" for="name">Tag</label>\n\n                    <div class="col-sm-10">\n                        <span class="btn-primary form-control-static-text control-label" ng-repeat="tag in formData.tags">\n                            {{tag.name}}\n                        </span>\n                        <a ng-if="!ids.length" class="form-control-static-text control-label" ng-click="editTag()" href=""></a>\n                    </div>\n                </div>\n\n                <div ng-repeat="ep in formData.epList">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="name">{{$index + 1}}EP</label>\n\n                        <div class="col-sm-10">\n                            <div class="row">\n                                <div class="col-sm-6">\n                                    <input ng-disabled="formData.validInfo[$index].isCreated" type="text" class="form-control" id="name" required ng-model="ep.name" placeholder="{{$index + 1}}">\n                                </div>\n                                <div class="col-sm-6" ng-if="formData.epList.length > 1">\n                                    <button ng-disabled="formData.validInfo[$index].createdInfo" type="button" class="btn btn-link" ng-click="postpone($index, \'week\')"></button>\n                                    <button ng-disabled="formData.validInfo[$index].createdInfo" type="button" class="btn btn-link" ng-click="postpone($index, \'day\')"></button>\n                                    <button ng-disabled="formData.validInfo[$index].isCreated" type="button" class="btn btn-link" ng-if="$index" ng-click="remove($index)"></button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-10">\n                            <div class="row">\n                                <div class="col-sm-6">\n                                    <input ng-disabled="formData.validInfo[$index].isCreated" type="text" required ng-model="ep.teacherId" uib-typeahead="user.id as formatUser(user) for user in queryUsers($viewValue)" typeahead-on-select="getTeacher($index)" ng-change="getTeacher($index)" placeholder="ID" class="form-control">\n                                </div>\n                                <div class="col-sm-6" ng-if="ep.teacher.id">\n                                    <div class="form-control-static">{{ep.teacher.phase | studyPhase}}{{ep.teacher.subject.name}} - {{ep.teacher.nickname}} - {{ep.teacher.phone}}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="ep.teacherId && formData.validInfo[$index].teacherWithNull">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                                \n                            </p>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="formData.validInfo[$index].teacherWithWrongSubjectOrPhase">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                                EP\n                            </p>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="time-wrap clearfix col-sm-5" >\n                            <calendar disabled="formData.validInfo[$index].isCreated" class="calendar-wrap" ng-model="formData.timeManager[$index].date" options="formData.calendarOptions[$index]"></calendar>\n                            <input-time disabled="formData.validInfo[$index].isCreated" class="input-time-wrap" ng-model="ep.startTime" date="formData.timeManager[$index].date"\n                                       disable-end-time="true" ng-change="onStartTimeChange($index)"></input-time>\n                            <input type="hidden" name="startTime" required ng-model="ep.startTime">\n                        </div>\n                        <label class="col-sm-1 control-label"></label>\n                        <div class="col-sm-4">\n                            <input-time disabled="formData.validInfo[$index].isCreated" class="input-time-wrap" ng-model="ep.endTime" date="formData.timeManager[$index].date"\n                                        disable-end-time="true"></input-time>\n                            <input type="hidden" name="endTime" required ng-model="ep.endTime">\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="formData.validInfo[$index].createdInfo">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-10">\n                            <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                                {{formData.validInfo[$index].createdInfo}}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <button type="button" class="btn btn-link" ng-disabled="form.$invalid" ng-click="addEP()">EP</button>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button type="submit" class="btn btn-primary" ng-disabled="loading || form.$invalid || isEpisodeTemplateInvalid" ng-click="submit()"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>'),
n.put("pages/ep/epEdit.html",'<edit-tag ng-if="isEditTag" tags="ep.tags" type="tagType" on-close="hideEditTag()" on-complete="editTagComplete()"></edit-tag>\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n        <div class="col-sm-8">\n            <season-nav></season-nav>\n            <back-header header-title="EP">\n                <a class="btn btn-primary" ng-disabled="true" ng-click="setSeasons()" style="margin-left: 10px"></a>\n            </back-header>\n\n            <h4 class="bg-info">EP</h4>\n            <form name="form" class="form-horizontal" novalidate>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" >EP id</label>\n\n                    <div class="col-sm-10">\n                        <span class="form-control-static-text control-label" ng-model="ep.id">\n                            {{ep.id}}\n                        </span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" > id</label>\n\n                    <div class="col-sm-10">\n                        <span class="form-control-static-text control-label" ng-model="ep.episodeId">\n                            {{ep.episodeId}}\n                        </span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">Tag</label>\n\n                    <div class="col-sm-10">\n                        <span class="btn-primary form-control-static-text control-label" ng-repeat="tag in ep.tags">\n                            {{tag.name}}\n                        </span>\n                        <a class="form-control-static-text control-label" ng-click="editTag()" href=""></a>\n                    </div>\n                </div>\n\n                <hr>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" for="name">EP</label>\n\n                    <div class="col-sm-10">\n                        <div class="row">\n                            <div class="col-sm-6">\n                                <input type="text" class="form-control" id="name" required ng-disabled="hasSeasons" ng-model="ep.name" placeholder="EP">\n                            </div>\n                            <div class="col-sm-6" ng-if="hasSeasons">\n                                <a class="form-control-static-text control-label" ng-click="updateEPWithSeasons()" href=""></a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" ng-class="labelWidthClass"></label>\n\n                    <div class="col-sm-10">\n                        <label class="radio-inline" ng-repeat="studyPhase in studyPhaseList">\n                            <input name="studyPhase" type="radio" ng-disabled="hasSeasons" ng-model="ep.phase" ng-value="studyPhase.value">\n                            {{studyPhase.name}}\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" ng-class="labelWidthClass"></label>\n\n                    <div class="col-sm-10">\n                        <label class="radio-inline" ng-repeat="subject in subjectList">\n                            <input name="subjectId" type="radio" ng-disabled="hasSeasons" ng-model="ep.subject.id" ng-value="subject.id">\n                            {{subject.name}}\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="isSubjectPhaseInvalid">\n                    <label class="col-sm-2 control-label"></label>\n                    <div class="col-sm-10">\n                        <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                            EP\n                        </p>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <div class="row">\n                            <div class="col-sm-6">\n                                <input type="text" required ng-disabled="hasSeasons" ng-model="tempParams.teacherId" uib-typeahead="user.id as formatUser(user) for user in queryUsers($viewValue)" placeholder="ID" class="form-control">\n                            </div>\n                            <div class="col-sm-6" ng-if="ep.teacher.id">\n                                <div class="form-control-static">{{ep.teacher.phase | studyPhase}}{{ep.teacher.subject.name}} - {{ep.teacher.nickname}} - {{ep.teacher.phone}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="isTeacherInvalid">\n                    <label class="col-sm-2 control-label"></label>\n                    <div class="col-sm-10">\n                        <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                            EP\n                        </p>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="time-wrap clearfix col-sm-10" >\n                        <calendar class="calendar-wrap" disabled="hasSeasons" ng-model="tempParams.startDate" options="tempParams.calendarOptions"></calendar>\n                        <input-time class="input-time-wrap" disabled="hasSeasons" ng-model="ep.startTime" date="tempParams.startDate"\n                                    disable-end-time="true"></input-time>\n                        <input type="hidden" name="startTime" required ng-model="ep.startTime">\n                        <div class="form-control-static-text pull-left"></div>\n                        <input-time class="input-time-wrap" disabled="hasSeasons" ng-model="ep.endTime" date="tempParams.startDate"\n                                    disable-end-time="true"></input-time>\n                        <input type="hidden" name="endTime" required ng-model="ep.endTime">\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="!hasSeasons">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button type="submit" class="btn btn-primary" ng-disabled="loading || form.$invalid || isTeacherInvalid || isSubjectPhaseInvalid" ng-click="updateEPWithoutSeasons()"></button>\n                    </div>\n                </div>\n\n                <hr>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-5">\n                        <input type="text" ng-model="tempParams.episodeTemplateId" uib-typeahead="content.oldEpisodeTemplateId as formatContent(content) for content in getContentSuggest($viewValue)" placeholder="ID" class="form-control">\n                    </div>\n\n                    <div class="col-sm-5">\n                        <span style="color: red" class="form-control-static-text control-label">EP.</span>\n                    </div>\n                </div>\n\n                <!-- strategy by raoll 2016.7.17 -->\n                <!--<div ng-if="!validateInfo.contentWithNull" class="form-group">-->\n                    <!--<label class="col-sm-2 control-label"></label>-->\n\n                    <!--<div class="col-sm-4">-->\n                        <!--<label class="radio-inline" ng-repeat="needMaterial in needMaterialList">-->\n                            <!--<input name="needMaterial" type="radio" ng-disabled="isContentStrategyEditDisabled" ng-model="ep.needMaterial" ng-value="needMaterial.value">-->\n                            <!--{{needMaterial.name}}-->\n                        <!--</label>-->\n                    <!--</div>-->\n\n                    <!--<label class="col-sm-2 control-label"></label>-->\n\n                    <!--<div class="col-sm-4">-->\n                        <!--<label class="radio-inline" ng-repeat="sheetRequiredType in sheetRequiredTypeList">-->\n                            <!--<input name="sheetRequiredType" type="radio" ng-disabled="isContentStrategyEditDisabled" ng-model="ep.postSheetRequiredType" ng-value="sheetRequiredType.value">-->\n                            <!--{{sheetRequiredType.name}}-->\n                        <!--</label>-->\n                    <!--</div>-->\n                <!--</div>-->\n\n                <div class="form-group" ng-if="!validateInfo.contentWithNull">\n                    <label class="col-sm-2 control-label"></label>\n                    <div class="col-sm-10">\n                        <p ng-if="validateInfo.contentWithWrongSubjectOrStudyPhase" class="bg-warning" style="padding: 10px; margin: 5px 0">\n                            EP\n                        </p>\n                        <p ng-if="validateInfo.contentWithWrongStrategy" class="bg-warning" style="padding: 10px; margin: 5px 0">\n                            EP\n                        </p>\n                        <p ng-if="validateInfo.contentWithWrongMaterialConfig" class="bg-warning" style="padding: 10px; margin: 5px 0">\n                            EP\n                        </p>\n                        <span ng-if="ep.episodeTemplate">\n                             {{ep.episodeTemplate.id}}\n                            <a href="{{cmsUrl}}#/{{ep.episodeTemplate.subject.prefix}}/{{ep.episodeTemplate.phase}}/contents/{{ep.episodeTemplate.content.id}}">{{ep.episodeTemplate.name}}</a>\n                             - {{ep.episodeTemplate.phase | studyPhase}}{{ep.episodeTemplate.subject.name}}\n                        </span>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="tempParams.episodeTemplateId && validateInfo.contentWithNull">\n                    <label class="col-sm-2 control-label"></label>\n                    <div class="col-sm-10">\n                        <p class="bg-warning" style="padding: 10px; margin: 5px 0">\n                            \n                        </p>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button type="submit" class="btn btn-primary" ng-disabled="loading || form.$invalid || isEpisodeTemplateInvalid || originEpisodeTemplateId===tempParams.episodeTemplateId" ng-click="updateEPEpisodeTemplate()"></button>\n                    </div>\n                </div>\n\n                <hr>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" ></label>\n\n                    <div class="col-sm-10">\n                        <span class="form-control-static-text" ng-model="ep.seasons" ng-bind-html="(ep.seasons | epSeasonName | join: \',<br/>\') || \'\'"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" ></label>\n\n                    <div class="col-sm-10">\n                        <span class="form-control-static-text control-label" ng-model="ep.studentCount">\n                            {{ep.buyerCount}}\n                        </span>\n                    </div>\n                </div>\n            </form>\n\n            <operation-log id="ep.id" id-type="ep_id"></operation-log>\n        </div>\n    </div>\n</div>\n'),n.put("pages/ep/epEpisodeDetail.html",'<div page-loading="loadingPromise"></div>\n<div class="row">\n    <div class="col-md-2">\n        <h3 style="margin-top:0px; padding-left:10px"></h3>\n    </div>\n</div>\n\n<div class="panel panel-warning clear">\n    <div class="panel-heading row">\n        <span class="col-md-4"><strong></strong>{{episode.pincode || \'\'}} </span>\n        <span class="col-md-4"><strong></strong>{{episode.status | episodeStatus }}</span>\n        <span class="col-md-4"><strong>id</strong>{{episode.id}}</span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td>\n                    <strong></strong>{{episode.name}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.startTime | date:\'yyyy-MM-dd HH:mm\'}} -\n                    {{episode.endTime | date:\'HH:mm\'}}\n                </td>\n                <td>\n                    <span><a href="#/episodes/season/{{episode.id}}/comment"></a></span>\n                </td>\n                <td>\n                    <strong>id</strong>{{episode.teacher.id}}\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td colspan="3">\n                    <strong></strong>\n                    <span>{{episodeScore.scoreInSum}}</span>\n                    <span>{{scoreRanks}}</span>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episodeScore.teacherTransportRate.quality}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.teacherTransportRate.stability}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.interactionRate.integrity}}\n                </td>\n                <td>\n                    <strong></strong>\n                    <a target="_blank" ng-href="http://pipe.zhenguanyu.com/#/realtime/live_qos?date={{episode.startTime | date:\'yyyy-MM-dd\'}}&roomId={{episode.id}}&demension=fractionLost"></a>\n                    <span>100</span>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="log in episode.logs">\n                <td>{{log.createdTime | date: \'yyyy-MM-dd HH:mm:ss.sss\'}}</td>\n                <td>\n                    <span class="label label-primary" ng-if="log.user.userType === \'teacher\'"></span>\n                    <span class="label label-success" ng-if="log.user.userType === \'student\'"></span>\n                    <span class="label label-default" ng-if="!log.user"></span>\n                    <span class="label label-warning" ng-if="log.user.userType === \'ldap\'"></span>\n                    <span check-num>{{log.content}}</span>\n                </td>\n                <td>{{log.user.nickname || \'\'}}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n'),n.put("pages/ep/epList.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-8">\n            <season-nav></season-nav>\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="ids">EP ID</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="ids" ng-model="formData.ids" placeholder="1EP ID, ">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label">ID</label>\n\n                        <div class="col-sm-8">\n                            <div class="row">\n                                <div class="col-sm-6">\n                                    <input type="text" ng-model="formData.teacherId" uib-typeahead="user.id as formatUser(user) for user in queryUsers($viewValue)" placeholder="ID" class="form-control">\n                                </div>\n                                <div class="col-sm-6" ng-if="teacher.id">\n                                    <div class="form-control-static">{{teacher.nickname}} - {{teacher.phone}}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="name">EP</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="name" ng-model="formData.name" placeholder="EP">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" ng-class="labelWidthClass"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="studyPhase" type="radio" ng-model="formData.studyPhase" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="studyPhase in studyPhaseList">\n                                <input name="studyPhase" type="radio" ng-model="formData.studyPhase" ng-value="studyPhase.value">\n                                {{studyPhase.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" ng-class="labelWidthClass"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="subjectId" type="radio" ng-model="formData.subjectId" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="subject in subjectList">\n                                <input name="subjectId" type="radio" ng-model="formData.subjectId" ng-value="subject.id">\n                                {{subject.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <tag form-data="formData" tag-type="ep" loading-promise="loadingPromise"></tag>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" ng-disabled="loading" ng-href="#/eps/create" style="margin-left: 10px">EP</a>\n                <a class="btn btn-primary pull-right" ng-disabled="true" ng-href="#" style="margin-left: 10px"></a>\n            </div>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n            <tr>\n                <th>EP id</th>\n                <th> id</th>\n                <th>EP </th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th>Tag</th>\n                <th></th>\n                <th></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="ep in eps">\n                <td>{{ep.id}}</td>\n                <td>{{ep.episodeId}}</td>\n                <td><a href="#/eps/{{ep.id}}/edit">{{ep.name}}</a></td>\n                <td>{{ep.startTime | date: \'yyyy-MM-dd HH:mm\'}} - {{ep.endTime | date: \'HH:mm\'}}</td>\n                <td>{{ep.teacher.nickname}}</td>\n                <td ng-bind-html="(ep.seasons | epSeasonName | join: \',<br/>\') || \'\'"></td>\n                <td>{{ep.buyerCount}}</td>\n                <td>\n                    <span ng-repeat="tag in ep.tags">\n                        <span class="label label-primary">{{tag.name}}</span>\n                    </span>\n                </td>\n                <td>{{ep | epEpisodeContentStatus}}</td>\n                <td class="ng-table-filters">\n                    <a href="#/eps/{{ep.id}}/edit"></a>\n                    <a href="#/eps/episodes/{{ep.episodeId}}/episode-detail"></a>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/episode/episodeComment.html",'<hide-comment comments="hideComments" on-cancel="cancelHide()" ng-if="hideComments"></hide-comment>\n\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-md-12">\n            <h4 class="text-center"></h4>\n        </div>\n    </div>\n\n    <div class="col-sm-8 col-sm-offset-2" ng-if="type !== \'tutorial\'">\n        <div class="well well-sm">\n            <form class="form-horizontal">\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input name="rate" type="radio" ng-model="formData.rate" value="">\n                            \n                        </label>\n\n                        <label class="radio-inline" ng-repeat="type in commentTypeList">\n                            <input name="rate" type="radio" ng-model="formData.rate" ng-value="type.value">\n                            {{type.name}}\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input name="hideStatus" type="radio" ng-model="formData.hideStatus" value="">\n                            \n                        </label>\n\n                        <label class="radio-inline" ng-repeat="hideStatus in commentHideStatusList">\n                            <input name="hideStatus" type="radio" ng-model="formData.hideStatus" ng-value="hideStatus.value">\n                            {{hideStatus.name}}\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-8 col-sm-offset-2">\n                        <button class="btn btn-primary" ng-click="search()"></button>\n                        <button class="btn btn-default" ng-click="reset()"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n        <tr>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="item in comments">\n            <td>{{item.studentNickName}}</td>\n            <td>{{item.studentIdentity}}</td>\n            <td>{{commentTypeListShow[item.rate]}}</td>\n            <td>{{item.comment}}</td>\n            <td>\n                <span ng-if="item.commentOperationLog"></span>\n                <a href="" ng-click="hide(item)" ng-if="!item.commentOperationLog"></a>\n            </td>\n            <td>\n                <span ng-if="item.commentOperationLog">{{item.commentOperationLog.ldapName}}</span>\n            </td>\n            <td>\n                <span ng-if="item.commentOperationLog">{{item.commentOperationLog.hideReason}}</span>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/episode/episodeDetail.html",'<refund episode="refundEpisode" on-cancel="cancelRefund()" ng-if="refundEpisode"></refund>\n<amend-episode episode="amendEpisode" on-cancel="cancelAmend()" type=\'{{type}}\' ng-if="amendEpisode"></amend-episode>\n\n<div page-loading="loadingPromise"></div>\n<div class="row">\n    <div class="col-md-2">\n        <h3 style="margin-top:0px; padding-left:10px"></h3>\n    </div>\n    <div class="col-md-10">\n        <span class="col-sm-1">\n            <button class="btn btn-default" ng-disabled="currentTime >= episode.startTime || episode.status === \'refund\'" ng-click="amend()"></button>\n        </span>\n        <span class="col-sm-1" ng-if="type === \'tutorial\'">\n            <button class="btn btn-default" ng-disabled="currentTime >= episode.startTime || episode.status === \'refund\'" ng-click="refund()"></button>\n        </span>\n    </div>\n</div>\n\n<div class="panel panel-warning clear">\n    <div class="panel-heading row">\n        <span class="col-md-4"><strong></strong>{{episode.pincode || \'\'}} </span>\n        <span class="col-md-4"><strong></strong>{{episode.status | episodeStatus}}</span>\n        <span class="col-md-4"><strong>id</strong>{{episode.id}}</span>\n    </div>\n</div>\n\n<div class="panel panel-warning" ng-if="type === \'tutorial\'">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <span class="col-md-3">\n            <strong></strong>\n            <span> {{episode.totalFee}}</span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span>{{episode.couponFee}}</span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span>{{episode.paidFee}}</span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span ng-if="episode.totalFee !== \'0.00\' && episode.paidFee === episode.totalFee"></span>\n            <span ng-if="episode.totalFee === \'0.00\' || (episode.totalFee !== \'0.00\' && episode.couponFee === episode.totalFee)"></span>\n            <span ng-if="episode.totalFee !== \'0.00\' && episode.paidFee !== episode.totalFee && episode.couponFee !== episode.totalFee"></span>\n        </span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td>\n                    <strong></strong><span>{{episode.name}}</span>\n                </td>\n                <td>\n                    <strong></strong>{{episode.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{episode.endTime | date:\'HH:mm\'}}\n                </td>\n                <td>\n                    <span><a href="#/episodes/{{type}}/{{episode.id}}/comment"></a></span>\n                </td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episode.teacher.nickname}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.teacher.identity}}\n                </td>\n                <td>\n                    <strong>id</strong>{{episode.teacher.id}}\n                </td>\n                <td>\n                    <strong>: </strong>{{episode.teacher.phase}}\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episode.student.nickname}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.student.identity}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.student.contactPhone}}\n                </td>\n                <td>\n                    <strong>id</strong>{{episode.student.id}}\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong class="pull-left"></strong><span device-test user="episode.student"></span>\n                </td>\n                <td>\n                    <strong></strong>\n                    <a target="_blank" ng-href="http://pipe.zhenguanyu.com/#/realtime/live_qos?date={{episode.startTime | date:\'yyyy-MM-dd\'}}&roomId={{episode.id}}&demension=fractionLost"></a>\n                </td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr ng-if="keynote.type">\n                <td>\n                    <strong class="pull-left"></strong>\n                    {{keynote.type === \'custom\' ? \'\' : \'\'}}\n                </td>\n                <td>\n                    <a ng-href="#/episodes/{{type}}/{{episode.id}}/keynote-detail"></a>\n                </td>\n                <td></td>\n                <td></td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td colspan="3">\n                    <strong></strong>\n                    <span>{{episodeScore.scoreInSum}}</span>\n                    <span>{{scoreRanks}}</span>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episodeScore.teacherTransportRate.quality}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.teacherTransportRate.stability}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.interactionRate.integrity}}\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episodeScore.studentTransportRate.quality}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.studentTransportRate.stability}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.interactionRate.stability}}\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="log in episode.logs">\n                <td>{{log.createdTime | date: \'yyyy-MM-dd HH:mm:ss.sss\'}}</td>\n                <td>\n                    <span class="label label-primary" ng-if="log.user.userType === \'teacher\'"></span>\n                    <span class="label label-success" ng-if="log.user.userType === \'student\'"></span>\n                    <span class="label label-default" ng-if="log.user.userType === \'unknown\' || log.user.userType === \'admin\'"></span>\n                    <span class="label label-warning" ng-if="log.user.userType === \'ldap\'"></span>\n                    {{log.processedContent[0]}}\n                    <span ng-if="log.type === \'UDID\'">\n                        <span device-test udid="log.processedContent[1]"></span>\n                    </span>\n                    <span ng-if="log.type === \'workOrder\'">:\n                        <a href="https://yuanfudao.kf5.com/agent/#/ticket/{{log.processedContent[1]}}" target="_blank">{{log.processedContent[1]}}</a>\n                    </span>\n                </td>\n                <td>{{log.user.nickname}}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n'),
n.put("pages/episode/episodePurchase.html",'<div class="page container-fluid">\n    <div class="row">\n        <div class="col-md-2">\n            <h3 style="margin-top:0px; padding-left:10px"></h3>\n        </div>\n    </div>\n\n    <table class="table table-striped">\n        <thead>\n        <tr>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="item in tradeDetails">\n            <td>{{item.studentName}}</td>\n            <td>{{item.userIdentity}}</td>\n            <td>{{item.phone}}</td>\n            <td>{{item.paidAmount}}</td>\n            <td>{{PAY_STATUS[item.tradeStatus]}}</td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/episode/episodePush.html",'<div class="container-fluid">\n    <h3 class="text-center"></h3>\n\n    <div class="well well-sm col-sm-8 col-sm-offset-2">\n        <form class="form-horizontal" novalidate name="form">\n            <div class="form-group">\n                <label class="col-sm-2 control-label"></label>\n\n                <div class="col-sm-8">\n                    <p class="form-control-static">{{episode.name}}</p>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label class="col-sm-2 control-label"></label>\n\n                <div class="col-sm-8">\n                    <label ng-repeat="manner in pushTypeList" class="checkbox-inline">\n                        <input type="checkbox" ng-model="formData.manners" check-list ng-true-value="\'{{manner.value}}\'">\n                        {{manner.name}}\n                    </label>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="content" class="col-sm-2 control-label"></label>\n\n                <div class="col-sm-8">\n                    <textarea id="content" name="content" class="form-control" style="height:100px; resize: vertical" ng-model="formData.content" required></textarea>\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-6 col-sm-offset-2">\n                    <button type="submit" class="btn btn-primary" ng-disabled="!form.$valid || !formData.manners || !formData.manners.length" ng-click="submit()"></button>\n                    <button type="button" class="btn btn-default" ng-click="cancel()"></button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n'),n.put("pages/episode/episodeRouter.html","<div class=\"page container-fluid\">\n    <h4 ng-class=\"{'text-info': pageInfo.type === 'info', 'text-danger': pageInfo.type === 'danger'}\">{{pageInfo.content}}</h4>\n</div>\n"),n.put("pages/episode/keynoteDetail.html",'<div page-loading="loadingPromise"></div>\n<div class="row">\n    <div class="col-md-2">\n        <h3 style="margin-top:0px; padding-left:10px"></h3>\n    </div>\n</div>\n<div class="panel panel-warning">\n    <div class="panel-heading row">\n        <span class="col-md-4"><a ng-href="{{downloadLink}}" download></a></span>\n        <span class="col-md-4">{{totalSize}}KB</span>\n    </div>\n    <div class="panel-body">\n        <table class="table">\n            <thead>\n                <th>ID</th>\n                <th></th>\n            </thead>\n            <tbody>\n                <tr ng-repeat="resource in resources">\n                    <td>{{resource.id}}</td>\n                    <td>{{resource.size}}KB</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n'),n.put("pages/episode/tutorialEpisodeList.html",'<refund episode="refundEpisode" on-cancel="cancelRefund()" ng-if="refundEpisode"></refund>\n<amend-episode episode="amendEpisode" on-cancel="cancelAmend()" type={{type}} ng-if="amendEpisode"></amend-episode>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-8">\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label for="searchContent" class="col-sm-3 control-label">//</label>\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="searchContent" ng-model="formData.account">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n                        <div class="col-sm-4">\n                            <input type="date" class="form-control" name="startTime" ng-model="formData.startTime" datetime-local required>\n                        </div>\n                        <div class="col-sm-4">\n                            <input type="date" class="form-control" name="endTime" ng-model="formData.endTime" datetime-local end-of-date required>\n                        </div>\n                    </div>\n\n\n                    <phase-subject form-data="formData" loading-promise="phaseSubjectPromise" label-width-class="col-sm-3"></phase-subject>\n\n                    <div class="form-group" ng-if="isTutorial">\n                        <label class="col-sm-3 control-label"></label>\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="price" type="radio"  ng-model="formData.price" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline"  ng-repeat="price in episodePrice">\n                                <input name="price" type="radio" ng-model="formData.price" ng-value="price">\n                                {{price}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="isTutorial">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="payType" type="radio"  ng-model="formData.payType" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="payType in payTypes">\n                                <input name="payType" type="radio" ng-model="formData.payType" ng-value="payType.value">\n                                {{payType.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="status" type="radio" ng-model="formData.status" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="item in episodeStatuses">\n                                <input name="status" type="radio" ng-model="formData.status" ng-value="item.value">\n                                {{item.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="category" type="radio" ng-model="formData.category" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="item in tutorialCategory">\n                                <input name="category" type="radio" ng-model="formData.category" ng-value="item.value">\n                                {{item.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select class="form-control" name="score" ng-model="formData.score" ng-options="item.rank as item.name for item in scores"><option value=""></option></select>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-3">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="clearfix" >\n                <a class="btn btn-primary pull-right" ng-disabled="loading" tb-export csv-generator="csv" on-load-all="loadAll()" download=".csv" style="margin-left: 10px"></a>\n            </div>\n        </div>\n    </div>\n    <table class="table" export-csv="csv">\n        <thead>\n            <tr>\n                <th>id</th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="episode in episodes">\n                <td>{{episode.id}}</td>\n                <td>{{episode.status | episodeStatus}}</td>\n                <td>\n                    <a  href="#/episodes/{{episode.category}}/{{episode.id}}">{{episode.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{episode.endTime | date:\'HH:mm\'}}</a>\n                </td>\n                <td>{{episode.classHour}}</td>\n                <td>\n                    <span ng-if="episode.category === \'serial\' || (episode.category === \'tutorial\' && episode.totalFee !== \'0.00\' && episode.paidFee === episode.totalFee)"></span>\n                    <span ng-if="episode.category === \'tutorial\' && (episode.totalFee === \'0.00\' || (episode.totalFee !== \'0.00\' && episode.couponFee === episode.totalFee))"></span>\n                    <span ng-if="episode.category === \'tutorial\' && (episode.totalFee !== \'0.00\' && episode.paidFee !== episode.totalFee && episode.couponFee !== episode.totalFee)"></span>\n                </td>\n                <td>{{episode.teacher.nickname}}</td>\n                <td>{{episode.student.nickname}}</td>\n                <td>{{episode.student.phone}}</td>\n                <td>{{episode.score}}</td>\n                <td>\n                    <span ng-if="episode.category === \'serial\'"></span>\n                    <span ng-if="episode.category === \'tutorial\'">11</span>\n                </td>\n                <td>\n                    <a href="" ng-if="currentTime < episode.startTime && episode.status !== \'refund\'" ng-click="amend(episode)"></a>\n                    <span class="text-muted" ng-if="currentTime >= episode.startTime || episode.status === \'refund\'"></span>\n\n                    <a href="" ng-if="episode.category === \'tutorial\' && (currentTime < episode.startTime && episode.status !== \'refund\')" ng-click="refund(episode)"></a>\n                    <span class="text-muted" ng-if="episode.category === \'tutorial\' && (currentTime >= episode.startTime || episode.status === \'refund\')"></span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/interview/interviewList.html",'<interview ng-if="interviewReserved" on-cancel="onCancelReserve()"></interview>\n<interview-verify  on-cancel="cancelVerify()" episode-id="verifyEpisodeId" teacher-id="verifyTeacherId" ng-if="verifyEpisodeId"></interview-verify>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2" loading="loadingPromise">\n            <episode-nav></episode-nav>\n        </div>\n        <div class="clearfix col-sm-9 ">\n            <!--todo ng-if temp-->\n            <a class="btn btn-primary pull-right"  ng-disabled="loading" style="margin-left: 10px"\n               ng-click="reserveInterview()"></a>\n        </div>\n        <div class="col-sm-8">\n\n            <div class="well well-sm">\n\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label for="account" class="col-sm-3 control-label">/</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="account" ng-model="formData.account">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <input type="date" class="form-control" name="startTime" ng-model="formData.startTime"\n                                   datetime-local required>\n                        </div>\n                        <div class="col-sm-4">\n                            <input type="date" class="form-control" name="endTime" ng-model="formData.endTime"\n                                   datetime-local end-of-date required>\n                        </div>\n                    </div>\n\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div ng-class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="subject" type="radio" ng-model="formData.subject" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="subject in subjectList">\n                                <input name="subject" type="radio" ng-model="formData.subject"\n                                       ng-value="subject[\'prefix\']">\n                                {{subject.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-3">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                        </div>\n                    </div>\n\n                </form>\n\n            </div>\n\n\n        </div>\n    </div>\n    <table class="table" export-csv="csv">\n        <thead>\n        <tr>\n            <th>id</th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th>-</th>\n            <th>-</th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="interview in interviews">\n            <td>{{interview.episodeId}}</td>\n            <td>\n                <a href="#/episodes/{{interview.type}}/{{interview.episodeId}}">{{interview.courseName}}</a>\n            </td>\n            <td>{{interview.startTime | date:\'yyyy.MM.dd HH:mm\'}} - {{interview.endTime | date:\'HH:mm\'}}</td>\n            <td>\n                {{interview.teacher.nickname}}\n            </td>\n             <td>{{interview.teacher.identity}}</td>\n            <td>{{interview.shadowTeacherAccount}}</td>\n            <td>{{interview.shadowStudentAccount}}</td>\n            <td>{{interview.status | interviewStatus}}</td>\n            <td>\n                <a href=""\n                   ng-if="interview.status === \'init\' "\n                   ng-click="verify(interview)"></a>\n                <span class="text-muted"\n                      ng-if="interview.status !== \'init\' "></span>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/keynote/keynoteEdit.html",'<div page-loading="loadingPromise"></div>\n<div class="keynote-editor-container">\n    <div class="editor-toolbar">\n        <button class="btn btn-primary" ng-click="save()"></button>\n    </div>\n\n    <keynote keynote="keynote" content-id="contentId"></keynote>\n</div>\n'),n.put("pages/keynote/keynotePreview.html",'<div page-loading="loadingPromise"></div>\n<div class="container">\n    <div>\n        <a href="" ng-click="back()"></a>\n    </div>\n\n    <div ng-repeat="resourceId in keynote.resourceIds">\n        <keynote-resource resource-id="resourceId"></keynote-resource>\n    </div>\n</div>\n'),n.put("pages/lecture/lectureDetail.html",'<div page-loading="loadingPromise"></div>\n<div class="container-fluid">\n    <div class="row">\n        <h3 class="text-center"></h3>\n    </div>\n\n    <div class="well well-sm col-sm-8 col-sm-offset-2">\n        <form name="form" class="form-horizontal" role="form" novalidate loading="loadingPromise">\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="name"></label>\n\n                <div class="col-sm-8" ng-if="!editMode">\n                    <div class="form-control-static">{{lecture.name}}</div>\n                </div>\n                <div class="col-sm-8" ng-if="editMode">\n                    <input type="text" id="name" name="name" class="form-control" required ng-model="formData.name" ng-maxlength="30" ng-model-options="{allowInvalid: true}">\n                    <div class="label label-danger" ng-if="form.name.$error.maxlength">30</div>\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="content"></label>\n\n                <div class="col-sm-8">\n                    <p class="form-control-static" ng-if="!editMode" ng-bind-html="lecture.content"></p>\n\n                    <textarea ng-if="editMode" id="content" name="content" class="form-control" style="height:100px; resize: vertical" ng-model="formData.content" required ng-trim="false" ng-maxlength="contentLength" ng-model-options="{allowInvalid: true}"></textarea>\n                    <div class="label label-danger" ng-if="editMode && form.content.$error.maxlength">{{exceedNumber}}</div>\n\n                    <div class="clearfix" style="padding: 5px 0">\n                        <div style="width: 110px; float: left; margin-right: 5px" ng-repeat="imageId in formData.imageIds">\n                            <div class="thumbnail" style="margin-bottom: 5px">\n                                <a href="{{imageId | image}}" target="_blank">\n                                    <img ng-src="{{imageId | image}}" style="cursor: pointer; width: 100px; height: 100px">\n                                </a>\n\n                                <div class="caption" ng-if="editMode">\n                                    <a class="btn btn-danger btn-xs" role="button" ng-click="removeImage($index)"></a>\n                                    <a class="btn btn-primary btn-xs" role="button" ng-click="changeImage($index)" select-image image="temp.uploadImageUrl"></a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <p ng-if="editMode"><a href="javascript:void(0)" ng-click="insertImage()" select-image image="temp.uploadImageUrl"></a></p>\n                    <upload-image ng-if="temp.uploadImageUrl" image-url="temp.uploadImageUrl" loading-text="..." ng-model="temp.uploadImageId" model-type="id" private-image="false" on-upload-error="onUploadError()"></upload-image>\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-offset-2 col-sm-4">\n                    <button type="submit" class="btn btn-primary" ng-if="editMode" ng-disabled="loading" ng-class="{disabled: !form.$valid || form.$pristine}" ng-click="submit()"></button>\n                    <button type="button" class="btn btn-default" ng-if="editMode" ng-disabled="loading" ng-click="cancel()"></button>\n                    <button type="button" class="btn btn-primary" ng-if="!editMode" ng-disabled="loading" ng-click="edit()"></button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n'),n.put("pages/lecture/lectureEpisodeCreate.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2" loading="loadingPromise">\n            <episode-nav></episode-nav>\n        </div>\n        <div class="col-sm-8">\n            <lecture-nav></lecture-nav>\n            <br>\n\n            <form name="form" class="form-horizontal" n-form novalidate>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label "></label>\n\n                    <div class="col-sm-8">\n                        <input type="text" class="form-control" ng-disabled="type === \'edit\' && (FINISHED || RETIRED)" ng-model="formData.name" placeholder="">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">ID</label>\n\n                    <div class="col-sm-8">\n                        <div class="row">\n                        <div class="col-sm-6">\n                            <input type="text" ng-model="formData.teacherId" ng-disabled="type === \'edit\'"\n                                   uib-typeahead="user.id as formatUser(user) for user in queryUsers($viewValue)"\n                                   placeholder="ID" class="form-control">\n                        </div>\n                        <div class="col-sm-6" ng-if="teacher.id">\n                            <div class="form-control-static">{{teacher.nickname}} - {{teacher.phone}}</div>\n                        </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="clearfix col-sm-10" >\n                        <calendar class="calendar-wrap" ng-model="tempDates.startDate" options="calendarOptions" disabled="type === \'edit\' && (FINISHED || RETIRED)"></calendar>\n                        <input-time disabled="type === \'edit\' && (FINISHED || RETIRED)" class="input-time-wrap" ng-model="formData.startTime"  date="tempDates.startDate"\n                                    disable-end-time="true"></input-time>\n                        <input type="hidden" name="startTime" ng-model="formData.startTime">\n\n                        \n\n                        <input-time disabled="type === \'edit\' && (FINISHED || RETIRED)" class="input-time-wrap" ng-model="formData.endTime" date="tempDates.startDate"\n                                    disable-end-time="true"></input-time>\n                        <input type="hidden" name="endTime" ng-model="formData.endTime">\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <label class="radio-inline">\n                            <input type="radio" ng-disabled="type === \'edit\' && (FINISHED || RETIRED)" name="startSaleType"  ng-model="formData.startSaleType" value="{{SALE_TIME_TYPE.STANDARD}}">\n                        </label>\n\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="startSaleType" ng-disabled="type === \'edit\' && (FINISHED || RETIRED)" ng-model="formData.startSaleType" value="{{SALE_TIME_TYPE.CUSTOMIZE}}">\n                        </label>\n\n                        <div class="time-wrap clearfix">\n                            <calendar class="calendar-wrap" disabled="formData.startSaleType === SALE_TIME_TYPE.STANDARD" ng-model="tempDates.startSaleDate" options="calendarStartSaleDate"></calendar>\n                            <input-time class="input-time-wrap" disabled="formData.startSaleType === SALE_TIME_TYPE.STANDARD" ng-model="formData.startSaleTime" date="tempDates.startSaleDate" disable-end-time="true"></input-time>\n                            <input type="hidden" name="startSaleTime" ng-model="formData.startSaleTime" ng-required="formData.startSaleType === SALE_TIME_TYPE.CUSTOMIZE">\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'required\'" rel="startSaleTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group" >\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <div class="filter-bar-wrap price-bar-wrap" >\n                            <div filter-bar class="filter-bar" ng-disabled="type === \'edit\' && (FINISHED || RETIRED)" ng-model="formData.price"   options="prices" name="price" need-hint="true">\n                                <span class="non-price-hint help-inline hide" n-form-error="\'required\'" rel="price"></span>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input type="radio" name="limitType" ng-model="formData.limitType"\n                                   value="{{LIMIT_TYPE.INFINITE}}">\n                        </label>\n\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="limitType" ng-model="formData.limitType"\n                                   value="{{LIMIT_TYPE.FINITE}}">\n                        </label>\n\n                        <input type="number" name="studentLimit" ng-disabled="formData.limitType === LIMIT_TYPE.INFINITE"\n                               ng-model="formData.studentLimit" ng-required="formData.limitType === LIMIT_TYPE.FINITE" min="1"\n                               class="limit" integer ng-model-options="{allowInvalid: true}">\n                        <div class="form-control-static-text"></div>\n\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'number\'" rel="limit"></span>\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'integer\'" rel="limit"></span>\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'min\'"\n                              rel="limit">1</span>\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'required\'" rel="limit"></span>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n                    <div class="col-sm-8">\n                        <label type="text" disabled class="form-control-static-text">{{subjectsIdNameMap[formData.subjectId]}}</label>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <div class="filter-bar-wrap">\n                            <div filter-bar class="filter-bar" ng-model="formData.gradeId" options="grades"></div>\n                        </div>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <div class="filter-bar-wrap" ng-class="{expand: isRegionsExpanded}" more is-loading="loadingPromise"  is-expanded="isRegionsExpanded" expand="expandRegions()">\n                            <div filter-bar class="filter-bar" ng-model="formData.regionId" options="regions"></div>\n                        </div>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <div class="filter-bar-wrap" ng-class="{expand: isTextbookSuitesExpanded}" more is-loading="loadingPromise" is-expanded="isTextbookSuitesExpanded" expand="expandTextbookSuites()">\n                            <div filter-bar class="filter-bar" ng-model="formData.textbookSuiteId" options="textbookSuites"></div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <content-image form-data="formData"></content-image>\n                    </div>\n                    <div class="col-sm-2">\n                        <div class="form-control-static">\n                            <span class="text-danger hide" n-form-error="\'required\'" rel="content"></span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button type="submit" ng-if="type === \'create\'" class="btn btn-primary" ng-disabled="loading || form.$invalid" ng-click="submit()"></button>\n                        <button type="submit" ng-if="type === \'edit\'" class="btn btn-primary" ng-disabled="loading || form.$invalid" ng-click="save()"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("pages/lecture/lectureEpisodeDetail.html",'<retire lecture-id="retireLectureId" on-cancel="cancelRetire()" ng-if="retireLectureId"></retire>\n<remark episode-id="remarkEpisodeId" on-cancel="cancelRemark()" ng-if="remarkEpisodeId"></remark>\n<manual-settle lecture-id="manualSettleLectureId" on-cancel="cancelManualSettle()" ng-if="manualSettleLectureId"></manual-settle>\n\n<div page-loading="loadingPromise"></div>\n<div class="row">\n    <div class="col-md-2">\n        <h3 style="margin-top:0px; padding-left:10px"></h3>\n    </div>\n    <div class="col-md-10">\n        <span class="col-sm-1">\n            <button class="btn btn-default" ng-disabled="currentTime >= episode.startTime || episode.lecture.status === \'closed\'" ng-click="retire()"></button>\n        </span>\n        <span class="col-sm-1" ng-if="episode.lecture.status !== \'topped\'">\n            <button class="btn btn-default" ng-disabled="episode.lecture.status !== \'on_shelf\' || currentTime >= episode.startTime" ng-click="pin()"></button>\n        </span>\n        <span class="col-sm-1" ng-if="episode.lecture.status === \'topped\'">\n            <button class="btn btn-default" ng-click="cancelPin()"></button>\n        </span>\n        <span class="col-sm-1">\n            <button class="btn btn-default" ng-click="addRemark()"></button>\n        </span>\n        <span class="col-sm-1">\n            <button class="btn btn-default" ng-disabled="!isShouldManualSettle" ng-click="manualSettle()"></button>\n        </span>\n    </div>\n</div>\n\n<div class="panel panel-warning clear">\n    <div class="panel-heading row">\n        <span class="col-md-2"><strong></strong>{{episode.pincode || \'\'}} </span>\n        <span class="col-md-2"><strong></strong>{{episode.lecture.status | lectureStatus}}</span>\n        <span class="col-md-2"><strong>id</strong>{{episode.id}}</span>\n        <span class="col-md-2"><strong>id</strong>{{episode.lecture.id}}</span>\n        <span class="col-md-2"><strong>id</strong>{{episode.lecture.id + 2000000}}</span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <span class="col-md-3">\n            <strong></strong>\n            <span> {{episode.totalAmount}}</span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span>{{episode.validTicketCount}}</span>\n        </span>\n        <span class="col-md-3">\n            <span><a href="#/episodes/lecture/{{episode.id}}/purchase"></a></span>\n        </span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td>\n                    <strong></strong>\n                    <span><a href="#/episodes/lecture/{{episode.lecture.id}}/edit">{{episode.lecture.name}}</a></span>\n                </td>\n                <td>\n                    <strong></strong>{{episode.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{episode.endTime | date:\'HH:mm\'}}\n                </td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episode.teacher.nickname}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.teacher.identity}}\n                </td>\n                <td>\n                    <strong>id</strong>{{episode.teacher.id}}\n                </td>\n                <td>\n                    <strong>: </strong>{{episode.teacher.phase}}\n                </td>\n            </tr>\n            <tr ng-if="episode.lecture.type === \'shadow\'">\n                <td>\n                    <strong>::</strong>{{episode.lecture.teacherAccount}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.lecture.teacherPassword}}\n                </td>\n            </tr>\n            <tr ng-if="episode.lecture.type === \'shadow\'">\n                <td>\n                    <strong>::</strong>{{episode.lecture.studentAccount}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.lecture.studentPassword}}\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episode.teacher.subject.name}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.lecture.unitPrice}}/\n                </td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr ng-if="keynote.type">\n                <td>\n                    <strong class="pull-left"></strong>\n                    {{keynote.type === \'custom\' ? \'\' : \'\'}}\n                </td>\n                <td>\n                    <a ng-href="#/episodes/lecture/{{episode.id}}/keynote-detail"></a>\n                </td>\n                <td></td>\n                <td></td>\n            </tr>\n        </table>\n    </div>\n</div>\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td>\n                    <strong></strong>\n                    <span ng-if="currentTime <= episode.endTime "></span>\n                    <span ng-if="currentTime > episode.endTime && episode.validTicketCount">{{\'%.1f\' | sprintf:( episode.liveRoomStatistics.attendance/ episode.validTicketCount) * 100}}%</span>\n                    <span ng-if="currentTime > episode.endTime && !episode.validTicketCount">--</span>\n                </td>\n                <td>\n                    <strong></strong>{{episode.liveRoomStatistics.attendance}}\n                </td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>\n                    <span ng-if="currentTime <= episode.endTime"></span>\n                    <span ng-if="currentTime > episode.endTime && episode.commentStat.goodRateCount+episode.commentStat.mediumRateCount+episode.commentStat.inferiorRateCount">{{\'%.1f\' | sprintf:( episode.commentStat.goodRateCount/(episode.commentStat.goodRateCount+episode.commentStat.mediumRateCount+episode.commentStat.inferiorRateCount)) * 100}}%</span>\n                    <span ng-if="currentTime > episode.endTime && !(episode.commentStat.goodRateCount+episode.commentStat.mediumRateCount+episode.commentStat.inferiorRateCount)">--</span>\n                </td>\n                <td>\n                    <span><a href="#/episodes/lecture/{{episode.id}}/comment"></a></span>\n                </td>\n                <td>\n                     <span class="col-md-3">\n                         <span><a href="#/episodes/lecture/{{episode.id}}/push"></a></span>\n                    </span>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td colspan="3">\n                    <strong></strong>\n                    <span>{{episodeScore.scoreInSum}}</span>\n                    <span>{{scoreRanks}}</span>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episodeScore.teacherTransportRate.quality}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.teacherTransportRate.stability}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.interactionRate.integrity}}\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>\n                    <a target="_blank" ng-href="http://pipe.zhenguanyu.com/#/realtime/live_qos?date={{episode.startTime | date:\'yyyy-MM-dd\'}}&roomId={{episode.id}}&demension=fractionLost"></a>\n                    <span>100</span>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n\n<div id="keynote" class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <label class="col-sm-2" ></label>\n        <upload-file ng-if="temp.uploadFileUrl" file-url="temp.uploadFileUrl" param-name="keynote" loading-text="..." ng-model="temp.uploadFileId" model-type="id" on-upload-error="onUploadError" on-uploaded="onUploaded" target="uploadTarget"></upload-file>\n        <a class="btn-primary col-sm-offset-2" select-file file="temp.uploadFileUrl" file-type=".pdf"  on-selected="onSelected(file)" ng-click="setTarget()" href=""><span ng-if="hasKeynote"></span></a>\n        <a class="btn-primary col-sm-offset-2"  ng-if="hasKeynote" href="{{API_SERVER.cms}}/tutor-crm-lecture/api/lectures/{{episode.id}}/keynote/download"></a>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="log in episode.logs">\n                <td>{{log.createdTime | date: \'yyyy-MM-dd HH:mm:ss.sss\'}}</td>\n                <td>\n                    <span class="label label-primary" ng-if="log.user.userType === \'teacher\'"></span>\n                    <span class="label label-success" ng-if="log.user.userType === \'student\'"></span>\n                    <span class="label label-default" ng-if="log.user.userType === \'unknown\' || log.user.userType === \'admin\'"></span>\n                    <span class="label label-warning" ng-if="log.user.userType === \'ldap\'"></span>\n                    {{log.processedContent[0]}}\n                    <span ng-if="log.type === \'UDID\'">\n                        <span device-test udid="log.processedContent[1]"></span>\n                    </span>\n                    <span ng-if="log.type === \'workOrder\'">:\n                        <a href="https://yuanfudao.kf5.com/agent/#/ticket/{{log.processedContent[1]}}" target="_blank">{{log.processedContent[1]}}</a>\n                    </span>\n                </td>\n                <td>{{log.user.nickname}}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n'),
n.put("pages/lecture/lectureEpisodeList.html",'<retire lecture-id="retireLectureId" on-cancel="cancelRetire()" ng-if="retireLectureId"></retire>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2" loading="loadingPromise">\n            <episode-nav></episode-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <lecture-nav></lecture-nav>\n            <br>\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label for="account" class="col-sm-3 control-label">//</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="account" ng-model="formData.account">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <input type="date" class="form-control" name="attendStartTime" ng-model="formData.attendStartTime" datetime-local>\n                        </div>\n                        <div class="col-sm-4">\n                            <input type="date" class="form-control" name="attendEndTime" ng-model="formData.attendEndTime" datetime-local end-of-date>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <input type="date" class="form-control" name="createdStartTime" ng-model="formData.createdStartTime" datetime-local>\n                        </div>\n                        <div class="col-sm-4">\n                            <input type="date" class="form-control" name="createdEndTime" ng-model="formData.createdEndTime" datetime-local end-of-date>\n                        </div>\n                    </div>\n\n                    <phase-subject form-data="formData" loading-promise="phaseSubjectPromise" label-width-class="col-sm-3"></phase-subject>\n\n\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8" check-list-scope>\n                            <label class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.status" ng-true-value="\'\'" check-all>\n                                \n                            </label>\n\n                            <label ng-repeat="status in lectureStatuses" class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.status" check-list ng-true-value="\'{{status.value}}\'">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8" check-list-scope>\n                            <label class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.episodeStatus" ng-true-value="\'\'" check-all>\n                                \n                            </label>\n\n                            <label ng-repeat="status in episodeStatuses" class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.episodeStatus" ng-true-value="\'{{status.value}}\'" check-list>\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="selectStatus" type="radio" ng-model="formData.selectStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="selectStatus in lectureSelectStatuses">\n                                <input name="selectStatus" type="radio" ng-model="formData.selectStatus" ng-value="selectStatus.value">\n                                {{selectStatus.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="topStatus" type="radio" ng-model="formData.topStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="topStatus in lectureTopStatuses">\n                                <input name="topStatus" type="radio" ng-model="formData.topStatus" ng-value="topStatus.value">\n                                {{topStatus.name}}\n                            </label>\n                        </div>\n                    </div>\n\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="keynoteStatus" type="radio" ng-model="formData.keynoteStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="keynoteStatus in keynoteStatuses">\n                                <input name="keynoteStatus" type="radio" ng-model="formData.keynoteStatus" ng-value="keynoteStatus.value">\n                                {{keynoteStatus.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8" check-list-scope>\n                            <label class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.episodeIncomeFlowTypes" ng-true-value="\'\'" check-all>\n                                \n                            </label>\n\n                            <label ng-repeat="type in episodeIncomeFlowTypes" class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.episodeIncomeFlowTypes" ng-true-value="\'{{type.value}}\'" check-list>\n                                {{type.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="lectureType" type="radio" ng-model="formData.lectureType" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="lectureType in lectureTypes">\n                                <input name="lectureType" type="radio" ng-model="formData.lectureType" ng-value="lectureType.value">\n                                {{lectureType.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-3">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" ng-disabled="loading" tb-export csv-generator="csv" on-load-all="loadAll()" download=".csv" style="margin-left: 10px"></a>\n            </div>\n        </div>\n    </div>\n    <table class="table" export-csv="csv">\n        <thead>\n        <tr>\n            <th>id</th>\n            <!--<th></th>-->\n            <th></th>\n            <!--<th></th>-->\n            <th></th>\n            <!--<th></th>-->\n            <!--<th></th>-->\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <!--<th></th>-->\n            <th></th>\n            <th></th>\n            <th></th>\n            <th>/</th>\n            <!--<th></th>-->\n            <th class="ng-table-filters"></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="lecture in lectures">\n            <td>{{lecture.episodeId}}</td>\n            <!--<td>{{lecture.status | lectureStatus}}</td>-->\n            <td><a href="#/episodes/lecture/{{lecture.episodeId}}">{{lecture.name}}</a></td>\n            <!--<td>{{lecture.createdTime | date:\'yyyy-MM-dd HH:mm\'}}</td>-->\n            <td>{{lecture.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{lecture.endTime | date:\'HH:mm\'}}</td>\n            <!--<td>{{lecture.endTime - lecture.startTime | milliSecToMin}}</td>-->\n            <!--<td>{{lecture.price}}</td>-->\n            <td>{{lecture.phase}}</td>\n            <td>{{lecture.subject.name}}</td>\n            <td>{{lecture.teacher.nickname}}</td>\n            <td>{{lecture.episodeStatus | lectureEpisodeStatus}}</td>\n            <!--<td>{{lecture.teacher.identity}}</td>-->\n            <td>\n                <span ng-if="lecture.endTime >= currentTime"></span>\n                <span ng-if="lecture.endTime < currentTime && lecture.validTicketCount">\n                    {{\'%.1f\' | sprintf:(lecture.liveRoomStatistics.attendance / lecture.validTicketCount) * 100}}%\n                </span>\n                <span ng-if="lecture.endTime < currentTime && !lecture.validTicketCount">--</span>\n            </td>\n            <td>\n                <span ng-if="lecture.endTime >= currentTime"></span>\n                <span ng-if="lecture.endTime < currentTime && lecture.commentStat.goodRateCount + lecture.commentStat.mediumRateCount + lecture.commentStat.inferiorRateCount">\n                    {{\'%.1f\' | sprintf:(lecture.commentStat.goodRateCount / (lecture.commentStat.goodRateCount + lecture.commentStat.mediumRateCount + lecture.commentStat.inferiorRateCount)) * 100}}%\n                </span>\n                <span ng-if="lecture.endTime < currentTime && !(lecture.commentStat.goodRateCount + lecture.commentStat.mediumRateCount + lecture.commentStat.inferiorRateCount)">--</span>\n            </td>\n            <td>{{lecture.validTicketCount}}</td>\n            <td>\n                <a href="" class="label label-primary" ng-if="lecture.selectStatus === \'selected\'" ng-click="cancelSelect(lecture)" title=""></a>\n                <a href="" class="label label-default" ng-if="lecture.status === \'published\' && lecture.episodeStatus === \'new\' && lecture.selectStatus !== \'selected\'" ng-click="select(lecture)" title=""></a>\n                <!--<a href="" class="label label-danger" ng-if="lecture.lecture.globalTopStatus === \'global_topped\'" ng-click="cancelTop(lecture, false)" title=""></a>-->\n                <!--<a href="" class="label label-default" ng-if="lecture.lecture.status === \'on_shelf\' && lecture.lecture.globalTopStatus !== \'global_topped\' && lecture.lecture.normalTopStatus !== \'normal_topped\' && lecture.lecture.selectStatus === \'selected\'" ng-click="top(lecture, false)" title=""></a>-->\n                <a href="" class="label label-warning" ng-if="lecture.topStatus === \'normal_topped\'" ng-click="cancelTop(lecture, true)" title=""></a>\n                <a href="" class="label label-default" ng-if="lecture.status === \'published\' && lecture.episodeStatus === \'new\' && lecture.topStatus !== \'normal_topped\' && lecture.selectStatus === \'selected\'" ng-click="top(lecture, true)" title=""></a>\n            </td>\n            <!--<td>-->\n                <!--{{lecture.incomeFlowType | valueToName:episodeIncomeFlowTypes}}-->\n            <!--</td>-->\n            <td class="ng-table-filters">\n            <td><a href="#/episodes/lecture/{{lecture.episodeId}}#keynote"></a>\n                <a href="" ng-if="currentTime < lecture.startTime && lecture.status === \'published\'" ng-click="retire(lecture)"></a>\n                <span class="text-muted" ng-if="currentTime >= lecture.startTime || lecture.status !== \'published\'"></span>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/notification/notify.html",'<notify-nav></notify-nav>\n<br>\n\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-sm-8 col-sm-offset-2">\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline" ng-repeat="userType in userTypeList">\n                                <input type="radio" ng-model="formData.userType" ng-value="userType.value">\n                                {{userType.name}}\n                            </label>\n                        </div>\n                    </div>\n\n\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8" check-list-scope>\n                            <label class="checkbox-inline" ng-repeat="channel in channelList">\n                                <input type="checkbox" ng-model="formData.channel" check-list ng-true-value="\'{{channel.value}}\'">\n                                {{channel.name}}\n                            </label>\n                        </div>\n                    </div>\n\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label">\n                            \n                        </label>\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" ng-model="formData.summary"  placeholder="Push">\n                        </div>\n\n                    </div>\n\n\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="content"></label>\n\n                        <div class="col-sm-8">\n                            <textarea id="content" name="content" class="form-control" style="height:100px; resize: vertical" ng-model="formData.content"\n                                      required placeholder="7070IMPush"></textarea>\n                        </div>\n                    </div>\n\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="reason"></label>\n\n                        <div class="col-sm-8 ">\n                            <input type="text" class="form-control" id="reason" ng-model="formData.reason" required placeholder="">\n                        </div>\n                    </div>\n\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="sourceType">\n                            \n                        </label>\n\n                        <div class="col-sm-8">\n\n                            <label class="radio-inline" id="sourceType"  ng-repeat="sourceType in sourceTypes">\n                                <input type="radio" ng-model="formData.sourceType" required ng-disabled="sourceType.value === \'totalAmountStudents\'" ng-value="sourceType.value">\n                                {{sourceType.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2 clearfix" ng-if="formData.sourceType === \'csv\'">\n                            <button type="button" class="btn btn-primary pull-left" ng-disabled="loading" select-file file="temp.uploadFileUrl" file-type=".csv" on-selected="onSelected(file)" style="margin-left: 10px"></button>\n                            <span class="text-danger form-control-static pull-left " ng-if="temp.uploadFile">{{temp.uploadFile.name}}</span>\n                            <upload-file ng-if="temp.uploadFileUrl && uploadTarget" file-url="temp.uploadFileUrl" param-name="file" file-name="temp.uploadFile.name" loading-text="..." ng-model="temp.uploadFileId" on-upload-error="onUploadError" on-uploaded="onUploaded" target="uploadTarget"></upload-file>\n                        </div>\n                        <div class="col-sm-8 col-sm-offset-2" ng-if="formData.sourceType === \'csv\'">\n                            <br>\n                            <div>:<span class="text-muted"> id,</span></div>\n                            <div>:<span class="text-muted"> 11idididid</span></div>\n                            <div>:<span class="text-muted"> id,pipe</span></div>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="formData.sourceType === \'totalAmountStudents\'">\n                        <label class="col-sm-2 control-label">\n                            \n                        </label>\n                        <div class="col-sm-8">\n\n                            <label class="radio-inline"  ng-repeat="studyPhase in studyPhases">\n                                <input type="radio" ng-model="formData.studyPhase" required ng-value="studyPhase.value">\n                                {{studyPhase.name}}\n                            </label>\n                        </div>\n                    </div>\n                    <div class="form-group" ng-if="formData.sourceType === \'inputUserId\'">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <textarea   class="form-control" style="height:100px; resize: vertical" ng-model="formData.userIds"\n                                      required placeholder=\n                                                "userid,:\n                                                7633223\n                                                22343\n                                                23232" array-to-text>\n                            </textarea>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2 clearfix">\n                            <button type="submit" class="btn btn-primary pull-left" ng-disabled="!form.$valid " ng-click="submit()" style="margin-left: 10px"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("pages/notification/notifyByStudent.html",'<notify-nav></notify-nav>\n<br>\n\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-sm-8 col-sm-offset-2">\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="reason" ng-model="formData.reason" required>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline" ng-repeat="channel in channelList">\n                                <input type="radio" ng-model="formData.channel" ng-value="channel.value">\n                                {{channel.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="studyPhase" type="radio" ng-model="formData.studyPhase" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="studyPhase in studyPhaseList">\n                                <input name="studyPhase" type="radio" ng-model="formData.studyPhase" ng-value="studyPhase.value">\n                                {{studyPhase.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <textarea id="content" name="content" class="form-control" style="height:100px; resize: vertical" ng-model="formData.content" required placeholder=""></textarea>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button type="submit" class="btn btn-primary pull-right" ng-disabled="!form.$valid" ng-click="submit()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("pages/notification/notifyJobList.html",'<notify-nav></notify-nav>\n<br>\n\n<div page-loading="loadingPromise"></div>\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-md-12">\n            <h4 class="text-center"></h4>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n        <tr>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="job in jobs">\n            <td>{{job.createdTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n            <td>{{job.channel}}</td>\n            <td class="col-sm-3">{{job.content}}</td>\n            <td>{{job.summary}}</td>\n            <td>{{job.targetUserIds.length}}</td>\n            <td class="col-sm-2">{{job.reason}}</td>\n            <td>{{job.ldap}}</td>\n            <td ng-if="job.source === \'csv\'">\n                <span class="label label-primary">csv</span>\n                <a ng-href="{{downloadLinkPrefix + job.id + \'/download\'}}"></a></td>\n            <td ng-if="job.source === \'totalAmountStudents\'"><span class="label label-success">: </span>{{job.phase}}</td>\n            <td ng-if="job.source === \'inputUserId\'"><span class="label label-info">id: </span>{{job.targetUserIds}}</td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo" on-page="load"></pagination>\n</div>\n'),n.put("pages/operation/announcementList.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <operation-nav></operation-nav>\n        </div>\n\n        <div class="col-sm-10">\n            <ul class="nav nav-tabs">\n                <li ng-class="{active: phase === \'chuzhong\'}"><a href="" ng-click="changeType(\'chuzhong\')"></a></li>\n                <li ng-class="{active: phase === \'gaozhong\'}"><a href="" ng-click="changeType(\'gaozhong\')"></a></li>\n            </ul>\n            <br>\n\n            <form name="form" class="form-horizontal" role="form" novalidate loading="loadingPromise">\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" for="content"></label>\n\n                    <div class="col-sm-8" ng-if="!editMode">\n                        <p class="form-control-static">{{announcement.content || \'\'}}</p>\n                    </div>\n\n                    <div class="col-sm-8" ng-if="editMode">\n                        <input type="text" class="form-control" id="content" name="content" ng-model="formData.content" ng-maxlength="34" ng-model-options="{allowInvalid: true}" required>\n                        <div class="label label-danger" ng-if="form.content.$error.maxlength">34</div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8" ng-if="!editMode">\n                        <p class="form-control-static">\n                            <span ng-if="announcement.startTime">{{announcement.startTime | date:\'yyyy-MM-dd HH:mm\' || \'\'}}</span>\n                            <span ng-if="!announcement.startTime"></span>\n                        </p>\n                    </div>\n\n                    <div class="col-sm-8" ng-if="editMode">\n                        <input-datetime ng-model="formData.startTime" restriction="{required:true}"></input-datetime>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8" ng-if="!editMode">\n                        <p class="form-control-static">\n                            <span ng-if="announcement.endTime">{{announcement.endTime | date:\'yyyy-MM-dd HH:mm\' || \'\'}}</span>\n                            <span ng-if="!announcement.endTime"></span>\n                        </p>\n                    </div>\n\n                    <div class="col-sm-8" ng-if="editMode">\n                        <input-datetime ng-model="formData.endTime" restriction="{required:true}"></input-datetime>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-8 col-sm-offset-2">\n                        <button class="btn btn-primary" ng-click="publish()" ng-if="editMode" ng-disabled="!form.$valid || loading"></button>\n                        <button class="btn btn-default" ng-click="cancel()" ng-if="editMode"></button>\n                        <button class="btn btn-primary" ng-click="edit()" ng-if="!editMode" ng-disabled="loading">\n                            <span ng-if="announcement"></span>\n                            <span ng-if="!announcement"></span>\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("pages/operation/bannerList.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <operation-nav></operation-nav>\n        </div>\n\n        <div class="col-sm-10">\n            <div class="well well-sm">\n                <form name="form" n-form class="form-horizontal" novalidate ng-submit="form.checkSubmit(submit)" loading="loadingPromise">\n                    <div class="alert alert-info" role="alert" ng-if="!loading && !editMode && !formData.entries.length" ng-cloak>\n                        <p>banner</p>\n                    </div>\n                    <ng-form ng-repeat="banner in formData.entries track by $index" ng-controller="SingleBannerCtrl" name="bannerForm" n-form class="clearfix" ng-show="banner.productType !== \'lesson\'">\n                        <div class="row">\n                            <div class="col-sm-3 col-sm-offset-1">\n                                <p class="form-control-static" ng-if="!banner.imageId">\n                                    <span class="text-muted">banner</span>\n                                </p>\n\n                                <div ng-if="banner.imageId && !temp.uploadImageUrl">\n                                    <a href="{{ banner.imageId | image:false }}" target="_blank" class="thumbnail">\n                                        <img ng-src="{{banner.imageId | image:false | imageWidth:200 | imageHeight:130}}" style="cursor: pointer">\n                                    </a>\n                                </div>\n\n                                <div class="btn-group btn-group-sm" role="group" ng-if="editMode && !temp.uploadImageUrl">\n                                    <button type="button" class="btn btn-primary" select-image image="temp.uploadImageUrl">\n                                        <span ng-if="!banner.imageId"></span>\n                                        <span ng-if="banner.imageId"></span>\n                                    </button>\n                                    <button type="button" class="btn btn-danger" ng-click="removeBanner($index)" ng-disabled="!banner.imageId"></button>\n                                    <button type="button" class="btn btn-default" ng-click="moveUpBanner($index)" ng-disabled="!banner.imageId || $first"></button>\n                                    <button type="button" class="btn btn-default" ng-click="moveDownBanner($index)" ng-disabled="!banner.imageId || $last"></button>\n                                </div>\n\n                                <upload-image image-url="temp.uploadImageUrl" ng-model="banner.imageId" loading-text="..." model-type="id" required name="imageId" private-image="false" on-upload-error="onUploadError()"></upload-image>\n                            </div>\n                            <div class="col-sm-8">\n                                <div class="form-group">\n                                    <label class="col-sm-2 control-label"></label>\n\n                                    <div class="col-sm-8" ng-if="!editMode">\n                                        <p class="form-control-static">{{ banner.link }}</p>\n                                    </div>\n                                    <div class="col-sm-8" ng-if="editMode">\n                                        <input type="text" class="form-control" placeholder="banner" required ng-model="banner.link">\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <label class="col-sm-2 control-label"></label>\n\n                                    <div class="col-sm-8" ng-if="!editMode">\n                                        <p class="form-control-static">{{ banner.title }}</p>\n                                    </div>\n                                    <div class="col-sm-8" ng-if="editMode">\n                                        <input type="text" class="form-control" placeholder="banner" required ng-model="banner.title">\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <label class="col-sm-2 control-label"></label>\n\n                                    <div class="col-sm-8" ng-if="!editMode">\n                                        <p class="form-control-static">\n                                            <span ng-if="banner.shareDescription">{{ banner.shareDescription }}</span>\n                                            <span class="text-muted" ng-if="!banner.shareDescription"></span>\n                                        </p>\n                                    </div>\n                                    <div class="col-sm-8" ng-if="editMode">\n                                        <input type="text" class="form-control" placeholder="banner" ng-model="banner.shareDescription">\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <label class="col-sm-2 control-label">\n                                        <span ng-if="!editMode"></span>\n                                        <span ng-if="editMode"></span>\n                                    </label>\n\n                                    <div class="col-sm-8" ng-if="!editMode">\n                                        <p class="form-control-static">\n                                            <span class="label label-danger"\n                                                  ng-if="dateInfo($index, \'expired\')"></span>\n                                            <span class="label label-warning"\n                                                  ng-if="dateInfo($index, \'unbegin\')"></span>\n                                            <span class="label label-success"\n                                                  ng-if="dateInfo($index, \'displaying\')"></span>\n                                            <span> {{ banner.startTime | date: "yyyy-MM-dd HH:mm" }}  {{ banner.endTime | date: "yyyy-MM-dd HH:mm" }}</span>\n                                        </p>\n                                    </div>\n                                    <div class="col-sm-5" ng-if="editMode">\n                                        <input type="date" datetime-local class="form-control" required ng-model="banner.startDate">\n                                    </div>\n                                    <div class="col-sm-3" ng-if="editMode">\n                                        <select class="form-control" ng-options="item.value as item.label for item in HOURS" required ng-model="banner.startHour"></select>\n                                    </div>\n                                </div>\n                                <div class="form-group" ng-if="editMode">\n                                    <label class="col-sm-2 control-label"></label>\n\n                                    <div class="col-sm-5">\n                                        <input type="date" datetime-local class="form-control" required ng-model="banner.endDate">\n                                    </div>\n                                    <div class="col-sm-3" ng-if="editMode">\n                                        <select class="form-control" ng-options="item.value as item.label for item in HOURS" required ng-model="banner.endHour"></select>\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <label class="col-sm-2 control-label"></label>\n\n                                    <div class="col-sm-8" ng-if="!editMode">\n                                        <p class="form-control-static">{{ (banner.phase | nameInArray:PHASES:\'value\') || \'\'}}</p>\n                                    </div>\n                                    <div class="col-sm-8" ng-if="editMode">\n                                        <label class="radio-inline">\n                                            <input type="radio" ng-model="banner.phase" value="">\n                                        </label>\n\n                                        <label class="radio-inline" ng-repeat="phase in PHASES">\n                                            <input type="radio" ng-model="banner.phase" ng-value="phase.value">{{phase.name}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <label class="col-sm-2 control-label"></label>\n\n                                    <div class="col-sm-8" ng-if="!editMode">\n                                        <p class="form-control-static">{{ (banner.productType | nameInArray:PRODUCTS:\'value\') || \'\'}}</p>\n                                    </div>\n                                    <div class="col-sm-8" ng-if="editMode">\n                                        <label class="radio-inline">\n                                            <input type="radio" ng-model="banner.productType" ng-value="\'\'">\n                                        </label>\n\n                                        <label class="radio-inline" ng-repeat="product in PRODUCTS" ng-if="product.value !== \'lesson\'">\n                                            <input type="radio" ng-model="banner.productType" ng-value="product.value">{{product.name}}\n                                        </label>\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <label class="col-sm-2 control-label"></label>\n\n                                    <div class="col-sm-8">\n                                        <p class="form-control-static text-muted" ng-if="!editMode && !banner.shareImageId"></p>\n                                        <div class="form-control-static" ng-if="editMode && !banner.shareImageId">\n                                            <p class="text-muted">banner</p>\n                                            <p class="text-muted"></p>\n                                        </div>\n\n                                        <div ng-if="banner.shareImageId && !temp.uploadShareImageUrl">\n                                            <a href="{{ banner.shareImageId | image:false }}" target="_blank" class="thumbnail">\n                                                <img ng-src="{{banner.shareImageId | image:false | imageWidth:100 | imageHeight:100}}" style="cursor: pointer">\n                                            </a>\n                                        </div>\n\n                                        <div class="btn-group btn-group-sm" role="group" ng-if="editMode && !temp.uploadShareImageUrl">\n                                            <button type="button" class="btn btn-primary" select-image image="temp.uploadShareImageUrl">\n                                                <span ng-if="!banner.shareImageId"></span>\n                                                <span ng-if="banner.shareImageId"></span>\n                                            </button>\n                                            <button type="button" class="btn btn-danger" ng-click="removeBannerShareImage($index)" ng-disabled="!banner.shareImageId"></button>\n                                        </div>\n\n                                        <upload-image image-url="temp.uploadShareImageUrl" ng-model="banner.shareImageId" loading-text="..." model-type="id" name="imageId" private-image="false" on-upload-error="onUploadShareImageError()"></upload-image>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <hr>\n                    </ng-form>\n                    <div class="row" ng-if="editMode">\n                        <div class="col-sm-offset-1 col-sm-4">\n                            <button type="button" class="btn btn-primary btn-sm" ng-click="addBanner()" ng-disabled="loading" ng-class="{disabled: !form.$valid}">\n                                <span ng-if="!formData.entries.length"></span>\n                                <span ng-if="formData.entries.length"></span>\n                            </button>\n                        </div>\n                    </div>\n                    <hr ng-if="editMode">\n                    <div class="row">\n                        <div class="col-sm-offset-5 col-sm-4">\n                            <button type="submit" class="btn btn-primary" ng-if="editMode" ng-disabled="loading" ng-class="{disabled: !form.$valid || form.$pristine}"></button>\n                            <button type="button" class="btn btn-default" ng-if="editMode" ng-disabled="loading" ng-click="cancel()"></button>\n                            <button type="button" class="btn btn-primary" ng-if="!editMode" ng-disabled="loading" ng-click="edit()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n'),
n.put("pages/operation/linkingWithLectureEdit.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <operation-nav></operation-nav>\n        </div>\n\n        <div class="col-sm-10">\n            <form name="form" class="form-horizontal">\n                <input type="hidden" ng-model="lecture.id" required>\n                <input type="hidden" ng-model="formData.startTime" required>\n                <input type="hidden" ng-model="formData.endTime" required>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"> ID</label>\n\n                    <div class="col-sm-4">\n                        <input type="number" ng-model="formData.episodeId" required class="form-control">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-4">\n                        <div class="div form-control-static">{{lecture.name}}</div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-4">\n                        <div class="div form-control-static">{{lecture.subject.name}}</div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-4">\n                        <div class="div form-control-static">{{lecture.phase | valueToName:PHASE}}</div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-4">\n                        <input type="text" ng-model="formData.desc" required class="form-control" ng-maxlength="21" name="desc">\n                        <span ng-if="form.desc.$error.maxlength">21</span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="time-wrap clearfix col-sm-6">\n                        <calendar ng-model="formData.startTimeDate"></calendar>\n                        <input-time ng-model="formData.startTime" date="formData.startTimeDate" disable-end-time="true"></input-time>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="time-wrap clearfix col-sm-6">\n                        <calendar ng-model="formData.endTimeDate"></calendar>\n                        <input-time ng-model="formData.endTime" date="formData.endTimeDate" disable-end-time="true"></input-time>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-8 col-sm-offset-2">\n                        <button class="btn btn-primary" ng-click="submit()" ng-disabled="form.$invalid || !lecture.id"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("pages/operation/linkingWithLectureList.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <operation-nav></operation-nav>\n        </div>\n\n        <div class="col-sm-10">\n            <div class="well well-sm">\n                <form name="searchForm" class="form-horizontal">\n                    <phase-subject form-data="formData" phase-key-name="phase" subject-key-name="subjectId" subject-value-field="id" loading-promise="phaseSubjectPromise"></phase-subject>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select class="form-control" name="status" ng-model="formData.status" ng-options="item.value as item.name for item in linkingWithLectureStatuses"><option value=""></option></select>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!searchForm.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <a class="btn btn-primary" href="#/operations/linking-with-lectures/new"></a>\n        </div>\n    </div>\n\n    <table class="table" export-csv="csv">\n        <thead>\n            <th> ID</th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </thead>\n        <tbody>\n            <tr ng-repeat="linkingWithLecture in linkingWithLectures">\n                <td>{{linkingWithLecture.episodeId}}</td>\n                <td>{{linkingWithLecture.startTime | date:\'yyyy-MM-dd HH:mm\'}}<br>{{linkingWithLecture.endTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n                <td>{{linkingWithLecture.desc}}</td>\n                <td>{{linkingWithLecture.phase | valueToName:PHASE}}</td>\n                <td>{{linkingWithLecture.subject.name}}</td>\n                <td>{{linkingWithLecture.ldapId}}<br>{{linkingWithLecture.createdTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n                <td>{{linkingWithLecture.status | valueToName:linkingWithLectureStatuses}}</td>\n                <td>\n                    <a class="btn btn-default" href="" ng-if="linkingWithLecture.status === \'init\' || linkingWithLecture.status === \'invalid\'" ng-click="cancel(linkingWithLecture)"></a>\n                    <span class="btn btn-disabled" ng-if="linkingWithLecture.status === \'cancelled\'" ng-click="cancel(linkingWithLecture)"></span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/operation/splashEdit.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <operation-nav></operation-nav>\n        </div>\n\n        <div class="col-sm-10">\n            <form name="form" class="form-horizontal">\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-4">\n                        <input type="text" ng-model="formData.name" required class="form-control">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">Android 16:9 </label>\n\n                    <div class="col-sm-1">\n                        <button class="btn btn-primary btn-sm" select-image image="temp.uploadImageUrl1"></button>\n                        <upload-image ng-if="temp.uploadImageUrl1" image-url="temp.uploadImageUrl1" ng-model="temp.imageId1" loading-text="..." model-type="id" on-upload-error="onUploadError()"></upload-image>\n\n                    </div>\n                    <div class="col-sm-2">\n                        <a href="{{temp.imageId1 | image}}" target="_blank" ng-if="temp.imageId1">\n                            <img ng-src="{{temp.imageId1 | image}}" width="80" >\n                        </a>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">Android 4:3 </label>\n\n                    <div class="col-sm-1">\n                            <button class="btn btn-primary btn-sm" select-image image="temp.uploadImageUrl2"></button>\n                            <upload-image ng-if="temp.uploadImageUrl2" image-url="temp.uploadImageUrl2" ng-model="temp.imageId2" loading-text="..." model-type="id" on-upload-error="onUploadError()"></upload-image>\n                    </div>\n                    <div class="col-sm-2">\n                        <a href="{{temp.imageId2 | image}}" target="_blank" ng-if="temp.imageId2">\n                            <img ng-src="{{temp.imageId2 | image}}" width="80" >\n                        </a>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">iOS 16:9 </label>\n\n                    <div class="col-sm-1">\n                            <button class="btn btn-primary btn-sm" select-image image="temp.uploadImageUrl3"></button>\n                            <upload-image ng-if="temp.uploadImageUrl3" image-url="temp.uploadImageUrl3" ng-model="temp.imageId3" loading-text="..." model-type="id" on-upload-error="onUploadError()"></upload-image>\n                    </div>\n                    <div class="col-sm-2">\n                        <a href="{{temp.imageId3 | image}}" target="_blank" ng-if="temp.imageId3">\n                            <img ng-src="{{temp.imageId3 | image}}" width="80" >\n                        </a>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label">iOS 3:2 </label>\n\n                    <div class="col-sm-1">\n                            <button class="btn btn-primary btn-sm" select-image image="temp.uploadImageUrl4"></button>\n                            <upload-image ng-if="temp.uploadImageUrl4" image-url="temp.uploadImageUrl4" ng-model="temp.imageId4" loading-text="..." model-type="id" on-upload-error="onUploadError()"></upload-image>\n                    </div>\n                    <div class="col-sm-2">\n                        <a href="{{temp.imageId4 | image}}" target="_blank" ng-if="temp.imageId4">\n                            <img ng-src="{{temp.imageId4 | image}}" width="80" >\n                        </a>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="time-wrap clearfix col-sm-6">\n                        <calendar ng-model="formData.startTimeDate"></calendar>\n                        <input-time ng-model="formData.startDisplayTime" date="formData.startTimeDate" disable-end-time="true"></input-time>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="time-wrap clearfix col-sm-6">\n                        <calendar ng-model="formData.endTimeDate"></calendar>\n                        <input-time ng-model="formData.endDisplayTime" date="formData.endTimeDate" disable-end-time="true"></input-time>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-1">\n                        <input type="number" ng-model="formData.displayDuration" required class="form-control">\n                    </div>\n                    <div>\n                        ()\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-4">\n                        <label class="radio-inline" ng-repeat="dailyDisplayLimit in dailyDisplayLimits">\n                            <input type="radio" ng-model="formData.dailyDisplayLimit" required ng-value="dailyDisplayLimit.value">\n                            {{dailyDisplayLimit.name}}\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-8 col-sm-offset-2">\n                        <button class="btn btn-primary" ng-click="submit()" ng-disabled="form.$invalid"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("pages/operation/splashList.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <operation-nav></operation-nav>\n        </div>\n\n        <div class="col-sm-10">\n            <a class="btn btn-primary" href="#/operations/splashes/new"></a>\n        </div>\n    </div>\n\n    <table class="table" export-csv="csv">\n        <thead>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        </thead>\n        <tbody>\n        <tr ng-repeat="splash in splashes">\n            <td>{{splash.name}}</td>\n            <td>\n                <a href="{{splash.splashImages[0].imageId | image}}" target="_blank" ng-if="splash.splashImages[0].imageId">\n                <img ng-src="{{splash.splashImages[0].imageId | image}}" width="80" ></a>\n            </td>\n            <td>{{splash.startDisplayTime | date:\'yyyy-MM-dd HH:mm\'}}<br>{{splash.endDisplayTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n            <td>{{splash.displayDuration /1000}}</td>\n            <td>{{splash.dailyDisplayLimit === 1 ? \'\' : \'\'}}</td>\n            <td>{{splash.ldapId}}<br>{{splash.updatedTime | date: \'yyyy-MM-dd HH:mm\'}}</td>\n            <td>{{splash.status === \'cancelled\' ? \'\' : splash.startDisplayTime < currentTime && splash.endDisplayTime > currentTime ? \'\' : \'\' }}</td>\n            <td>\n                <a class="btn btn-default" href="" ng-if="splash.status === \'init\' " ng-click="cancel(splash)"></a>\n                <span class="btn btn-disabled" ng-disabled="splash.status === \'cancelled\'" ng-if="splash.status === \'cancelled\'" ng-click="cancel(splash)"></span>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/season/seasonCreate.html",'<ep-search selected-episode-ids="selectedEpisodeIds" subject-id="formData.subjectId" phase="phase" from="season"\n           on-cancel="cancelAddEP()" ng-if="AddEP"></ep-search>\n<div class="page container-fluid" loading="loadingPromise">\n    <div class="row">\n        <div class="col-sm-2">\n            <episode-nav></episode-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <season-nav></season-nav>\n            <br>\n            <form name="form" class="form-horizontal" role="form" ng-submit="form.checkSubmit(submit)" n-form novalidate\n                  loading="loadingPromise">\n                <h4 class="bg-info "> </h4>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <input type="text" class="form-control" ng-model="formData.name" name="name" required>\n                    </div>\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'" rel="name">\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-4">\n                        <select class="form-control" name="semesterId" required ng-model="formData.semesterId">\n                            <option value="" disabled></option>\n                            <option ng-repeat="semester in semesters" value="{{semester.id}}">\n                                {{semester.startDate | date: \'yyyy\'}} {{semester.name}}\n                            </option>\n                        </select>\n                    </div>\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'" rel="semesterId">\n                            \n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <div filter-bar class="filter-bar" ng-model="formData.subjectId" options="subjects"></div>\n                        <input type="hidden" ng-model="formData.subjectId" name="subject" required>\n                    </div>\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'" rel="subject">\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="formData.subjectId">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="checkbox-inline" ng-repeat="grade in grades">\n                            <input type="checkbox" ng-model="formData.gradeIds" check-list ng-true-value="{{grade.id}}">\n                            {{grade.id | grade}}\n                        </label>\n                        <input type="hidden" ng-model="formData.gradeIds" name="gradeIds" required>\n                    </div>\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'" rel="gradeIds">\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="showMajor">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <div filter-bar class="filter-bar" ng-model="formData.major" options="majors"></div>\n                        <input type="hidden" ng-model="formData.major" name="major" required>\n                    </div>\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'" rel="major">\n                        </div>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <div filter-bar class="filter-bar" ng-model="formData.regionId" options="regions"></div>\n                        <input type="hidden" ng-model="formData.regionId" name="regionId" required>\n                    </div>\n\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'" rel="regionId">\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <div filter-bar class="filter-bar" ng-model="formData.textbookSuiteId"\n                             options="textbookSuites"></div>\n                        <input type="hidden" ng-model="formData.textbookSuiteId" name="textbookSuiteId" required>\n                    </div>\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'"\n                             rel="textbookSuiteId">\n                        </div>\n                    </div>\n                </div>\n\n                <h4 class="bg-info "> </h4>\n\n                <div class="form-group">\n\n                    <label class="control-label col-sm-2"></label>\n\n                    <div class="col-sm-8">\n                        <input type="number" name="price" class="col-sm-2" placeholder="" required\n                               ng-model="formData.price">\n\n                        <div class="form-control-static-text"></div>\n                    </div>\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'" rel="price">\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-2"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input type="radio" name="limitType" ng-model="formData.studentLimitType"\n                                   value="{{STUDENT_LIMIT_TYPE.INFINITE}}">\n                        </label>\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="limitType" ng-model="formData.studentLimitType"\n                                   value="{{STUDENT_LIMIT_TYPE.FINITE}}">\n                        </label>\n\n                        <input type="number" name="limit" ng-model="formData.studentLimit"\n                               ng-disabled="studentLimitType === STUDENT_LIMIT_TYPE.INFINITE"\n                               ng-required="formData.studentLimitType === STUDENT_LIMIT_TYPE.FINITE" min="1"\n                               placeholder="1">\n\n                        <div class="form-control-static-text"></div>\n                    </div>\n                    <div class="col-sm-2">\n                        <span class="form-control-static text-danger hide" n-form-error="\'required\'" rel="limit">\n                        </span>\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'min\'"\n                              rel="limit">1</span>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input type="radio" name="preSaleType" ng-model="formData.preSaleType"\n                                   value="{{SALE_TIME_TYPE.NONE}}">\n                        </label>\n\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="preSaleType"\n                                   ng-disabled="formData.startSaleType === SALE_TIME_TYPE.STANDARD"\n                                   ng-model="formData.preSaleType" value="{{SALE_TIME_TYPE.STANDARD}}">\n                        </label>\n\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="preSaleType"\n                                   ng-disabled="formData.startSaleType === SALE_TIME_TYPE.STANDARD"\n                                   ng-model="formData.preSaleType" value="{{SALE_TIME_TYPE.CUSTOMIZE}}">\n                        </label>\n\n                        <div class="time-wrap clearfix">\n                            <calendar class="calendar-wrap"\n                                      disabled="formData.preSaleType !== SALE_TIME_TYPE.CUSTOMIZE || formData.startSaleType === SALE_TIME_TYPE.STANDARD"\n                                      ng-model="tempDates.preSaleDate" options="calendarPreSaleDate"></calendar>\n                            <input-time class="input-time-wrap"\n                                        disabled="formData.preSaleType !== SALE_TIME_TYPE.CUSTOMIZE || formData.startSaleType === SALE_TIME_TYPE.STANDARD"\n                                        ng-model="formData.startPreSaleTime" date="tempDates.preSaleDate"\n                                        disable-end-time="true"></input-time>\n                            <input type="hidden" name="startPreSaleTime" ng-model="formData.startPreSaleTime"\n                                   ng-required="formData.preSaleType === SALE_TIME_TYPE.CUSTOMIZE">\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n\n                    </div>\n                    <div class="col-sm-2">\n                            <span class="text-danger form-control-static-text hide" n-form-error="\'required\'"\n                                  rel="startPreSaleTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input type="radio" name="startSaleType"\n                                   ng-disabled="formData.preSaleType !== SALE_TIME_TYPE.NONE"\n                                   ng-model="formData.startSaleType" value="{{SALE_TIME_TYPE.STANDARD}}">\n                        </label>\n\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="startSaleType" ng-model="formData.startSaleType"\n                                   value="{{SALE_TIME_TYPE.CUSTOMIZE}}">\n                        </label>\n\n                        <div class="time-wrap clearfix">\n                            <calendar class="calendar-wrap"\n                                      disabled="formData.startSaleType === SALE_TIME_TYPE.STANDARD"\n                                      ng-model="tempDates.startSaleDate" options="calendarStartSaleDate"></calendar>\n                            <input-time class="input-time-wrap"\n                                        disabled="formData.startSaleType === SALE_TIME_TYPE.STANDARD"\n                                        ng-model="formData.startSaleTime" date="tempDates.startSaleDate"\n                                        disable-end-time="true"></input-time>\n                            <input type="hidden" name="startSaleTime" ng-model="formData.startSaleTime"\n                                   ng-required="formData.startSaleType === SALE_TIME_TYPE.CUSTOMIZE">\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n\n                    </div>\n                    <div class="col-sm-2">\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'required\'"\n                                                      rel="startSaleTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input type="radio" name="endSaleType" ng-model="formData.endSaleType"\n                                   value="{{SALE_TIME_TYPE.STANDARD}}">\n                        </label>\n\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="endSaleType" ng-model="formData.endSaleType"\n                                   value="{{SALE_TIME_TYPE.CUSTOMIZE}}">\n                        </label>\n\n                        <div class="time-wrap clearfix">\n                            <calendar class="calendar-wrap" disabled="formData.endSaleType === SALE_TIME_TYPE.STANDARD"\n                                      ng-model="tempDates.endSaleDate" options="calendarEndSaleDate"></calendar>\n                            <input-time class="input-time-wrap"\n                                        disabled="formData.endSaleType === SALE_TIME_TYPE.STANDARD"\n                                        ng-model="formData.endSaleTime" date="tempDates.endSaleDate"\n                                        disable-end-time="true"></input-time>\n                            <input type="hidden" name="endSaleTime" ng-model="formData.endSaleTime"\n                                   ng-required="formData.endSaleType === SALE_TIME_TYPE.CUSTOMIZE">\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n\n                    </div>\n                    <div class="col-sm-2">\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'required\'"\n                                                      rel="endSaleTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <label class="radio-inline">\n                            <input type="radio" name="endDisplayType" ng-model="formData.endDisplayType"\n                                   value="{{DISPLAY_TIME_TYPE.NONE}}">()\n                        </label>\n\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="endDisplayType" ng-model="formData.endDisplayType"\n                                   value="{{DISPLAY_TIME_TYPE.CUSTOMIZE}}">\n                        </label>\n\n                        <div class="time-wrap clearfix">\n                            <calendar class="calendar-wrap"\n                                      disabled="formData.endDisplayType === DISPLAY_TIME_TYPE.NONE"\n                                      ng-model="tempDates.endDisplayDate" options="calendarEndDisplayDate"></calendar>\n                            <input-time class="input-time-wrap"\n                                        disabled="formData.endDisplayType === DISPLAY_TIME_TYPE.NONE"\n                                        ng-model="formData.endDisplayTime" date="tempDates.endDisplayDate"\n                                        disable-end-time="true"></input-time>\n                            <input type="hidden" name="endDisplayTime" ng-model="formData.endDisplayTime"\n                                   ng-required="formData.endDisplayType === DISPLAY_TIME_TYPE.CUSTOMIZE">\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n\n                    </div>\n                    <div class="col-sm-2">\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'required\'"\n                              rel="endDisplayTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-2"></label>\n                    <div class="col-sm-10">\n                        <label class="radio-inline">\n                            <input name="withGift" type="radio" ng-model="formData.withGift" value="true">\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="withGift" ng-model="formData.withGift"\n                                   value="false">\n                        </label>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-2">QQ</label>\n                    <div class="col-sm-10">\n                        <label class="radio-inline">\n                            <input name="group" type="radio" ng-model="formData.groupExisted" value="true">\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="group" ng-model="formData.groupExisted"\n                                   value="false">\n                        </label>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n\n                        <div class="sale-time-wrap clearfix">\n                            <calendar class="calendar-wrap"\n                                      ng-model="tempDates.estimatedShippingDate"\n                                      options="calendarEstimatedShippingDate"></calendar>\n                            <input-time class="input-time-wrap"\n                                        ng-model="formData.estimatedShippingTime"\n                                        date="tempDates.estimatedShippingDate"\n                                        disable-end-time="true"></input-time>\n                        </div>\n\n                    </div>\n                </div>\n\n                <h4 class="bg-info "> </h4>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n\n                    <div class="col-sm-10">\n                        <input type="text" placeholder=" 15:00-16:00"  ng-model="formData.repeatTime"\n                               class="form-control" style="width:190px">\n\n                        <div class="form-control-static-text">18</div>\n\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <input type="text" ng-model="formData.durationDesc" required name="durationDesc"\n                               class="form-control"\n                               placeholder=",; 10,2">\n                    </div>\n                    <div class="col-sm-2">\n                        <span class="text-danger form-control-static-text hide" n-form-error="\'required\'"\n                          rel="durationDesc"></span>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n                    <div class="col-sm-10">\n                        <p class="form-control-static" ng-if="formData.bannerImageId">\n                            <a href="{{formData.bannerImageId | image }}" target="_blank" ng-if="formData.bannerImageId">\n                                <img ng-src="{{formData.bannerImageId | image}}" width="200" height="130"\n                                     class="img-thumbnail">\n                            </a>\n                        </p>\n                        <p class="form-control-static">\n                            <button class="btn btn-primary btn-sm" select-image image="temp.uploadImageUrl" on-selected="onSelected(file)">\n                                <span ng-if="formData.bannerImageId"></span>\n                                <span ng-if="!formData.bannerImageId"></span>\n                            </button>\n                        </p>\n                        <upload-image ng-if="temp.uploadImageUrl" image-url="temp.uploadImageUrl" file-name="temp.file.name"\n                                      ng-model="temp.uploadImageId" loading-text="..." model-type="id"\n                                      on-upload-error="onUploadError()"></upload-image>\n                    </div>\n                </div>\n\n                <div class="form-group" ui-sortable="sortableOptions">\n                    <label class="control-label col-sm-2"></label>\n\n\n                    <div class="col-sm-offset-2" ng-repeat="teacher in teachers track by $index">\n                        <span class="list-item-handle glyphicon glyphicon-align-justify"></span>\n                        <span>{{teacher.id}}</span>\n                        <span>{{teacher.phone}}</span>\n                        <span>{{teacher.nickname}}</span>\n                    </div>\n\n                </div>\n\n                <div class="form-group">\n                    <label class="control-label col-sm-2"></label>\n\n\n                    <div class="col-sm-offset-2"\n                         ng-repeat="episodeDetail in episodeDetails | orderBy: \'startTime\' track by episodeDetail.id">\n\n                        <select ng-model="episodeDetail.labelId"\n                                ng-options="label.id as label.name for label in labels">\n                        </select>\n                        <!--todo -->\n\n                        <div class="col-sm-offset-1">\n\n                            <div>\n                                <span class="control-label">{{$index +1}}</span>\n                                <a href="{{cmsUrl}}#/all/all/episodes/{{episodeDetail.id}}">{{episodeDetail.name}}</a>\n                                <button class="btn btn-link" ng-click="deleteEP(episodeDetail)"></button>\n                            </div>\n                            <div>\n                                <label class="control-label ">episodeId</label>\n                                <span class="text-muted">{{episodeDetail.id}}</span>\n                            </div>\n                            <div>\n                                <label class="control-label "></label>\n                                <span class="text-muted">{{episodeDetail.teacher.nickname}}</span>\n                            </div>\n                            <div>\n                                <label class="control-label "></label>\n                                <span class="text-muted">{{episodeDetail.startTime | date:\'yyyy-MM-dd HH:mm\'}}</span>\n                            </div>\n                        </div>\n                        <hr>\n\n                    </div>\n\n                    <div class="col-sm-offset-2">\n                        <button class="btn btn-link" ng-if="!AddEP" ng-click="addEP()">EP</button>\n                        <div ng-if="false" class="bg-warning">\n                            <label>EP id:</label>\n                            <input type="number" ng-model="temp.episode.episodeId" placeholder="EP episodeId">\n                            <br>\n                            <label>EP:</label>\n                            <label class="text-muted ">{{temp.episode.name}}</label>\n                            <br>\n                            <label>:</label>\n                            <label class="text-muted">{{temp.episode.teacher.nickname}}</label>\n                            <br>\n                            <label>:</label>\n                            <label class="text-muted">{{temp.episode.startTime | date:\'yyyy-MM-dd HH:mm\'}}</label>\n                            <br>\n                            <button class=" btn btn-warning" ng-click="cancelAddEP()"></button>\n                            <button class="btn btn-warning" ng-click="submitAddEP(temp.episode)"></button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <content-image form-data="formData"></content-image>\n                    </div>\n                    <div class="col-sm-2">\n                        <div class="form-control-static">\n                            <span class="text-danger hide" n-form-error="\'required\'" rel="content"></span>\n                        </div>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button ng-if="type === \'create\' || type === \'copy\'" type="submit" class="btn btn-primary"\n                                ng-disabled="loading "\n                                ng-click="submitCreate()">\n                        </button>\n                        <button ng-if="type === \'create\' || type === \'copy\'" type="submit" class="btn btn-primary"\n                                ng-disabled="loading "\n                                ng-click="submitAndCreate()">\n                        </button>\n                        <button ng-if="type === \'edit\'" type="submit" class="btn btn-primary" ng-disabled="loading "\n                                ng-click="save()">\n                        </button>\n                        <span class="form-control-static-text text-danger"\n                              ng-if="isSubmitted && !form.$valid"></span>\n                    </div>\n\n                </div>\n            </form>\n\n\n        </div>\n    </div>\n</div>\n'),
n.put("pages/season/seasonDetail.html",'<div page-loading="loadingPromise"></div>\n<div class="row">\n    <div class="col-md-2">\n        <h3 style="margin-top:0px; padding-left:10px"></h3>\n    </div>\n    <div class="col-md-10">\n        <span class="col-sm-1" ng-if="season.status === \'onShelf\'"><button class="btn btn-default"\n                                                                           ng-click="topSeason()"></button></span>\n        <span class="col-sm-1" ng-if="season.status === \'topped\'"><button class="btn btn-default"\n                                                                          ng-click="cancelTopSeason()"></button></span>\n    </div>\n</div>\n\n<div class="panel panel-warning clear">\n    <div class="panel-heading row">\n        <span class="col-md-4"><strong></strong>{{seasonStatus[season.status]}}</span>\n        <span class="col-md-4"><strong>id</strong>{{season.id}}</span>\n        <span class="col-md-4"><strong>id</strong>{{season.id + 1000000}}</span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <span class="col-md-3">\n            <strong></strong>\n            <span> {{seasonFee.totalFee}}</span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span>{{seasonFee.quantity}}</span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span>{{seasonFee.breakInCount}}</span>\n        </span>\n        <span class="col-md-3">\n            <a href="#/seasons/{{season.id}}/purchase"></a>\n        </span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td>\n                    <strong></strong>{{season.name}}\n                </td>\n                <td>\n                    <strong></strong>{{season.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{season.endTime |\n                    date:\'HH:mm\'}}\n                </td>\n                <td>\n                    <strong></strong>{{season.product.price}}/\n                </td>\n            </tr>\n            <tr ng-repeat="teacher in season.teachers">\n                <td>\n                    <strong></strong>{{teacher.nickname}}\n                </td>\n                <td>\n                    <strong></strong>{{teacher.identity}}\n                </td>\n                <td>\n                    <strong> ID</strong>{{teacher.id}}\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong class="block-title pull-left">QQ</strong>\n                    <button class="btn btn-default pull-left" ng-if="!qqgroups.length"\n                            ng-click="showDistributeQqgroupDialog()">QQ\n                    </button>\n                    <div class="col-sm-10">\n                        <div class="qqgroup pull-left" ng-repeat="qqgroup in qqgroups">\n                            {{qqgroup.qq}}({{qqgroup.allocatedCount}})\n                        </div>\n                    </div>\n                </td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td colspan="3">\n                    <strong class="block-title pull-left"></strong>\n\n                    <div class="col-sm-10">\n                        <content-image form-data="season" is-not-edit="true"></content-image>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tr ng-repeat="seasonEpisode in seasonEpisodes track by seasonEpisode.episode.id">\n                <td><a ng-href="{{cmsUrl}}#/all/all/episodes/{{seasonEpisode.episode.id}}">{{seasonEpisode.episode.name}}</a>\n                </td>\n                <td>{{seasonEpisode.episode.startTime | date:\'yyyy.MM.dd HH:mm\'}}-{{seasonEpisode.episode.endTime |\n                    date:\'HH:mm\'}}\n                </td>\n                <td ng-if="seasonEpisode.episode.finished"></td>\n                <td ng-if="!seasonEpisode.episode.finished"></td>\n                <td ng-if="currentTime <= seasonEpisode.episode.endTime"></td>\n                <td ng-if="currentTime > seasonEpisode.episode.endTime && !seasonFee.quantity">--</td>\n                <td ng-if="currentTime > seasonEpisode.episode.endTime && seasonFee.quantity">\n                    {{\'%.1f\' | sprintf:( seasonEpisode.episode.liveRoomStatistics.attendance/ seasonFee.quantity) *\n                    100}}%\n                </td>\n                <td ng-if="currentTime <= seasonEpisode.episode.endTime"></td>\n                <td ng-if="currentTime > seasonEpisode.episode.endTime && !seasonFee.quantity">--</td>\n                <td ng-if="currentTime > seasonEpisode.episode.endTime && seasonFee.quantity">{{\'%.1f\' |\n                    sprintf:(seasonEpisode.episode.liveRoomStatistics.oneHourAttendance / seasonFee.quantity) * 100}}%\n                </td>\n                <td ng-if="currentTime <= seasonEpisode.episode.endTime"></td>\n                <td ng-if="currentTime > seasonEpisode.episode.endTime && (seasonEpisode.episode.commentStat.goodRateCount + seasonEpisode.episode.commentStat.mediumRateCount + seasonEpisode.episode.commentStat.inferiorRateCount)">\n                    {{\'%.1f\' | sprintf:(seasonEpisode.episode.commentStat.goodRateCount /\n                    (seasonEpisode.episode.commentStat.goodRateCount + seasonEpisode.episode.commentStat.mediumRateCount\n                    + seasonEpisode.episode.commentStat.inferiorRateCount)) * 100}}%\n                </td>\n                <td ng-if="currentTime > seasonEpisode.episode.endTime && !(seasonEpisode.episode.commentStat.goodRateCount + seasonEpisode.episode.commentStat.mediumRateCount + seasonEpisode.episode.commentStat.inferiorRateCount)">\n                    --\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<assistant product-id="season.product.id"></assistant>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <div ng-repeat="seasonEpisode in seasonEpisodes| orderBy: \'ordinal\' track by seasonEpisode.episode.id">\n            <div class="row">\n                <div class="col-sm-1">\n                    <span class="control-label">{{$index +1}}</span>\n                </div>\n                <div class="col-sm-11">\n                    <a ng-href="{{cmsUrl}}#/all/all/episodes/{{seasonEpisode.episode.id}}">{{seasonEpisode.episode.name}}</a>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-1"></div>\n                <div class="col-sm-11">\n                    <span ng-if="seasonEpisode.episode.content.id">\n                         {{seasonEpisode.episode.content.id}}\n                        <a href="{{cmsUrl}}#/{{seasonEpisode.episode.content.subjectId | subjectPrefix}}/{{seasonEpisode.episode.content.phase | phasePrefix}}/contents/{{seasonEpisode.episode.content.id}}">{{seasonEpisode.episode.content.name}}</a>\n                    </span>\n                    <span ng-if="!seasonEpisode.episode.content">\n                        \n                    </span>\n                </div>\n            </div>\n\n            <hr>\n        </div>\n    </div>\n</div>\n\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="log in logs">\n                <td>{{log.createdTime | date: \'yyyy-MM-dd HH:mm:ss.sss\'}}</td>\n                <td>\n                    <span class="label label-primary" ng-if="log.userType === \'teacher\'"></span>\n                    <span class="label label-success" ng-if="log.userType === \'student\'"></span>\n                    <span class="label label-default"\n                          ng-if="log.userType === \'unknown\' || log.userType === \'admin\'"></span>\n                    <span class="label label-warning" ng-if="log.userType === \'ldap\'"></span>\n                    <span check-num>{{log.content}}</span>\n                </td>\n                <td>{{log.ldapId}}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n<div class="modal" ng-if="distributeQqgroupDialog" on-close="hideDistributeQqgroupDialog()"\n     loading="loadingPromiseDistribute">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                        aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">QQ</h4>\n            </div>\n\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(distribute)">\n                <div class="modal-body clearfix">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-9">\n                            <div class="form-control-static text-muted">{{seasonFee.quantity}}</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="creator"></label>\n\n                        <div class="col-sm-4">\n                            <select class="form-control" id="creator" name="creator" ng-model="formData.creator"\n                                    ng-options="creator for creator in creators track by creator"\n                                    ng-change="onCreatorChanged()" required>\n                                <option value="" disabled></option>\n                            </select>\n                        </div>\n                        <div class="col-sm-5" ng-if="newQQGroups.length">\n                            <div class="form-control-static text-muted">{{newQQGroups.length}}QQ</div>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="formData.creator && newQQGroups.length">\n                        <label class="col-sm-3 control-label" for="creator">QQ</label>\n\n                        <div class="col-sm-9">\n                            <label ng-repeat="qqgroup in newQQGroups" class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.qqgroup" check-list\n                                       ng-true-value="\'{{qqgroup.id}}\'">\n                                {{qqgroup.qq}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="formData.creator && !newQQGroups.length">\n                        <div class="col-sm-9 col-sm-offset-1">\n                            <div class="form-control-static text-muted">QQQQQQ</div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <span class="text-muted" ng-style="{\'float\': \'left\', \'margin-top\': \'7px\'}">Push</span>\n                    <button class="btn btn-primary" type="submit" ng-disabled="!formData.qqgroup.length || loading">\n                    </button>\n                    <button class="btn btn-default" ng-click="hideDistributeQqgroupDialog()"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("pages/season/seasonEpisodeDetail.html",'<div page-loading="loadingPromise"></div>\n<div class="row">\n    <div class="col-md-2">\n        <h3 style="margin-top:0px; padding-left:10px"></h3>\n    </div>\n</div>\n\n<div class="panel panel-warning clear">\n    <div class="panel-heading row">\n        <span class="col-md-4"><strong></strong>{{episode.episodePincode || \'\'}} </span>\n        <span class="col-md-4"><strong></strong>{{episode.episodeStatus | episodeStatus }}</span>\n        <span class="col-md-4"><strong>id</strong>{{episode.episodeId}}</span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td>\n                    <strong></strong>{{episode.episodeName}}\n                </td>\n                <td>\n                    <strong></strong>{{episode.episodeStartTime | date:\'yyyy-MM-dd HH:mm\'}} -\n                    {{episode.episodeEndTime | date:\'HH:mm\'}}\n                </td>\n                <td>\n                    <span><a href="#/episodes/season/{{episode.episodeId}}/comment"></a></span>\n                </td>\n                <td>\n                    <strong>id</strong>{{episode.teacher.id}}\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td colspan="3">\n                    <strong></strong>\n                    <span>{{episodeScore.scoreInSum}}</span>\n                    <span>{{scoreRanks}}</span>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong>{{episodeScore.teacherTransportRate.quality}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.teacherTransportRate.stability}}\n                </td>\n                <td>\n                    <strong></strong>{{episodeScore.interactionRate.integrity}}\n                </td>\n                <td>\n                    <strong></strong>\n                    <a target="_blank" ng-href="http://pipe.zhenguanyu.com/#/realtime/live_qos?date={{episode.episodeStartTime | date:\'yyyy-MM-dd\'}}&roomId={{episode.episodeId}}&demension=fractionLost"></a>\n                    <span>100</span>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="log in episode.episodeLogs">\n                <td>{{log.createdTime | date: \'yyyy-MM-dd HH:mm:ss.sss\'}}</td>\n                <td>\n                    <span class="label label-primary" ng-if="log.user.userType === \'teacher\'"></span>\n                    <span class="label label-success" ng-if="log.user.userType === \'student\'"></span>\n                    <span class="label label-default" ng-if="!log.user"></span>\n                    <span class="label label-warning" ng-if="log.user.userType === \'ldap\'"></span>\n                    <span check-num>{{log.content}}</span>\n                </td>\n                <td>{{log.user.nickname || \'\'}}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n'),n.put("pages/season/seasonList.html",'<transfer-season trade="transferTrade" season="transferSeason" on-cancel="cancelTransfer()" ng-if="transferTrade"></transfer-season>\n<refund trade="refundTrade" season="refundSeason" on-cancel="cancelRefund()" ng-if="refundTrade"></refund>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-8">\n            <season-nav></season-nav>\n            <br>\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="name">//</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="name" ng-model="formData.name">\n                        </div>\n                    </div>\n\n                    <grade-subject form-data="formData" loading-promise="gradeSubjectPromise" show-major="true"></grade-subject>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="seasonTypeId" type="radio" ng-model="formData.seasonTypeId" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="seasonType in seasonTypes">\n                                <input name="seasonTypeId" type="radio" ng-model="formData.seasonTypeId" ng-value="seasonType.id">\n                                {{seasonType.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="semesterId" type="radio" ng-model="formData.semesterId" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="semester in semesters">\n                                <input name="semesterId" type="radio" ng-model="formData.semesterId" ng-value="semester.id">\n                                {{semester.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="status" type="radio" ng-model="formData.filterStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in statuses">\n                                <input name="status" type="radio" ng-model="formData.filterStatus" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="recommendStatus" type="radio" ng-model="formData.recommendStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in recommendStatusList">\n                                <input name="recommendStatus" type="radio" ng-model="formData.recommendStatus" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label">QQ</label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="qqGroupStatus" type="radio" ng-model="formData.qqGroupStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in qqGroupStatusList">\n                                <input name="qqGroupStatus" type="radio" ng-model="formData.qqGroupStatus" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="clearfix" >\n                <a class="btn btn-primary pull-right" ng-disabled="loading" ng-href="{{exportLink}}" style="margin-left: 10px"></a>\n            </div>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n        <tr>\n            <th>id</th>\n            <th></th>\n            <th class="col-sm-3"></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th>\n                \n                <th-order order-by="buyerCount"></th-order>\n            </th>\n            <th ng-if="accountType !== \'student\'">QQ</th>\n            <th ng-if="accountType === \'student\'"></th>\n            <th></th>\n            <th ng-if="accountType === \'student\'"></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="season in seasons">\n            <td>{{season.id}}</td>\n            <td>{{season.filterStatus | nameInArray:statuses:\'value\'}}</td>\n            <td>\n                <a href="#/seasons/{{season.id}}">{{season.name}}</a>\n            </td>\n            <td>{{season.startTime | date:\'yyyy.MM.dd\'}} - {{season.endTime | date:\'yyyy.MM.dd\'}}</td>\n            <td>{{season.timeRepeat}}</td>\n            <td>{{season.displayTeacherNames}}</td>\n            <td>{{season.displayTeacherIdentities}}</td>\n            <td>{{season.buyerCount}}</td>\n            <td ng-if="accountType !== \'student\'">{{season.qqgroupStatus | nameInArray:qqGroupStatusList:\'value\'}}</td>\n            <td ng-if="accountType === \'student\'">{{season.trade.status | nameInArray:tradeStatusList:\'value\'}}</td>\n            <td>\n                <a href="" class="label label-warning" ng-if="season.recommendStatus === \'recommended\'" ng-click="cancelRecommend(season)" title=""></a>\n                <a href="" class="label label-default" ng-if="season.filterStatus === \'onShelf\' && season.recommendStatus !== \'recommended\'" ng-click="recommend(season)" title=""></a>\n            </td>\n            <td>\n                <a href="#/seasons/{{season.id}}/copy" class="btn btn-link" ></a>\n                <a href="#/seasons/{{season.id}}/edit" class="btn btn-link" ></a>\n                <a href="" ng-if="season.filterStatus === \'toBeOnShelf\'" ng-click="publish(season.id)"></a>\n                <a href="" ng-if="season.filterStatus === \'onShelf\' || season.filterStatus === \'topped\'" ng-click="retire(season.id)"></a>\n                <span ng-if="accountType === \'student\'">\n                       <span ng-if="season.trade.transferStatus !== \'source\' && season.trade.transferStatus !== \'through\' && season.trade.tradeStatus !== \'refunded\'">\n                    <a href="" ng-click="transfer(season.id, season.trade)"></a>\n                    <a href="" ng-click="refund(season, season.trade)"></a>\n                </span>\n                <span ng-if="season.trade.transferStatus === \'source\' || season.trade.transferStatus === \'through\' || season.trade.tradeStatus === \'refunded\'">\n                    <span class="text-muted"></span>\n                    <span class="text-muted"></span>\n                </span>\n                </span>\n\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/season/seasonPostList.html",'<edit-post post="post" on-cancel="cancelEditPost()" type="season" ng-if="post"></edit-post>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-8" loading="loadingPromise">\n            <season-nav></season-nav>\n            <br>\n\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="account"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="account" ng-model="formData.account" placeholder="">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="expressNos"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="expressNos" ng-model="formData.expressNos" placeholder="">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-5">\n                            <input-datetime ng-model="formData.startTime" restriction="{required:true} "></input-datetime>\n                        </div>\n\n                        <div class="col-sm-5">\n                            <input-datetime ng-model="formData.endTime" restriction="{required:true} "></input-datetime>\n                        </div>\n                    </div>\n\n                    <semester-selector ng-model="formData.semesterId"></semester-selector>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="ordinal" type="radio" ng-model="formData.ordinal" value="">\n                            </label>\n\n                            <label class="radio-inline">\n                                <input name="ordinal" type="radio" ng-model="formData.ordinal" value="0">\n                            </label>\n\n                            <label class="radio-inline">\n                                <input name="ordinal" type="radio" ng-model="formData.ordinal" value="1">\n                            </label>\n                        </div>\n                    </div>\n\n                    <grade-subject form-data="formData" grade-key-name="gradeIds" subject-key-name="subjects" show-type="checkbox" show-major="true" loading-promise="gradeSubjectPromise"></grade-subject>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="deliverStatus" type="radio" ng-model="formData.deliverStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in deliverStatusList">\n                                <input name="deliverStatus" type="radio" ng-model="formData.deliverStatus" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="sharedStatus" type="radio" ng-model="formData.orderStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in orderStatusList">\n                                <input name="orderStatus" type="radio" ng-model="formData.orderStatus" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8" check-list-scope>\n                            <label class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.types" ng-true-value="\'\'" check-all>\n                                \n                            </label>\n\n                            <label ng-repeat="type in giftTypeList" class="checkbox-inline">\n                                <input type="checkbox" ng-model="formData.types" ng-true-value="\'{{type.value}}\'" check-list>\n                                {{type.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" ng-disabled="loading" tb-export csv-generator="csv" on-load-all="loadAll()" download=".csv" style="margin-left: 10px"></a>\n                <button type="button" class="btn btn-primary pull-right" ng-disabled="loading" select-file file="temp.uploadFileUrl" file-type=".csv" on-before-select="isSelect" ng-click="import()"></button>\n                <p class="text-muted text-right" style="padding-top: 10px;clear: right;">id</p>\n                <upload-file ng-if="temp.uploadFileUrl" file-url="temp.uploadFileUrl" param-name="file" loading-text="..." ng-model="temp.uploadFileId" on-upload-error="onUploadError" on-uploaded="onUploaded" target="uploadTarget"></upload-file>\n                <button type="button" class="btn btn-primary pull-right"  select-file file="temp.uploadDeliveredFileUrl" file-type=".csv"  ng-click="importDelivered()"></button>\n                <upload-file ng-if="temp.uploadDeliveredFileUrl" file-url="temp.uploadDeliveredFileUrl" param-name="file" loading-text="..." ng-model="temp.uploadDeliveredFileId" on-upload-error="onUploadDeliveredError" on-uploaded="onDeliveredUploaded" target="uploadDeliveredTarget"></upload-file>\n                <p class="text-muted text-right" style="padding-top: 10px;clear: right;">id</p>\n            </div>\n        </div>\n    </div>\n\n    <table class="table" export-csv="csv">\n        <thead>\n        <tr>\n            <th>id</th>\n            <th class="col-sm-1"></th>\n            <th>id</th>\n            <th class="col-sm-1"></th>\n            <th class="col-sm-3">//</th>\n            <th class="col-sm-1"></th>\n            <th class="col-sm-2">/</th>\n            <th class="col-sm-1"></th>\n            <th class="col-sm-1"></th>\n            <th class="col-sm-2"></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="post in posts">\n            <td>{{post.shipmentId}}</td>\n            <td>{{post.user.identity}}</td>\n            <td ng-bind-html="post._orderIds | join" class="ng-table-export-html"></td>\n            <td ng-bind-html="post._createdTimes | join" class="ng-table-export-html"></td>\n            <td ng-bind-html="post._seasonInfos | join" class="ng-table-export-html"></td>\n            <td ng-bind-html="post._giftTypes | join" class="ng-table-export-html"></td>\n            <td ng-bind-html="post._orderDescAndSourceSeasonNames | join" class="ng-table-export-html"></td>\n            <td>{{post.name}}</td>\n            <td><a href="" ng-click="editPost(post)">{{post.phone}}</a></td>\n            <td><a href="" ng-click="editPost(post)">{{post.province + (post.province.indexOf(\'\') === -1 ? \'\' : \'\') + post.city + post.county + post.address}}</a></td>\n            <td>{{post.province}}</td>\n            <td>{{post.city}}</td>\n            <td>{{post.county}}</td>\n            <td>{{post.address}}</td>\n            <td>{{post.expressCompany}}</td>\n            <td>{{post.expressNo}}</td>\n            <td ng-if="post.estimatedShippingTime !== 0">{{post.estimatedShippingTime | date:\'yyyy.MM.dd HH:mm\'}}</td>\n            <td ng-if="post.estimatedShippingTime === 0"></td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),
n.put("pages/season/seasonPurchase.html",'<transfer-season trade="transferTrade" season="season" on-cancel="cancelTransfer()" ng-if="transferTrade"></transfer-season>\n<refund trade="refundTrade" season="season" on-cancel="cancelRefund()" ng-if="refundTrade"></refund>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-12">\n            <h4 class="text-center"></h4>\n        </div>\n    </div>\n\n    <div class="col-sm-8 col-sm-offset-2 hide">\n        <div class="well well-sm">\n            <form name="searchForm" class="form-horizontal">\n                <div class="form-group">\n                    <label for="searchContent" class="col-sm-2 control-label">/</label>\n\n                    <div class="col-sm-8">\n                        <input type="text" class="form-control" id="searchContent" ng-model="formData.searchContent">\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-8 col-sm-offset-2">\n                        <button class="btn btn-primary" ng-click="search()" ng-disabled="!searchForm.$valid"></button>\n                        <button class="btn btn-default" ng-click="reset()"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n        <tr>\n            <th>id</th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="trade in tradeDetails">\n            <td>{{trade.orderId}}</td>\n            <td>{{trade.studentName}}</td>\n            <td>{{trade.userIdentity}}</td>\n            <td>{{trade.phone}}</td>\n            <td>{{trade.totalFee}}</td>\n            <td>{{trade.createdTime | date: \'yyyy.MM.dd HH:mm\'}}</td>\n            <td ng-if="trade.couponFee"></td>\n            <td ng-if="!trade.couponFee"></td>\n            <td>{{statusListShow[trade.status]}}</td>\n            <td ng-if="season.status !== \'offShelf\' && season.status !== \'complete\' && trade.transferStatus !== \'source\' && trade.transferStatus !== \'through\' && trade.tradeStatus !== \'refunded\'">\n                <a href="" ng-click="transfer(trade)"></a>\n                <a href="" ng-click="refund(trade)"></a>\n            </td>\n            <td ng-if="season.status === \'offShelf\' || season.status === \'complete\' || trade.transferStatus === \'source\' || trade.transferStatus === \'through\' || trade.tradeStatus === \'refunded\'">\n                <span class="text-muted"></span>\n                <span class="text-muted"></span>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n'),n.put("pages/season/seasonQqgroupList.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-8">\n            <season-nav></season-nav>\n            <br>\n            <div class="well well-sm col-sm-10">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="qq">QQ</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="qq" ng-model="formData.qq">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label">QQ</label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="status" type="radio" ng-model="formData.status" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in statuses">\n                                <input name="status" type="radio" ng-model="formData.status" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="creator"></label>\n\n                        <div class="col-sm-4">\n                            <select class="form-control" id="creator" name="creator" ng-model="formData.creator" ng-options="creator for creator in creators track by creator">\n                                <option value=""></option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n            <div class="col-sm-2">\n                <div>\n                    <button class="btn btn-default" ng-click="dialogs.addQqgroup = true">QQ</button>\n                </div>\n                <div>\n                    <span class="text-muted">{{qqgroupStat.newQQGroupCount}}</span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n        <tr>\n            <th>QQ</th>\n            <th></th>\n            <th>iPhone Token</th>\n            <th>Android Token</th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="qqgroup in qqgroups">\n            <td>{{qqgroup.qq}}</td>\n            <td>{{qqgroupStatuses[qqgroup.status]}}</td>\n            <td><a href="" ng-click="showToken(qqgroup, \'iphoneToken\')"></a></td>\n            <td><a href="" ng-click="showToken(qqgroup, \'androidToken\')"></a></td>\n            <td>{{qqgroup.creator}}</td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n\n<add-qqgroup ng-if="dialogs.addQqgroup" on-close="dialogs.addQqgroup = false"></add-qqgroup>\n<div class="modal" on-close="dialogs.previewToken = false" ng-if="dialogs.previewToken">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">{{modalTitle}}</h4>\n            </div>\n\n            <div class="modal-body">\n                <p>{{currentQqgroup.qq}}</p>\n                <p>Token{{currentToken}}</p>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("pages/season/seasonTransfer.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-10">\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(submit)">\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" for="seasonId"> ID</label>\n\n                    <div class="col-sm-8">\n                        <input type="number" class="form-control" id="seasonId" name="seasonId" ng-model="formData.seasonId" required>\n                    </div>\n                    <div class="col-sm-2">\n                        <div class="form-control-static">\n                            <span class="text-danger hide" n-form-error="\'required\'" rel="seasonId"></span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" for="targetId"> ID</label>\n\n                    <div class="col-sm-8">\n                        <input type="number" class="form-control" id="targetId" name="seasonId" ng-model="formData.targetId" required>\n                    </div>\n                    <div class="col-sm-2">\n                        <div class="form-control-static">\n                            <span class="text-danger hide" n-form-error="\'required\'" rel="targetId"></span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" for="workOrderNo"></label>\n\n                    <div class="col-sm-8">\n                        <input type="text" class="form-control" id="workOrderNo" name="seasonId" ng-model="formData.workOrderNo" required>\n                    </div>\n                    <div class="col-sm-2">\n                        <div class="form-control-static">\n                            <span class="text-danger hide" n-form-error="\'required\'" rel="workOrderNo"></span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" for="ignoredUserIds"> ID <br/></label>\n\n                    <div class="col-sm-8">\n                        <textarea class="form-control" ng-model="formData.ignoredUserIds" array-to-text id="ignoredUserIds" name="ignoredUserIds"></textarea>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button type="submit" class="btn btn-primary" ng-disabled="loading || form.$invalid"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("pages/serial/serialDetail.html",'<amend-episode episode-id="episodeId" on-cancel="cancelAmend()" type=\'serial\' ng-if="episodeId"></amend-episode>\n\n<div page-loading="loadingPromise"></div>\n<div class="row">\n    <div class="col-md-2">\n        <h3 style="margin-top:0px; padding-left:10px"></h3>\n    </div>\n</div>\n\n<div class="panel panel-warning clear">\n    <div class="panel-heading row">\n        <span class="col-md-4"><strong></strong>{{serial.serialStatus || \'--\'}}</span>\n        <span class="col-md-4"><strong>id</strong>{{serial.id}}</span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <span class="col-md-3">\n            <strong></strong>\n            <span ng-if="serialOrder">{{serialOrder.totalFee}}</span>\n            <span ng-if="!serialOrder"></span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span ng-if="serialOrder">{{serialOrder.couponFee}}</span>\n            <span ng-if="!serialOrder"></span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span ng-if="serialOrder">{{serialOrder.paidFee}}</span>\n            <span ng-if="!serialOrder"></span>\n        </span>\n        <span class="col-md-3">\n            <strong></strong>\n            <span ng-if="serialOrder && serialOrder.totalFee && serialOrder.paidFee === serialOrder.totalFee"></span>\n            <span ng-if="serialOrder && (!serialOrder.totalFee || (serialOrder.totalFee && serialOrder.couponFee === serialOrder.totalFee))"></span>\n            <span ng-if="serialOrder && serialOrder.totalFee && serialOrder.paidFee !== serialOrder.totalFee && serialOrder.couponFee !== serialOrder.totalFee"></span>\n            <span ng-if="!serialOrder"></span>\n        </span>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table">\n            <tr>\n                <td>\n                    <strong></strong><span>{{serial.name}}</span>\n                </td>\n                <td>\n                    <strong></strong>{{serial.startTime | date:\'yyyy-MM-dd HH:mm\'}} - {{serial.endTime | date:\'HH:mm\'}}\n                </td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong><span>{{serial.teacher.nickname}}</span>\n                </td>\n                <td>\n                    <strong></strong><span>{{serial.teacher.identity}}</span>\n                </td>\n                <td>\n                    <strong>id</strong><span>{{serial.teacher.id}}</span>\n                </td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    <strong></strong><span>{{serial.student.nickname || \'\'}}</span>\n                </td>\n                <td>\n                    <strong></strong><span>{{serial.student.identity || \'\'}}</span>\n                </td>\n                <td>\n                    <strong></strong><span>{{serial.student.phone || \'\'}}</span>\n                </td>\n                <td>\n                    <strong>id</strong><span>{{serial.student.id || \'\'}}</span>\n                </td>\n            </tr>\n            <td colspan="4">\n                <strong class="block-title pull-left"></strong>\n\n                <div style="padding-left: 80px" class="clearfix">\n                    <div class="col-sm-10" ng-if="!isEdit">\n                        <content-image form-data="serial.teacherPrototype" is-not-edit="true"></content-image>\n                        <div style="padding: 10px 0"><a href="" ng-click="editTeacherPrototype()"></a></div>\n                    </div>\n\n                    <div class="col-sm-10" ng-if="isEdit">\n                        <content-image form-data="teacherPrototype"></content-image>\n                    </div>\n\n                    <div class="col-sm-10" ng-if="isEdit" loading="loadingPromiseSave">\n                        <button class="btn btn-sm btn-primary" ng-disabled="loading || !teacherPrototype.content" ng-click="updateTeacherPrototype()"></button>\n                        <button class="btn btn-sm btn-default" ng-disabled="loading" ng-click="cancelUpdateTeacherPrototype()"></button>\n                    </div>\n                </div>\n            </td>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <tr ng-repeat="serialItem in serial.serialItems track by serialItem.id">\n                <td ng-if="serialItem.episodeId">\n                    <a ng-href="#/episodes/serial/{{serialItem.episodeId}}">{{$index+1}}</a>\n                </td>\n                <td ng-if="!serialItem.episodeId">\n                    <span class="text-muted">{{$index+1}}</span>\n                </td>\n                <td>{{serialItem.startTime | date:\'yyyy.MM.dd HH:mm\'}}-{{serialItem.endTime | date:\'HH:mm\'}}</td>\n                <td ng-if="!serialItem.episodeId"></td>\n                <td ng-if="serialItem.timePhase === \'after\' && serialItem.episodeId"></td>\n                <td ng-if="serialItem.timePhase === \'before\' && serialItem.episodeId"></td>\n                <td ng-if="serialItem.timePhase === \'in\' && serialItem.episodeId"></td>\n                <td ng-if="serialItem.timePhase !== \'before\' || !serialItem.episodeId"><span class="text-muted"></span></td>\n                <td ng-if="serialItem.timePhase === \'before\' && serialItem.episodeId"><a href="" ng-click="amend(serialItem)"></a></td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class="panel panel-warning">\n    <div class="panel-heading"></div>\n    <div class="panel-body">\n        <table class="table table-hover">\n            <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="log in serial.serialLogs">\n                <td>{{log.createdTime | date: \'yyyy-MM-dd HH:mm:ss.sss\'}}</td>\n                <td>\n                    <span class="label label-primary" ng-if="log.userType === \'teacher\'"></span>\n                    <span class="label label-success" ng-if="log.userType === \'student\'"></span>\n                    <span class="label label-default" ng-if="log.userType === \'unknown\' || log.userType === \'admin\'"></span>\n                    <span class="label label-warning" ng-if="log.userType === \'ldap\'"></span>\n                    <span check-num types="[\'workNo\',\'episodeId\']">{{log.content}}</span>\n                </td>\n                <td>{{log.ldapId}}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n'),n.put("pages/serial/serialList.html",'<retire serial="retireSerial" on-cancel="cancelRetire()" ng-if="retireSerial"></retire>\n<refund serial="refundSerial" on-cancel="cancelRefund()" ng-if="refundSerial"></refund>\n<transfer-serial serial="transferSerial" on-cancel="cancelTransfer()" ng-if="transferSerial"></transfer-serial>\n<amend-serial serial="amendSerial" on-cancel="cancelAmend()" ng-if="amendSerial"></amend-serial>\n\n<div page-loading="loadingPromise"></div>\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <episode-nav></episode-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <serial-nav></serial-nav>\n            <br>\n\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="account">//</label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="account" ng-model="formData.account">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label" for="serialPrototypeId"></label>\n\n                        <div class="col-sm-4">\n                            <select style="max-height: 50px" id="serialPrototypeId" class="form-control" ng-options="serialPrototype.id as serialPrototype.name for serialPrototype in serialPrototypes" ng-model="formData.serialPrototypeId">\n                                <option value=""></option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <grade-subject form-data="formData" loading-promise="gradeSubjectPromise" subject-key-name="subjectId" subject-id-or-prefix="id" label-width-class="col-sm-3"></grade-subject>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="serialStatus" type="radio" ng-model="formData.serialStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in serialStatusList">\n                                <input name="serialStatus" type="radio" ng-disabled="status.disabled" ng-model="formData.serialStatus" ng-value="status.value">\n                                <span ng-class="{\'text-muted\':status.disabled}">{{status.name}}</span>\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-3 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="saleStatus" type="radio" ng-model="formData.saleStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in saleStatusList">\n                                <input name="saleStatus" type="radio" ng-disabled="status.disabled" ng-model="formData.saleStatus" ng-value="status.value">\n                                <span ng-class="{\'text-muted\':status.disabled}">{{status.name}}</span>\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-3">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" ng-disabled="loading" ng-href="{{exportLink}}" style="margin-left: 10px"></a>\n            </div>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n        <tr>\n            <th>id</th>\n            <th></th>\n            <th></th>\n            <th class="col-sm-3"></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="serial in serials">\n            <td>{{serial.id}}</td>\n            <td>{{serial.saleStatus | nameInArray:saleStatusList:\'value\'}}</td>\n            <td>{{(serial.serialStatus | nameInArray:serialStatusList:\'value\') || \'--\'}}</td>\n            <td><a href="#/serials/{{serial.id}}">{{serial.startTime | date:\'yyyy.MM.dd\'}}-{{serial.endTime | date:\'yyyy.MM.dd\'}} {{serial.repeatTime}}</a></td>\n            <td>{{serial.teacher.nickname}}</td>\n            <td>{{serial.teacher.identity}}</td>\n            <td>{{serial.student.nickname || \'\'}}</td>\n            <td>{{serial.student.phone || \'\'}}</td>\n            <td>\n                <a href="" ng-if="serial.status === \'appointed\' && serial.isAmended.data === \'false\' && serial.startTime > now" ng-click="transfer(serial)"></a>\n                <span class="text-muted" ng-if="!(serial.status === \'appointed\' && serial.isAmended.data === \'false\' && serial.startTime > now)"></span>\n                <a href="" ng-if="serial.saleStatus === \'noAppointed\' && serial.startTime > now" ng-click="amend(serial)"></a>\n                <span class="text-muted" ng-if="!(serial.saleStatus === \'noAppointed\' && serial.startTime > now)"></span>\n                <a href="" ng-if="serial.status === \'new\'" ng-click="retire(serial)"></a>\n                <span class="text-muted" ng-if="serial.status !== \'new\'"></span>\n                <a href="" ng-if="serial.status === \'appointed\'" ng-click="refund(serial)"></a>\n                <span class="text-muted" ng-if="serial.status !== \'appointed\'"></span>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/serial/serialPostList.html",'<edit-post post="post" on-cancel="cancelEditPost()" type="serial" ng-if="post"></edit-post>\n\n<div page-loading="loadingPromise"></div>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-8" loading="loadingPromise">\n            <serial-nav></serial-nav>\n            <br>\n\n            <div class="well well-sm">\n                <form class="form-horizontal" novalidate name="form">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="accounts"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="accounts" ng-model="formData.accounts" placeholder="">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="expressNos"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="expressNos" ng-model="formData.expressNos" placeholder="">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n                        <div class="col-sm-5">\n                            <input-datetime ng-model="formData.purchaseStartTime" restriction="{required:true}"></input-datetime>\n                        </div>\n                        <div class="col-sm-5">\n                            <input-datetime ng-model="formData.purchaseEndTime" restriction="{required:true}"></input-datetime>\n                        </div>\n                    </div>\n\n                    <grade-subject form-data="formData" subject-key-name="subjectId" subject-id-or-prefix="id" show-type="checkbox" loading-promise="gradeSubjectPromise"></grade-subject>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="deliverStatus" type="radio" ng-model="formData.deliverStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in deliverStatusList">\n                                <input name="deliverStatus" type="radio" ng-model="formData.deliverStatus" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="purchaseStatus" type="radio" ng-model="formData.orderStatus" value="">\n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in orderStatusList">\n                                <input name="purchaseStatus" type="radio" ng-model="formData.orderStatus" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" ng-disabled="loading" tb-export csv-generator="csv" on-load-all="loadAll()" download=".csv" style="margin-left: 10px"></a>\n                <button type="button" class="btn btn-primary pull-right" ng-disabled="loading" select-file file="temp.uploadFileUrl" file-type=".csv" on-before-select="isSelect" ng-click="import()"></button>\n                <p class="text-muted text-right" style="padding-top: 10px;clear: right;">id</p>\n                <upload-file ng-if="temp.uploadFileUrl" file-url="temp.uploadFileUrl" param-name="file" loading-text="..." ng-model="temp.uploadFileId" on-upload-error="onUploadError" on-uploaded="onUploaded" target="uploadTarget"></upload-file>\n            </div>\n        </div>\n    </div>\n\n    <table class="table" export-csv="csv">\n        <thead>\n        <tr>\n            <th>id</th>\n            <th>id</th>\n            <th class="col-sm-1"></th>\n            <th class="col-sm-1"></th>\n            <th class="col-sm-3">///</th>\n            <th class="col-sm-1"></th>\n            <th class="col-sm-1"></th>\n            <th class="col-sm-2"></th>\n            <th class="col-sm-1"></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="post in posts">\n            <td>{{post.shipmentId}}</td>\n            <td>{{post.orderId}}</td>\n            <td>{{post.createdTime | date:\'yyyy.MM.dd HH:mm\'}}</td>\n            <td>{{post.user.identity}}</td>\n            <td>\n                {{[post.serialName, post.subject.name, post.grade.name] | join:\'&nbsp;\' }}&nbsp;\n                <span ng-if="post.keypointCatalog">{{post.keypointCatalog.textbookSuite.name}}</span>\n                <span ng-if="post.region">{{post.region.name}}</span>\n                <span ng-if="!post.keypointCatalog && !post.region"></span>\n            </td>\n            <td>{{post.studentName}}</td>\n            <td><a href="" ng-click="editPost(post)">{{post.phone}}</a></td>\n            <td><a href="" ng-click="editPost(post)">{{post.province + post.city + post.county + post.address}}</a></td>\n            <td>\n                <span ng-if="post.orderStatus === \'paid\'"></span>\n                <span ng-if="post.orderStatus === \'refunded\'"></span>\n            </td>\n            <td>{{post.expressCompany}}</td>\n            <td>{{post.expressNo}}</td>\n            <td ng-if="post.estimatedShippingTime !== 0">{{post.estimatedShippingTime | date:\'yyyy.MM.dd HH:mm\'}}</td>\n            <td ng-if="post.estimatedShippingTime === 0"></td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/serial/serialPrototype.html",'<div page-loading="loadingPromise"></div>\n<jump-confirm changed="!temp.isSubmit && temp.isFormChanged"></jump-confirm>\n<div class="page container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-10">\n            <serial-nav></serial-nav>\n            <back-header ng-if="editType === \'create\'" header-title=""></back-header>\n            <back-header ng-if="editType !== \'create\'" header-title=""></back-header>\n\n            <form name="form" class="form-horizontal" n-form novalidate ng-submit="form.checkSubmit(submit)" loading="loadingPromiseSave">\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-3">\n                        <select class="form-control" id="year" name="year" ng-model="formData.year" ng-disabled="temp.isPublished" ng-options="year.value as year.name for year in years"></select>\n                    </div>\n\n                    <div class="col-sm-3">\n                        <select class="form-control" id="type" name="type" ng-model="formData.type" ng-disabled="temp.isPublished" ng-options="type.value as type.name for type in types" required>\n                            <option value="" disabled></option>\n                        </select>\n                    </div>\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static text-danger hide" n-form-error="\'required\'" rel="type"></div>\n                        <div class="form-control-static text-danger" ng-if="isNameDuplicate"></div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <div class="prototype-term-wrap" ng-repeat="term in formData.terms">\n                            <div class="form-control-static-text prototype-term-ordinal col-sm-1" ng-if="formData.vacation">{{$index + 1}}</div>\n\n                            <calendar class="col-sm-4" ng-model="formData.terms[$index].startTime" disabled="temp.isPublished" options="calendarStartTimes[$index]"></calendar>\n                            <input type="hidden" name="{{\'prototypeTermStartTime\' + $index}}" ng-model="formData.terms[$index].startTime" required>\n\n                            <div class="form-control-static-text col-sm-2">\n                                <span ng-if="formData.terms[$index].startTime && formData.serialItemCount">\n                                     {{getTermEndTime($index) | date:\'yyyy-MM-dd\'}}\n                                </span>\n                            </div>\n\n                            <div class="form-control-static col-sm-2" ng-if="formData.vacation && !temp.isPublished">\n                                <a href="" ng-click="removePrototypeTerm($index)" ng-if="formData.terms.length > 1"></a>\n                                <a href="" ng-click="addPrototypeTerm()" ng-if="$last"></a>\n                            </div>\n                            <div class="form-control-static-text text-danger hide col-sm-2" n-form-error="\'required\'" rel="{{\'prototypeTerm\' + $index}}"></div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label" for="count"></label>\n\n                    <div class="col-sm-3">\n                        <input type="number" class="form-control" id="count" name="count" ng-disabled="temp.isPublished" ng-model="formData.serialItemCount" placeholder="" min="1" integer ng-model-options="{allowInvalid: true}" required>\n                    </div>\n\n                    <div class="col-sm-2">\n                        <div class="form-control-static">\n                            <span class="text-danger hide" n-form-error="\'number\'" rel="count"></span>\n                            <span class="text-danger hide" n-form-error="\'integer\'" rel="count"></span>\n                            <span class="text-danger hide" n-form-error="\'min\'" rel="count">1</span>\n                            <span class="text-danger hide" n-form-error="\'required\'" rel="count"></span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10 clearfix">\n                        <div ng-repeat="price in prices" class="prototype-price-wrap">\n                            <div class="form-control-static-text">\n                                <strong>{{price}}</strong>{{typePriceMap[formData.type][price] || \'--\'}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <label class="radio-inline">\n                            <input type="radio" name="withGift" ng-model="formData.withGift" ng-value="true" ng-disabled="temp.isPublished">\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="withGift" ng-model="formData.withGift" ng-value="false" ng-disabled="temp.isPublished">\n                        </label>\n                    </div>\n                </div>\n\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n\n                        <div class="sale-time-wrap clearfix">\n                            <calendar class="calendar-wrap"\n                                      ng-model="tempDates.estimatedShippingDate" disabled="editType !== \'create\'" options="calendarEstimatedShippingDate"></calendar>\n                            <input-time class="input-time-wrap"\n                                        ng-model="formData.estimatedShippingTime" disabled="editType !== \'create\'" date="tempDates.estimatedShippingDate"\n                                        disable-end-time="true"></input-time>\n                        </div>\n\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <div class="form-control-static-text"></div>\n\n                        <div class="time-wrap">\n                            <calendar class="calendar-wrap" ng-model="tempDates.startDisplayDate" disabled="temp.isPublished && temp.isSold" options="calendarStartDisplayDate"></calendar>\n                            <input-time class="input-time-wrap" disabled="!tempDates.startDisplayDate || (temp.isPublished && temp.isSold)" ng-model="formData.startDisplayTime" date="tempDates.startDisplayDate" disable-end-time="true"></input-time>\n                            <input type="hidden" name="startDisplayTime" ng-model="formData.startDisplayTime" required>\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n                        <span class="form-control-static-text text-danger hide" n-form-error="\'required\'" rel="startDisplayTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <div class="form-control-static-text"></div>\n\n                        <div class="time-wrap">\n                            <calendar class="calendar-wrap" ng-model="tempDates.startSaleDate" disabled="temp.isPublished && temp.isSold" options="calendarStartSaleDate"></calendar>\n                            <input-time class="input-time-wrap" disabled="!tempDates.startSaleDate || (temp.isPublished && temp.isSold)" ng-model="formData.startSaleTime" date="tempDates.startSaleDate" disable-end-time="true"></input-time>\n                            <input type="hidden" name="startSaleTime" ng-model="formData.startSaleTime" required>\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n                        <span class="form-control-static-text text-danger hide" n-form-error="\'required\'" rel="startSaleTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <div class="form-control-static-text"></div>\n\n                        <div class="time-wrap">\n                            <calendar class="calendar-wrap" input-name="endSaleDate" ng-model="tempDates.endSaleDate" options="calendarEndSaleDate"></calendar>\n                            <input-time class="input-time-wrap" disabled="!tempDates.endSaleDate" ng-model="formData.endSaleTime" date="tempDates.endSaleDate" disable-end-time="true"></input-time>\n                            <input type="hidden" name="endSaleTime" ng-model="formData.endSaleTime" required>\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n                        <span class="form-control-static-text text-danger hide" n-form-error="\'max\'" rel="endSaleDate"></span>\n                        <span class="form-control-static-text text-danger hide" n-form-error="\'required\'" rel="endSaleTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-10">\n                        <label class="radio-inline">\n                            <input type="radio" name="endDisplayType" ng-model="formData.endDisplayType" value="{{DISPLAY_TIME_TYPE.NONE}}">()\n                        </label>\n\n                        <div class="form-control-static-text"></div>\n\n                        <label class="radio-inline">\n                            <input type="radio" name="endDisplayType" ng-model="formData.endDisplayType" value="{{DISPLAY_TIME_TYPE.CUSTOMIZE}}">\n                        </label>\n\n                        <div class="time-wrap">\n                            <calendar class="calendar-wrap" ng-model="tempDates.endDisplayDate" options="calendarEndDisplayDate"></calendar>\n                            <input-time class="input-time-wrap" disabled="!tempDates.endDisplayDate" ng-model="formData.endDisplayTime" date="tempDates.endDisplayDate" disable-end-time="true"></input-time>\n                            <input type="hidden" name="endDisplayTime" ng-model="formData.endDisplayTime" ng-required="formData.endDisplayType === DISPLAY_TIME_TYPE.CUSTOMIZE">\n                            <div class="form-control-static-text pull-left"></div>\n                        </div>\n\n                        <span class="form-control-static-text text-danger hide" n-form-error="\'required\'" rel="endDisplayTime"></span>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <content-image form-data="formData"></content-image>\n                    </div>\n                    <div class="col-sm-2">\n                        <div class="form-control-static">\n                            <span class="text-danger hide" n-form-error="\'required\'" rel="content"></span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button type="submit" class="btn btn-primary" ng-disabled="loading || isNameDuplicate"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),
n.put("pages/serial/serialPrototypeList.html",'<div page-loading="loadingPromise"></div>\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-sm-2"><episode-nav></episode-nav></div>\n\n        <div class="col-sm-8">\n            <serial-nav></serial-nav>\n            <br>\n\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" href="#/serial-prototypes/operate/create" role="button"></a>\n            </div>\n\n            <p class="bg-warning" style="padding: 10px; margin: 5px 0"><strong>CRM</strong><strong></strong></p>\n\n            <table class="table">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="serialPrototype in serialPrototypes | orderBy: \'-createdTime\' ">\n                    <td>{{serialPrototype.name}}</td>\n                    <td>{{serialPrototype.metaInfo.creator}} {{serialPrototype.metaInfo.createdTime | date:\'yyyy-MM-dd\'}}</td>\n                    <td>\n                        <a href="" ng-if="serialPrototype.status !== \'published\'" ng-click="publish(serialPrototype)"></a>\n                        <span class="text-muted" ng-if="serialPrototype.status === \'published\'"></span>\n                        <a href="#/serial-prototypes/{{serialPrototype.id}}/operate/edit"></a>\n                        <a href="#/serial-prototypes/{{serialPrototype.id}}/outlines"></a>\n                        <a href="" ng-if="!serialPrototype.hiddenInfo" ng-click="hide(serialPrototype)"></a>\n                        <span class="text-muted" ng-if="serialPrototype.hiddenInfo"></span>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n'),n.put("pages/serial/serialPrototypeOutline.html",'<div page-loading="pageLoadingPromise"></div>\n<div class="container-fluid" loading="saveLoadingPromise">\n    <div class="row">\n        <div class="col-sm-2">\n            <episode-nav></episode-nav>\n        </div>\n\n        <div class="col-sm-10">\n            <serial-nav></serial-nav>\n            <back-header ng-if="type === \'create\'" header-title=""></back-header>\n            <back-header ng-if="type !== \'create\'" header-title=""></back-header>\n            <br>\n\n            <form name="formFistStep" class="form-horizontal" role="form" novalidate loading="getInfoLoadingPromise" ng-if="step === \'first\'">\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-9">\n                        <div filter-bar class="filter-bar" ng-model="formData.subject" options="subjects"></div>\n                        <input type="hidden" ng-model="formData.subject" name="subject" required>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="formData.subject">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-9">\n                        <div filter-bar class="filter-bar" ng-model="formData.grade" options="grades"></div>\n                        <input type="hidden" ng-model="formData.grade" name="grade" required>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="isShowMajor()">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-9">\n                        <div filter-bar class="filter-bar" ng-model="formData.major" options="majors"></div>\n                        <input type="hidden" ng-model="formData.major" name="major" required>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="isShowRegionList()">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-9">\n                        <div filter-bar class="filter-bar" ng-model="formData.regionId" options="regions"></div>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-if="isShowTextbookSuiteList()">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-9">\n                        <div filter-bar class="filter-bar" ng-model="formData.textBookSuiteId" options="textbookSuites"></div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button type="button" class="btn btn-primary" ng-disabled="loading || !formFistStep.$valid || isDuplicate()" ng-click="nextStep()"></button>\n                        <span class="form-control-static text-danger" ng-if="isDuplicate()"></span>\n                    </div>\n                </div>\n            </form>\n\n            <form name="formSecondStep" class="form-horizontal" role="form" novalidate ng-if="step === \'second\'">\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <div class="form-control-static text-muted">{{formData.name}}</div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <label class="col-sm-2 control-label"></label>\n\n                    <div class="col-sm-8">\n                        <div class="input-group" ng-repeat="item in formData.items track by $index" style="padding-bottom: 5px">\n                            <span class="input-group-addon">{{$index + 1}}</span>\n                            <input type="text" class="form-control" placeholder="{{$index + 1}}" ng-model="formData.items[$index].name" required>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group">\n                    <div class="col-sm-offset-2 col-sm-4">\n                        <button type="button" class="btn btn-default" ng-click="preStep()"></button>\n                        <button type="button" class="btn btn-primary" ng-disabled="loading || !formSecondStep.$valid" ng-click="submit()"></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("pages/serial/serialPrototypeOutlineList.html",'<div page-loading="loadingPromise"></div>\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <episode-nav></episode-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <serial-nav></serial-nav>\n            <back-header header-title="{{prototype.name}}" back-header-rule="back"></back-header>\n\n            <div class="col-sm-12">\n                <form class="form-horizontal" novalidate name="form">\n                    <grade-subject form-data="formData" loading-promise="gradeSubjectPromise" grade-key-name="grade" show-major="true"></grade-subject>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!form.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" href="#/serial-prototypes/{{prototypeId}}/outlines/create" role="button"></a>\n            </div>\n\n            <table class="table">\n                <thead>\n                <tr>\n                    <th></th>\n                    <th></th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="outline in outlines">\n                    <td>{{outline.name}}</td>\n                    <td>\n                        <a href="#/serial-prototypes/{{prototypeId}}/outlines/{{outline.id}}/edit"></a>\n                        <a href="" ng-click="remove(outline)"></a>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n\n            <pagination page-info="pageInfo"></pagination>\n        </div>\n    </div>\n</div>\n'),n.put("pages/teacher/teacherDetail.html",'<div page-loading="loadingPromise"></div>\n<div class="container-fluid">\n    <ul class="nav nav-tabs">\n        <li role="presentation" class="active"><a href="#/teachers/{{teacher.id}}"></a></li>\n        <li role="presentation"><a href="#/teachers/{{teacher.id}}/stat"></a></li>\n    </ul>\n    <br>\n    <div class="row">\n        <div class="col-sm-8">\n            <div class="well well-sm">\n                <teacher-setting teacher="teacher"></teacher-setting>\n            </div>\n        </div>\n    </div>\n    <hr>\n\n    <div ng-if="teacher.status !== \'fired\'">\n        <div class="row">\n            <div class="col-sm-8">\n                <ng-include src="\'directives/detailInfo/marketInfo.html\'"></ng-include>\n            </div>\n        </div>\n        <hr>\n    </div>\n\n    <div ng-repeat="data in detailInfo">\n        <div class="row">\n            <div class="col-sm-8">\n                <teacher-basic ng-if="data.type === \'basic\'" teacher-id="teacherId" data="data"></teacher-basic>\n                <teacher-teach-info ng-if="data.type === \'teach-info\'" teacher-id="teacherId" data="data"></teacher-teach-info>\n                <teacher-identification ng-if="data.type === \'identification\'" teacher-id="teacherId" data="data"></teacher-identification>\n                <teacher-education ng-if="data.type === \'education\'" teacher-id="teacherId" data="data"></teacher-education>\n                <teacher-experience ng-if="data.type === \'experience\'" teacher-id="teacherId" data="data"></teacher-experience>\n                <teacher-certification ng-if="data.type === \'certification\'" teacher-id="teacherId" data="data"></teacher-certification>\n            </div>\n            <div class="col-sm-4">\n                <teacher-label teacher-id="teacherId" label-type="data.type"></teacher-label>\n            </div>\n        </div>\n        <hr>\n    </div>\n\n    <div ng-if="trials.length" class="row">\n        <div class="col-sm-8">\n            <ng-include src="\'directives/verifyInfo/trials.html\'"></ng-include>\n        </div>\n    </div>\n    <hr ng-if="trials.length">\n    <div class="row">\n        <div class="col-sm-8">\n            <teacher-log teacher="teacher"></teacher-log>\n        </div>\n    </div>\n    <hr>\n</div>\n'),n.put("pages/teacher/teacherList.html",'<hide-teacher teacher="hideTeacher" on-cancel="cancelHide()" ng-if="hideTeacher" hide="isHide"></hide-teacher>\n<fire-teacher teacher="fireTeacher" on-cancel="cancelFire()" ng-if="fireTeacher"></fire-teacher>\n\n<div page-loading="loadingPromise"></div>\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <teacher-nav></teacher-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <div class="well well-sm">\n                <form name="searchForm" class="form-horizontal">\n                    <div class="form-group">\n                        <label for="account" class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="account" ng-model="formData.account">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="teacherStatus" type="radio" ng-model="formData.teacherStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in teacherStatusList">\n                                <input name="teacherStatus" type="radio" ng-model="formData.teacherStatus"\n                                       ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <!--<div class="form-group"  ng-if="formData.teacherStatus === \'activated\'">-->\n                    <div class="form-group"  ng-if="false">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="hideStatus" type="radio" ng-model="formData.hideStatus" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in hideStatusList">\n                                <input name="hideStatus" type="radio" ng-model="formData.hideStatus"\n                                       ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="teacherEpisodeCategory" type="radio"\n                                       ng-model="formData.teacherEpisodeCategory" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="episodeType in episodeTypeList">\n                                <input name="teacherEpisodeCategory" type="radio"\n                                       ng-model="formData.teacherEpisodeCategory" ng-value="episodeType.value">\n                                {{episodeType.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <phase-subject form-data="formData" phase-key-name="phase" subject-key-name="subjectId"\n                                   subject-value-field="id" loading-promise="phaseSubjectPromise"></phase-subject>\n\n                    <div class="form-group" ng-if="isTutorialFilter">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="verifiedPrice" type="radio" ng-model="formData.verifiedPrice" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="price in verifiedPriceLevel">\n                                <input name="verifiedPrice" type="radio" ng-model="formData.verifiedPrice"\n                                       ng-value="price">\n                                {{price}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group" ng-if="isTutorialFilter">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="currentPrice" type="radio" ng-model="formData.currentPrice" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="price in currentPriceLevel">\n                                <input name="currentPrice" type="radio" ng-model="formData.currentPrice"\n                                       ng-value="price">\n                                {{price}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select ng-model="formData.province" name="province"\n                                    ng-options="item for item in addressList track by item" class="form-control"\n                                    address>\n                                <option value=""></option>\n                            </select>\n                        </div>\n\n                        <div class="col-sm-4">\n                            <select ng-model="formData.city" name="city"\n                                    ng-options="item for item in addressList track by item" class="form-control" address\n                                    parent="formData.province">\n                                <option value=""></option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <fieldset ng-if="isTutorialFilter">\n                        <div class="form-group">\n                            <label class="col-sm-2 control-label" for="startDate"></label>\n\n                            <div class="col-sm-4">\n                                <input class="form-control" type="date" name="startDate" ng-model="formData.startDate"\n                                       id="startDate" datetime-local ng-required="formData.daysInWeek.length > 0">\n                            </div>\n\n                            <div class="col-sm-4">\n                                <input class="form-control" type="date" name="endDate" ng-model="formData.endDate"\n                                       id="endDate" datetime-local ng-required="formData.startDate > 0" end-of-date>\n                            </div>\n                        </div>\n\n                        <div class="form-group" ng-if="formData.startDate > 0">\n                            <label class="col-sm-2 control-label"></label>\n\n                            <div class="col-sm-8" check-list-scope>\n                                <label class="checkbox-inline">\n                                    <input type="checkbox" ng-model="formData.daysInWeek" check-all ng-true-value="\'\'">\n                                    \n                                </label>\n\n                                <label ng-repeat="item in daysInWeek" class="checkbox-inline">\n                                    <input type="checkbox" ng-model="formData.daysInWeek" check-list\n                                           ng-true-value="{{item.value}}">\n                                    {{item.label}}\n                                </label>\n                            </div>\n                        </div>\n\n                        <div class="form-group" ng-if="formData.startDate > 0">\n                            <label class="col-sm-2 control-label" for="startHour"></label>\n\n                            <div class="col-sm-4">\n                                <select class="form-control"\n                                        ng-options="item.value as item.label for item in classHours"\n                                        ng-model="formData.startHour" id="startHour" name="startHour">\n                                    <option value=""></option>\n                                </select>\n                            </div>\n\n                            <div class="col-sm-4">\n                                <select class="form-control"\n                                        ng-options="item.value as item.label for item in classHours"\n                                        ng-model="formData.endHour" id="endHour" name="endHour">\n                                    <option value=""></option>\n                                </select>\n                            </div>\n                        </div>\n                    </fieldset>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select class="form-control" name="rating" ng-model="formData.trialStatus"\n                                    ng-options="item.value as item.name for item in trialStatusList">\n                                <option value=""></option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!searchForm.$valid">\n                            </button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" ng-disabled="loading" tb-export csv-generator="csv"\n                   on-load-all="loadAll()" download=".csv" style="margin-left: 10px"></a>\n            </div>\n        </div>\n    </div>\n\n    <table class="table" export-csv="csv">\n        <thead>\n        <th>id</th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th ng-if="showSchedule"></th>\n        <th ng-if="showSchedule"></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th class="ng-table-filters"></th>\n        </thead>\n        <tbody>\n        <tr ng-repeat="teacher in teachers">\n            <td>{{teacher.id}}</td>\n            <td><a href="#/teachers/{{teacher.id}}">{{teacher.nickname}}</a></td>\n            <td>{{teacher.phone}}</td>\n            <td>{{teacher.verificationCreatedTime | date: \'yyyy-MM-dd\'}}</td>\n            <!--  -->\n            <td ng-if="!!teacher.publisher">{{teacher.publishedTime | date: \'yyyy-MM-dd HH:mm\'}}</td>\n            <td ng-if="!teacher.publisher"></td>\n            <td>{{teacher.publisher}}</td>\n            <td ng-if="showSchedule">\n                <a href="#/teachers/{{teacher.id}}/schedules">{{teacher.openedScheduleCount}}</a>\n            </td>\n            <td ng-if="showSchedule">\n                <a href="#/teachers/{{teacher.id}}/schedules">{{teacher.appointedScheduleCount}}</a>\n            </td>\n            <td>{{teacher.verifiedPrice}}</td>\n            <td>{{teacher.currentPrice}}</td>\n            <td>{{teacher.status | nameInArray:teacherStatusList:\'value\'}}</td>\n            <td>{{teacher.phase | nameInArray:studyPhaseList:\'value\'}}</td>\n            <td>{{teacher.subject.name}}</td>\n            <td>{{teacher.latestSchool}}</td>\n            <td>\n                <span class="label label-info" ng-if="teacher.episodeCategory.tutorialEnabled"></span>\n                <span class="label label-info" ng-if="teacher.episodeCategory.serialEnabled"></span>\n                <span class="label label-warning" ng-if="teacher.episodeCategory.lectureEnabled"></span>\n                <span class="label label-danger" ng-if="teacher.episodeCategory.seasonEnabled"></span>\n            </td>\n            <td>{{teacher.interviewStatus | interviewStatus}}</td>\n            <td class="ng-table-filters">\n                <a href="#/teachers/{{teacher.id}}/schedules"></a>\n                <a href="" ng-click="activate(teacher)" ng-if="teacher.status === \'init\'"></a>\n                <a href="" ng-click="hide(teacher, true)" ng-if="teacher.hideStatus === \'visible\'"></a>\n                <a href="" ng-click="hide(teacher, false)" ng-if="teacher.hideStatus === \'hidden\' "></a>\n                <a href="" ng-click="fire(teacher)" ng-if="teacher.status !== \'fired\'"></a>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),n.put("pages/teacher/teacherSchedule.html",'<div class="container-fluid">\n    <h2>\n        {{teacher.nickname}}\n    </h2>\n\n    <div class="btn-group">\n        <a href="#/teachers/{{teacher.id}}/schedules?startDate={{startDate - 86400000 * 7}}" class="btn btn-default"></a>\n        <a href="#/teachers/{{teacher.id}}/schedules" class="btn btn-default"></a>\n        <a href="#/teachers/{{teacher.id}}/schedules?startDate={{startDate + 86400000 * 7}}" class="btn btn-default"></a>\n    </div>\n    <br><br>\n\n    <table class="table table-bordered">\n        <thead>\n            <tr>\n                <th></th>\n                <th ng-repeat="day in days">{{day | date:\'MM.dd EEE\'}}</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="hour in hours">\n                <td>{{hour}}:00 - {{hour}}:55</td>\n                <td ng-repeat="day in days" ng-class="{active: scheduleMap[day + hour * 3600000].status === \'open\', success: scheduleMap[day + hour * 3600000].status === \'appointed\'}">\n                    <span ng-if="scheduleMap[day + hour * 3600000]">\n                        {{scheduleMap[day + hour * 3600000].status | scheduleStatus}}\n                    </span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <div class="btn-group">\n        <a href="#/teachers/{{teacher.id}}/schedules?startDate={{startDate - 86400000 * 7}}" class="btn btn-default"></a>\n        <a href="#/teachers/{{teacher.id}}/schedules" class="btn btn-default"></a>\n        <a href="#/teachers/{{teacher.id}}/schedules?startDate={{startDate + 86400000 * 7}}" class="btn btn-default"></a>\n    </div>\n</div>\n'),n.put("pages/teacher/teacherStat.html",'<div class="container-fluid">\n    <ul class="nav nav-tabs">\n        <li role="presentation"><a href="#/teachers/{{teacher.id}}"></a></li>\n        <li role="presentation" class="active"><a href="#/teachers/{{teacher.id}}/stat"></a></li>\n    </ul>\n    <br>\n\n    <h1>{{teacher.nickname}}</h1>\n\n    <h3></h3>\n    <table class="table table-bordered">\n        <thead>\n            <tr>\n                <th></th>\n                <th>2</th>\n                <th>3</th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>{{teacher.statData.tutorialPositiveRatio | ratio}}</td>\n                <td>{{teacher.statData.tutorialSecondReturnRatio | ratio}}</td>\n                <td>{{teacher.statData.tutorialThirdReturnRatio | ratio}}</td>\n                <td>{{teacher.statData.tutorialPaidOrderCount}}</td>\n                <td>{{teacher.statData.tutorialPaidOrderRatio | ratio}}</td>\n                <td>{{teacher.statData.tutorialAbsenteeismRatio | ratio}}</td>\n                <td>{{teacher.statData.tutorialIncome}}</td>\n            </tr>\n        </tbody>\n    </table>\n\n    <h3></h3>\n    <table class="table table-bordered">\n        <thead>\n            <tr>\n                <th></th>\n                <th>2</th>\n                <th>3</th>\n                <th>0</th>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>{{teacher.statData.lecturePositiveRatio | ratio}}</td>\n                <td>{{teacher.statData.lectureSecondReturnRatio | ratio}}</td>\n                <td>{{teacher.statData.lectureThirdReturnRatio | ratio}}</td>\n                <td>{{teacher.statData.lectureNotFreeEntityCount}}</td>\n                <td>{{teacher.statData.lectureAttendanceRatio | ratio}}</td>\n                <td>{{teacher.statData.lectureAbsenteeismCount}}</td>\n                <td>{{teacher.statData.lectureIncome}}</td>\n            </tr>\n        </tbody>\n    </table>\n\n    <h3></h3>\n    <table class="table table-bordered">\n        <thead>\n            <tr>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>{{teacher.statData.seasonPositiveRatio | ratio}}</td>\n                <td>{{teacher.statData.seasonAttendanceRatio | ratio}}</td>\n                <td>{{teacher.statData.seasonFullHourAttendanceRatio | ratio}}</td>\n                <td>{{teacher.statData.seasonEntityCount}}</td>\n                <td>{{teacher.statData.seasonSettledEntityCount}}</td>\n                <td>{{teacher.statData.seasonPendingEntityCount}}</td>\n                <td>{{teacher.statData.seasonStudentCount}}</td>\n                <td>{{teacher.statData.seasonIncome}}</td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n'),n.put("pages/teacher/teacherStatList.html",'<div page-loading="loadingPromise"></div>\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-sm-2">\n            <teacher-nav></teacher-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <div class="well well-sm">\n                <form name="searchForm" class="form-horizontal">\n                    <div class="form-group">\n                        <label for="account" class="col-sm-2 control-label"></label>\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="account" ng-model="formData.account" placeholder="///id">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input name="status" type="radio" ng-model="formData.status" value="">\n                                \n                            </label>\n\n                            <label class="radio-inline" ng-repeat="status in teacherStatusList">\n                                <input name="status" type="radio" ng-model="formData.status" ng-value="status.value">\n                                {{status.name}}\n                            </label>\n                        </div>\n                    </div>\n\n                    <phase-subject form-data="formData" loading-promise="phaseSubjectPromise" phase-key-name="phase" subject-key-name="subjectId" subject-value-field="id"></phase-subject>\n\n                    <div class="form-group">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()" ng-disabled="!searchForm.$valid"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n            <div class="clearfix">\n                <a class="btn btn-primary pull-right" ng-disabled="loading"  style="margin-left: 10px" ng-click=\'csv.generate()\' ng-href="{{ csv.link() }}" download=".csv">\n                   \n                </a>\n            </div>\n        </div>\n    </div>\n\n    <ul class="nav nav-tabs">\n        <li role="presentation" ng-repeat="episodeCategory in episodeTypeList" ng-class="episodeCategory.value === formData.episodeCategory ? \'active\' : null">\n            <a href="" ng-click="updateUrl(\'episodeCategory\', episodeCategory.value)">{{episodeCategory.name}}</a>\n        </li>\n    </ul>\n    <br>\n\n    <table class="table" export-csv="csv">\n        <thead>\n            <th>id</th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n\n            <th ng-if="formData.episodeCategory === \'tutorial\'"><th-order order-by="tutorialPositiveRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'tutorial\'">2<th-order order-by="tutorialSecondAndMoreReturnRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'tutorial\'">3<th-order order-by="tutorialThirdAndMoreReturnRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'tutorial\'"><th-order order-by="tutorialPaidOrderCount"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'tutorial\'"><th-order order-by="tutorialPaidOrderRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'tutorial\'"><th-order order-by="tutorialAbsenteeismRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'tutorial\'"><th-order order-by="tutorialIncome"></th-order></th>\n\n            <th ng-if="formData.episodeCategory === \'lecture\'"><th-order order-by="lecturePositiveRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'lecture\'">2<th-order order-by="lectureSecondAndMoreReturnRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'lecture\'">3<th-order order-by="lectureThirdAndMoreReturnRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'lecture\'">0<th-order order-by="lectureNotFreeEntityCount"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'lecture\'"><th-order order-by="lectureAttendanceRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'lecture\'"><th-order order-by="lectureAbsenteeismCount"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'lecture\'"><th-order order-by="lectureIncome"></th-order></th>\n\n            <th ng-if="formData.episodeCategory === \'season\'"><th-order order-by="seasonPositiveRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'season\'"><th-order order-by="seasonAttendanceRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'season\'"><th-order order-by="seasonFullHourAttendanceRatio"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'season\'"><th-order order-by="seasonEntityCount"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'season\'"><th-order order-by="seasonSettledEntityCount"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'season\'"><th-order order-by="seasonPendingEntityCount"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'season\'"><th-order order-by="seasonStudentCount"></th-order></th>\n            <th ng-if="formData.episodeCategory === \'season\'"><th-order order-by="seasonIncome"></th-order></th>\n        </thead>\n        <tbody>\n        <tr ng-repeat="teacher in teachers">\n            <td>{{teacher.id}}</td>\n            <td><a href="#/teachers/{{teacher.id}}/stat">{{teacher.nickname}}</a></td>\n            <td>\n                <span class="label label-info" ng-if="teacher.episodeCategory.tutorialEnabled"></span>\n                <span class="label label-info" ng-if="teacher.episodeCategory.serialEnabled"></span>\n                <span class="label label-warning" ng-if="teacher.episodeCategory.lectureEnabled"></span>\n                <span class="label label-danger" ng-if="teacher.episodeCategory.seasonEnabled"></span>\n            </td>\n            <td>{{teacher.phase | nameInArray:studyPhaseList:\'value\'}}</td>\n            <td>{{teacher.subject.name}}</td>\n\n            <td ng-if="formData.episodeCategory === \'tutorial\'">{{teacher.statData.tutorialPositiveRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'tutorial\'">{{teacher.statData.tutorialSecondAndMoreReturnRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'tutorial\'">{{teacher.statData.tutorialThirdAndMoreReturnRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'tutorial\'">{{teacher.statData.tutorialPaidOrderCount}}</td>\n            <td ng-if="formData.episodeCategory === \'tutorial\'">{{teacher.statData.tutorialPaidOrderRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'tutorial\'">{{teacher.statData.tutorialAbsenteeismRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'tutorial\'">{{teacher.statData.tutorialIncome}}</td>\n\n            <td ng-if="formData.episodeCategory === \'lecture\'">{{teacher.statData.lecturePositiveRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'lecture\'">{{teacher.statData.lectureSecondAndMoreReturnRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'lecture\'">{{teacher.statData.lectureThirdAndMoreReturnRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'lecture\'">{{teacher.statData.lectureNotFreeEntityCount}}</td>\n            <td ng-if="formData.episodeCategory === \'lecture\'">{{teacher.statData.lectureAttendanceRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'lecture\'">{{teacher.statData.lectureAbsenteeismCount}}</td>\n            <td ng-if="formData.episodeCategory === \'lecture\'">{{teacher.statData.lectureIncome}}</td>\n\n            <td ng-if="formData.episodeCategory === \'season\'">{{teacher.statData.seasonPositiveRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'season\'">{{teacher.statData.seasonAttendanceRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'season\'">{{teacher.statData.seasonFullHourAttendanceRatio | ratio}}</td>\n            <td ng-if="formData.episodeCategory === \'season\'">{{teacher.statData.seasonEntityCount}}</td>\n            <td ng-if="formData.episodeCategory === \'season\'">{{teacher.statData.seasonSettledEntityCount}}</td>\n            <td ng-if="formData.episodeCategory === \'season\'">{{teacher.statData.seasonPendingEntityCount}}</td>\n            <td ng-if="formData.episodeCategory === \'season\'">{{teacher.statData.seasonStudentCount}}</td>\n            <td ng-if="formData.episodeCategory === \'season\'">{{teacher.statData.seasonIncome}}</td>\n        </tr>\n        </tbody>\n    </table>\n\n    <pagination page-info="pageInfo"></pagination>\n</div>\n'),
n.put("pages/teacher/teacherTrial.html",'<div class="container-fluid" style="padding-bottom: 70px;">\n    <form novalidate name="form" ng-submit="submit()" n-form>\n        <div ng-repeat="trial in trials" class="row">\n            <div class="col-sm-8">\n                <div class="well well-sm">\n                    <img ng-src="{{trial.thumbnailId | image}}" height="200"/>\n                </div>\n            </div>\n            <div class="col-sm-4">\n                <p>\n                : {{trial.verifyStatus | trialStatus}}\n                </p>\n                <p ng-if="trial.verifyStatus === \'failed\'">\n                {{trial.verifyAdvice}}\n                </p>\n\n                <qrcode version="10" error-correction-level="L" size="180" data="{{trial.qrcodeData}}"></qrcode>\n            </div>\n        </div>\n\n\n        <div class="form-group" n-form-group ng-if="!allSuccess">\n            <span class="help-block hide" n-form-error="\'required\'" rel="status"></span>\n\n            <label class="radio-inline"><input type="radio" required ng-value="\'success\'" ng-model="formData.verifyStatus"/></label>\n            <label class="radio-inline"><input type="radio" required ng-value="\'failed\'" ng-model="formData.verifyStatus"/></label>\n        </div>\n\n        <div class="form-group" ng-if="!allSuccess">\n            <textarea class="form-control" ng-model="formData.advice" ng-if="formData.verifyStatus === \'failed\'" required placeholder=""></textarea>\n        </div>\n\n        <button class="btn btn-primary" ng-disabled="!form.$valid" ng-if="!allSuccess"></button>\n\n    </form>\n</div>\n\n<div class="modal" on-close="dialogs.setSetting = false" ng-if="dialogs.setSetting">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n\n            <form name="settingForm" class="form form-horizontal">\n                <div class="modal-body">\n                    <div class="form-group">\n                        <label class="control-label col-sm-4">: </label>\n                        <div class="col-sm-8">\n                            <label class="checkbox-inline"><input type="checkbox" ng-true-value="true" ng-false-value="false" ng-model="formData.tutorialEnabled" name="tutorialEnabled" ng-required="formData.serialEnabled"> 11</label>\n                            <label class="checkbox-inline"><input type="checkbox" ng-true-value="true" ng-false-value="false" ng-model="formData.serialEnabled" name="serialEnabled"> 11</label>\n                            <label class="checkbox-inline"><input type="checkbox" ng-true-value="true" ng-false-value="false" ng-model="formData.lectureEnabled" name="lectureEnabled"> </label>\n                            <label class="checkbox-inline"><input type="checkbox" ng-true-value="true" ng-false-value="false" ng-model="formData.seasonEnabled" name="seasonEnabled"> </label>\n                        </div>\n                    </div>\n                    <div class="form-group" ng-if="formData.tutorialEnabled">\n                        <label class="control-label col-sm-4">11: </label>\n                        <div class="col-sm-8">\n                            <label class="radio-inline" ng-repeat="price in priceLevel"><input required type="radio" ng-value="price" ng-model="formData.price" name="price"> {{price}}</label>\n                            <input class="hide" type="number" ng-model="formData.price" min="1">\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary" ng-click="submitSetting()" ng-disabled="!settingForm.$valid"></button>\n                    <button class="btn btn-default" ng-click="dialogs.setSetting = false"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("pages/teacher/teacherVerify.html",'<div class="container-fluid" style="padding-bottom: 70px;">\n    <form novalidate name="form" ng-submit="submit()">\n        <div ng-repeat="verify in verifies">\n            <div class="row" ng-if="verify.type === \'basic\'">\n                <div class="col-sm-8">\n                    <ng-include src="\'directives/verifyInfo/basic.html\'"></ng-include>\n                </div>\n                <div class="col-sm-4">\n                    <verify-form wait-to-verify="waitToVerify" teacher="teacher" verify="verify" form-data="formData.verifyResults[$index]"></verify-form>\n                </div>\n            </div>\n            <div class="row" ng-if="verify.type === \'teach-info\'">\n                <div class="col-sm-8">\n                    <ng-include src="\'directives/verifyInfo/teachInfo.html\'"></ng-include>\n                </div>\n                <div class="col-sm-4">\n                    <verify-form wait-to-verify="waitToVerify" teacher="teacher" verify="verify" form-data="formData.verifyResults[$index]"></verify-form>\n                </div>\n            </div>\n            <div class="row" ng-if="verify.type === \'identification\'">\n                <div class="col-sm-8">\n                    <ng-include src="\'directives/verifyInfo/identification.html\'"></ng-include>\n                </div>\n                <div class="col-sm-4">\n                    <verify-form wait-to-verify="waitToVerify" teacher="teacher" verify="verify" form-data="formData.verifyResults[$index]"></verify-form>\n                </div>\n            </div>\n            <div class="row" ng-if="verify.type === \'education\'">\n                <div class="col-sm-8">\n                    <ng-include src="\'directives/verifyInfo/education.html\'"></ng-include>\n                </div>\n                <div class="col-sm-4">\n                    <verify-form wait-to-verify="waitToVerify" teacher="teacher" verify="verify" form-data="formData.verifyResults[$index]"></verify-form>\n                </div>\n            </div>\n            <div class="row" ng-if="verify.type === \'experience\'">\n                <div class="col-sm-8">\n                    <ng-include src="\'directives/verifyInfo/experience.html\'"></ng-include>\n                </div>\n                <div class="col-sm-4">\n                    <verify-form wait-to-verify="waitToVerify" teacher="teacher" verify="verify" form-data="formData.verifyResults[$index]"></verify-form>\n                </div>\n            </div>\n            <div class="row" ng-if="verify.type === \'certification\'">\n                <div class="col-sm-8">\n                    <ng-include src="\'directives/verifyInfo/certification.html\'"></ng-include>\n                </div>\n                <div class="col-sm-4">\n                    <verify-form wait-to-verify="waitToVerify" teacher="teacher" verify="verify" form-data="formData.verifyResults[$index]"></verify-form>\n                </div>\n            </div>\n            <hr>\n        </div>\n\n        <div class="row">\n            <div class="col-sm-8">\n                <teacher-log teacher="teacher"></teacher-log>\n            </div>\n        </div>\n        <hr>\n\n        <div class="navbar navbar-default navbar-fixed-bottom">\n            <div class="container">\n                <div class="col-sm-4 col-sm-offset-8">\n                    <div class="navbar-form">\n                        <button class="btn btn-primary" ng-disabled="!form.$valid || !waitToVerify"></button>\n                        <button class="btn btn-primary" ng-disabled="allTypeWaitToVerifyStatus === false || pendingStatus === true || processed === true " ng-click="pend()"></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n\n<publish-teacher teacher-id="teacherId" verify-results="formData.verifyResults" ng-if="temp.publishTeacher" on-success="temp.publishTeacher = false; reload();" on-close="temp.publishTeacher = false"></publish-teacher>\n'),n.put("pages/teacher/trialList.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid" page-name="home">\n    <div class="row">\n        <div class="col-sm-2">\n            <teacher-nav></teacher-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <verify-nav></verify-nav>\n            <br>\n            <div class="well well-sm">\n                <form class="form-horizontal">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="phone"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="phone" ng-model="formData.phone">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="nickname"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="nickname" ng-model="formData.nickname">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input type="radio" value="pending" name="trialStatus" ng-model="formData.trialStatus">\n                                \n                            </label>\n                            <label class="radio-inline">\n                                <input type="radio" value="failed" name="trialStatus" ng-model="formData.trialStatus">\n                                \n                            </label>\n                        </div>\n                    </div>\n\n                    <phase-subject form-data="formData" loading-promise="phaseSubjectPromise"></phase-subject>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select ng-model="formData.province" name="province" ng-options="item for item in addressList track by item" class="form-control" address>\n                                <option value=""></option>\n                            </select>\n                        </div>\n\n                        <div class="col-sm-4">\n                            <select ng-model="formData.city" name="city" ng-options="item for item in addressList track by item" class="form-control" address parent="formData.province">\n                                <option value=""></option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select class="form-control" name="rating" ng-model="formData.rating" ng-options="item.value as item.name for item in ratings"><option value=""></option></select>\n                        </div>\n                    </div>\n\n                    <div class="row">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <table class="table">\n        <thead>\n            <th></th>\n            <th></th>\n            <th ng-if="trialStatus === \'failed\'"></th>\n            <th ng-if="trialStatus === \'failed\'"></th>\n            <th></th>\n        </thead>\n        <tbody>\n            <tr ng-repeat="teacher in teachers" ng-init="trial = getLatestTrial(teacher.id)">\n                <td>{{teacher.nickname}}</td>\n                <td>{{teacher.account}}</td>\n                <td ng-if="trialStatus === \'failed\'">{{trial.verifiedTime | date: \'yyyy-MM-dd HH:mm\'}}</td>\n                <td ng-if="trialStatus === \'failed\'"></td>\n                <td>\n                    <a href="#/teachers/{{teacher.id}}/trials" ng-if="trialStatus === \'pending\'"></a>\n                    <a href="#/teachers/{{teacher.id}}/trials" ng-if="trialStatus === \'failed\'"></a>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <pagination page-info="pageInfo"></pagination>\n\n</div>\n'),n.put("pages/teacher/verifyList.html",'<div page-loading="loadingPromise"></div>\n<div class="page container-fluid" page-name="home">\n    <div class="row">\n        <div class="col-sm-2">\n            <teacher-nav></teacher-nav>\n        </div>\n\n        <div class="col-sm-8">\n            <verify-nav></verify-nav>\n            <br>\n            <div class="well well-sm">\n                <form class="form-horizontal">\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="phone"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="phone" ng-model="formData.phone">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label" for="nickname"></label>\n\n                        <div class="col-sm-8">\n                            <input type="text" class="form-control" id="nickname" ng-model="formData.nickname">\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input type="radio" value="waitToVerify" name="status" ng-model="formData.status">\n                                \n                            </label>\n                            <label class="radio-inline">\n                                <input type="radio" value="verifyFail" name="status" ng-model="formData.status">\n                                \n                            </label>\n                            <label class="radio-inline">\n                                <input type="radio" value="verifySuccess" name="status" ng-model="formData.status">\n                                \n                            </label>\n                        </div>\n                    </div>\n\n\n                    <div class="form-group" ng-if="formData.status === \'waitToVerify\'" >\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-8">\n                            <label class="radio-inline">\n                                <input type="radio" value="not_pend" required name="pendingStatus" ng-model="formData.pendingStatus">\n                                \n                            </label>\n                            <label class="radio-inline" >\n                                <input type="radio" value="pending" required name="pendingStatus" ng-model="formData.pendingStatus">\n                                \n                            </label>\n                        </div>\n                    </div>\n\n                    <phase-subject form-data="formData" loading-promise="phaseSubjectPromise"></phase-subject>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select ng-model="formData.province" name="province" ng-options="item for item in addressList track by item" class="form-control" address>\n                                <option value=""></option>\n                            </select>\n                        </div>\n\n                        <div class="col-sm-4">\n                            <select ng-model="formData.city" name="city" ng-options="item for item in addressList track by item" class="form-control" address parent="formData.province">\n                                <option value=""></option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select class="form-control" name="rating" ng-model="formData.rating" ng-options="item.value as item.name for item in ratings"><option value=""></option></select>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label class="col-sm-2 control-label"></label>\n\n                        <div class="col-sm-4">\n                            <select class="form-control" name="rating" ng-model="formData.trialStatus" ng-options="item.value as item.name for item in trialStatusList"><option value=""></option></select>\n                        </div>\n                    </div>\n\n                    <div class="row">\n                        <div class="col-sm-8 col-sm-offset-2">\n                            <button class="btn btn-primary" ng-click="search()"></button>\n                            <button class="btn btn-default" ng-click="reset()"></button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <form class="col-sm-12">\n        <button ng-if="showBatchSelector" ng-click="showBatchFailDialog()" class="btn btn-primary pull-right"></button>\n        <table class="table" select-list-scope>\n            <thead>\n                <th ng-if="showBatchSelector"><input type="checkbox" ng-model="temp.selectedIds" select-all></th>\n                <th></th>\n                <th></th>\n                <th></th>\n                <th ng-if="status === \'verifyFail\'"></th>\n                <th ng-if="status === \'verifyFail\'"></th>\n                <th></th>\n                <th></th>\n            </thead>\n            <tbody>\n                <tr ng-repeat="teacher in teachers">\n                    <td ng-if="showBatchSelector"><input type="checkbox" ng-model="temp.selectedIds" ng-true-value="{{teacher.id}}" select-list></td>\n                    <td nickname teacher="teacher"></td>\n                    <td>{{teacher.account}}</td>\n                    <td>{{teacher.createdTime | date: \'yyyy-MM-dd HH:mm\'}}</td>\n                    <td ng-if="status === \'verifyFail\'">{{teacher.verifiedTime | date: \'yyyy-MM-dd HH:mm\'}}</td>\n                    <td ng-if="status === \'verifyFail\'">{{teacher.auditor.nickname}}</td>\n                    <td>\n                        <span ng-if="teacher.show" class="text-success">\n                            <i class="fa fa-check fa-fw"></i>\n                        </span>\n                        <span ng-if="!teacher.show" class="text-danger">\n                            <i class="fa fa-times fa-fw"></i>\n                        </span>\n                    </td>\n                    <td>\n                        <a href="#/teachers/{{teacher.id}}/verifies" ng-if="status === \'waitToVerify\'"></a>\n                        <a href="#/teachers/{{teacher.id}}/verifies" ng-if="status === \'verifyFail\'"></a>\n                        <a href="#/teachers/{{teacher.id}}" ng-if="status === \'verifySuccess\'"></a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </form>\n    <pagination page-info="pageInfo"></pagination>\n</div>\n\n<div class="modal" on-close="dialogs.batchReject = false" ng-if="dialogs.batchReject">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"></h4>\n            </div>\n\n            <form name="priceForm" class="form">\n                <div class="modal-body">\n                    <div class="form-group clearfix">\n                        <p for="nickname" class="control-label"></p>\n                        <textarea class="col-sm-12" ng-model="batchAdvice"></textarea>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary" ng-click="batchFail()"></button>\n                    <button class="btn btn-default" ng-click="dialogs.batchReject = false"></button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n'),n.put("directives/common/backHeader/backHeader.html",'<div class="well well-sm" style="border: none;border-radius: 0">\n    <a href="" ng-click="back()"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span> </a>\n    <span class="separator">|</span>\n    <strong>{{headerTitle}}</strong>\n    <ng-transclude></ng-transclude>\n</div>\n'),n.put("directives/common/loading/dialogLoading.html",'<div class="dialog-loading" ng-if="loading">\n    <i class="fa fa-spin fa-circle-o-notch"></i>\n</div>\n'),n.put("directives/common/loading/pageLoading.html",'<div class="page-cover-layer" ng-if="loading">\n    <i class="fa fa-spin fa-circle-o-notch"></i>\n</div>\n'),n.put("directives/common/pagination/pagination.html",'<div class="clearfix">\n    <ul class="pagination pull-right" ng-if="pages.length > 1">\n        <li ng-if="pages.length > 1 && pageInfo.currentPage !== 0">\n            <a href="" ng-click="switchPage(pageInfo.currentPage - 1)"></a>\n        </li>\n        <li ng-repeat="pageItem in pages track by $index" ng-class="{active: pageItem.page === pageInfo.currentPage}">\n            <a href="" ng-click="switchPage(pageItem.page)" ng-if="pageItem.isNumber">{{pageItem.page + 1}}</a>\n            <span class="dots" ng-if="pageItem.isDots">...</span>\n        </li>\n        <li ng-if="pages.length > 1 && pageInfo.currentPage !== pageInfo.totalPage - 1">\n            <a href="" ng-click="switchPage(pageInfo.currentPage + 1)"></a>\n        </li>\n    </ul>\n    <span class="text-muted pull-right" style="margin: 20px 0; height: 34px; line-height: 34px; margin-right: 10px;"> {{pageInfo.totalItem}} </span>\n    <a ng-if="!hideAll && pages.length > 1" href="" class="pull-right" style="margin: 20px 0; height: 34px; line-height: 34px; margin-right: 10px;" ng-click="showAll()"></a>\n</div>\n'),n.put("directives/common/returnTop/returnTop.html",'<div scroll on-scroll="temp.scrollTop = false" ng-if="temp.scrollTop"></div>\n<div class="return-top" ng-click="temp.scrollTop = true"></div>\n'),n.put("directives/common/table/thOrder.html",'<span ng-if="currentOrderBy != orderBy">\n    <span class="fa fa-sort-amount-desc" ng-click="toggleOrderBy(\'DESC\')"></span>\n</span>\n\n<span ng-if="currentOrderBy == orderBy && sortType === \'ASC\'">\n    <span class="active fa fa-sort-amount-asc" ng-click="toggleOrderBy(\'DESC\')"></span>\n</span>\n\n<span ng-if="currentOrderBy == orderBy && sortType === \'DESC\'">\n    <span class="active fa fa-sort-amount-desc" ng-click="toggleOrderBy(\'ASC\')"></span>\n</span>\n'),n.put("directives/common/upload/uploadFile.html",'<div loading="uploadTask">\n    <dialog class="dialog col-sm-4" ng-if="loading">\n        <div style="padding: 10px">\n            <div class="progress">\n                <div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="{{uploadProgress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{uploadProgress}}%"></div>\n            </div>\n            <div>{{loadingText}}</div>\n        </div>\n    </dialog>\n</div>\n'),n.put("directives/common/form/item/calendar.html",'<div class="calendar-container">\n    <div class="input-container">\n        <input class="calendar-input form-control" type="date" disabled name="{{inputName}}" ng-model="formData.selectedDate" min="{{userOptions.startDateFormat}}" max="{{userOptions.endDateFormat}}">\n        <span class="icon-calendar" ng-click="showCalendar()" ng-disabled="disabled">\n            <img class="normal" src="images/icon-calendar-N-e4ba634cc1.png">\n            <img class="hover" src="images/icon-calendar-H-e6b9ed4f14.png">\n        </span>\n    </div>\n    <div class="calendar" ng-if="isShow" ng-blur="hideCalendar()" tabindex="-1">\n        <div class="calendar-header">\n            <div class="btn-angle left-angle" ng-click="toWeek(-1)">\n                <i class="fa fa-angle-left"></i>\n            </div>\n            <div class="date-bar">\n                <div class="month">{{month + 1}}</div>\n                <div class="year">{{year}}</div>\n            </div>\n            <div class="btn-angle right-angle" ng-click="toWeek(1)">\n                <i class="fa fa-angle-right"></i>\n            </div>\n        </div>\n        <div class="calendar-body">\n            <div class="calendar-row">\n                <div class="body-header header-cell" ng-repeat="column in columnRange">{{weekdays[column]}}</div>\n            </div>\n            <div class="body-content" ng-repeat="row in rowRange">\n                <div class="calendar-row">\n                    <div class="body-cell" ng-repeat="column in columnRange" ng-class="{today: todayStartTime === days[row * 7 + column].startTime, \'first-row\': row === 0, \'first-column\': column === 0, \'out-of-month\': days[row * 7 + column].startTime > monthEndTime || days[row * 7 + column].startTime < monthStartTime, disabled: days[row * 7 + column].startTime < userOptions.startDate || days[row * 7 + column].startTime > userOptions.endDate, selected: days[row * 7 + column].startTime === selectedDate}" ng-click="onSelected(days[row * 7 + column].startTime)">\n                        <div class="inner-cell">\n                            {{days[row * 7 + column].dayOfMonth}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("directives/common/form/item/contentImage.html",'<div ng-if="isNotEdit">\n    <div ng-bind-html="content" class="form-control-static"></div>\n    <div class="images clearfix">\n        <a href="{{imageId | image}}" target="_blank" ng-repeat="imageId in formData[imagesKeyName]">\n            <img ng-src="{{imageId | image}}" style="cursor: pointer; width: 100px; height: 100px">\n        </a>\n    </div>\n</div>\n\n<div ng-if="!isNotEdit">\n    <textarea name="{{contentKeyName}}" class="form-control description" ng-model="formData[contentKeyName]" required ng-trim="false" placeholder=""></textarea>\n    <div>\n        <img src="images/add-image-9a436981d4.png" width="21px" height="16px" alt="add image">\n        <span class="btn btn-link btn-no-padding-left btn-no-padding-right add-link" select-image image="temp.uploadImageUrl"></span>\n    </div>\n    <div class="clearfix">\n        <div ng-repeat="imageId in formData[imagesKeyName]" class="pull-left image-wrap">\n            <div ng-click="removeImage($index)" class="remove-image">\n                <img src="images/close-image-9535d560b9.png" width="12px" height="12px">\n            </div>\n            <a href="{{imageId | image}}" target="_blank">\n                <img ng-src="{{imageId | image}}" width="60px" height="60px">\n            </a>\n        </div>\n    </div>\n    <upload-image ng-if="temp.uploadImageUrl" image-url="temp.uploadImageUrl" loading-text="..." ng-model="temp.uploadImageId" model-type="id" on-upload-error="onUploadError()"></upload-image>\n</div>\n'),n.put("directives/common/form/item/filterBar.html",'<div ng-repeat="option in options track by option.value" ng-disabled="disabled" ng-class="option.classes" class="filter-item-wrap">\n    <div class="filter-item" ng-disabled="disabled"  ng-click="select(option.value)"  ng-class="{active: selectedMap[option.value] || option.value === selectedValue}">\n        {{option.desc}}\n    </div>\n    <span class="filter-item-postfix text-muted" ng-disabled="disabled" ng-if="option.postfix">\n        {{option.postfix}}\n    </span>\n</div>\n'),n.put("directives/common/form/item/gradeSubject.html",'<div ng-if="showType === \'radio\' || showType === \'checkbox\'">\n    <div class="form-group">\n        <label class="control-label" ng-class="labelWidthClass"></label>\n\n        <div ng-class="controlWidthClass" ng-if="showType === \'radio\'">\n            <label class="radio-inline">\n                <input name="grade" type="radio" ng-model="formData[gradeKeyName]" value="">\n                \n            </label>\n\n            <label class="radio-inline" ng-repeat="grade in gradeList">\n                <input name="grade" type="radio" ng-model="formData[gradeKeyName]" ng-value="grade.id">\n                {{grade.name}}\n            </label>\n        </div>\n\n        <div ng-class="controlWidthClass" ng-if="showType === \'checkbox\'" check-list-scope>\n            <label class="checkbox-inline">\n                <input type="checkbox" ng-model="formData[gradeKeyName]" ng-true-value="\'\'" check-all>\n                \n            </label>\n\n            <label class="checkbox-inline" ng-repeat="grade in gradeList">\n                <input type="checkbox" ng-model="formData[gradeKeyName]" ng-true-value="{{grade.id}}" check-list>\n                {{grade.name}}\n            </label>\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="control-label" ng-class="labelWidthClass"></label>\n\n        <div ng-class="controlWidthClass" ng-if="showType === \'radio\'">\n            <label class="radio-inline">\n                <input name="subject" type="radio" ng-model="formData[subjectKeyName]" value="">\n                \n            </label>\n\n            <label class="radio-inline" ng-repeat="subject in subjectList">\n                <input name="subject" type="radio" ng-model="formData[subjectKeyName]" ng-value="subjectIdOrPrefix === \'prefix\' ? subject.prefix : subject.id">\n                {{subject.name}}\n            </label>\n        </div>\n\n        <div ng-class="controlWidthClass" ng-if="showType === \'checkbox\'" check-list-scope="">\n            <label class="checkbox-inline">\n                <input type="checkbox" ng-model="formData[subjectKeyName]" ng-true-value="\'\'" check-all>\n                \n            </label>\n\n            <label class="checkbox-inline" ng-repeat="subject in subjectList">\n                <input type="checkbox" ng-model="formData[subjectKeyName]" ng-true-value="\'{{subjectIdOrPrefix === \'prefix\' ? subject.prefix : subject.id}}\'" check-list>\n                {{subject.name}}\n            </label>\n        </div>\n    </div>\n\n    <div class="form-group" ng-if="isShowMajor()">\n        <label class="control-label" ng-class="labelWidthClass"></label>\n\n        <div ng-class="controlWidthClass">\n            <label class="radio-inline">\n                <input name="major" type="radio" ng-model="formData[majorKeyName]" value="">\n                \n            </label>\n\n            <label class="radio-inline" ng-repeat="major in majorList">\n                <input name="major" type="radio" ng-model="formData[majorKeyName]" ng-value="major.value">\n                {{major.name}}\n            </label>\n        </div>\n    </div>\n</div>\n\n<div ng-if="showType === \'select\'">\n    <div class="form-group">\n        <label class="control-label" ng-class="labelWidthClass" for="grade"></label>\n\n        <div ng-class="controlWidthClass">\n            <select class="form-control" id="grade" name="grade" ng-model="formData[gradeKeyName]" ng-options="grade.id as grade.name for grade in gradeList">\n                <option value="" disabled></option>\n            </select>\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="control-label" ng-class="labelWidthClass"></label>\n\n        <div ng-class="controlWidthClass">\n            <select class="form-control" name="subject" ng-model="formData[subjectKeyName]" ng-options="subject.prefix as subject.name for subject in subjectList" ng-if="subjectIdOrPrefix === \'prefix\'">\n                <option value="" disabled></option>\n            </select>\n            <select class="form-control" name="subject" ng-model="formData[subjectKeyName]" ng-options="subject.id as subject.name for subject in subjectList" ng-if="subjectIdOrPrefix === \'id\'">\n                <option value="" disabled></option>\n            </select>\n        </div>\n    </div>\n\n    <div class="form-group" ng-if="isShowMajor()">\n        <label class="control-label" ng-class="labelWidthClass" for="major"></label>\n\n        <div ng-class="controlWidthClass">\n            <select class="form-control" id="major" name="major" ng-model="formData[majorKeyName]" ng-options="major.value as major.name for major in majorList">\n                <option value="" disabled></option>\n            </select>\n        </div>\n    </div>\n</div>\n\n'),
n.put("directives/common/form/item/inputDatetime.html",'<div class="time-wrap">\n    <calendar class="calendar-wrap" ng-model="date" disabled="disabled" options="calendarOptions"></calendar>\n    <input-time class="input-time-wrap" disabled="!date || disabled" ng-model="datetime" date="date" disable-end-time="true"></input-time>\n    <input type="hidden" ng-model="datetime" required="restriction.required">\n</div>\n'),n.put("directives/common/form/item/inputTime.html",'<select class="form-control select-input-width" ng-options="hour.id as hour.name for hour in hours" ng-model="hour" ng-change="onChange()" ng-disabled="disabled">\n    <option value="" disabled></option>\n</select>\n<select class="form-control select-input-width" ng-options="minute.id as minute.name for minute in minutes" ng-model="minute" ng-change="onChange()" ng-disabled="disabled">\n    <option value="" disabled></option>\n</select>\n<div class="form-control-static-text" ng-if="!disableEndTime && endTime"></div>\n<div class="form-control-static-text" ng-if="!disableEndTime">{{endTime}}</div>\n'),n.put("directives/common/form/item/phaseSubject.html",'<div class="form-group">\n    <label class="control-label" ng-class="labelWidthClass"></label>\n\n    <div ng-class="controlWidthClass">\n        <label class="radio-inline">\n            <input name="studyPhase" type="radio" ng-model="formData[phaseKeyName]" value="">\n            \n        </label>\n\n        <label class="radio-inline" ng-repeat="studyPhase in studyPhaseList">\n            <input name="studyPhase" type="radio" ng-model="formData[phaseKeyName]" ng-value="studyPhase.value">\n            {{studyPhase.name}}\n        </label>\n    </div>\n</div>\n\n<div class="form-group">\n    <label class="control-label" ng-class="labelWidthClass"></label>\n\n    <div ng-class="controlWidthClass">\n        <label class="radio-inline">\n            <input name="subject" type="radio" ng-model="formData[subjectKeyName]" value="">\n            \n        </label>\n\n        <label class="radio-inline" ng-repeat="subject in subjectList">\n            <input name="subject" type="radio" ng-model="formData[subjectKeyName]" ng-value="subject[subjectValueField]">\n            {{subject.name}}\n        </label>\n    </div>\n</div>\n'),n.put("directives/common/form/item/semesterSelector.html",'<div class="form-group">\n    <label class="control-label" ng-class="labelWidthClass">{{labelName}}</label>\n\n    <div ng-class="controlWidthClass">\n        <select class="form-control pull-left" style="width: 65px; margin-right: 5px;" ng-model="year" ng-options="item for item in years"><option value=""></option></select>\n\n        <select class="form-control pull-left" style="width: 65px;" ng-model="type" ng-options="item.id as item.name for item in types"><option value=""></option></select>\n    </div>\n</div>\n'),n.put("directives/common/form/item/tag.html",'<div class="form-group">\n    <label class="col-sm-2 control-label" ng-class="labelWidthClass">Tag</label>\n\n    <div class="col-sm-8" check-list-scope>\n\n        <label class="checkbox-inline">\n            <input type="checkbox" ng-model="formData.tagIds" ng-true-value="\'\'" check-all>\n            \n        </label>\n\n        <label class="checkbox-inline" ng-repeat="tag in tagList">\n            <input type="checkbox" ng-model="formData.tagIds" ng-true-value="{{tag.id}}" check-list>\n            {{tag.name}}\n        </label>\n    </div>\n</div>')}]);